2018-11-10 14:56:42.971 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 14:56:43.141 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 14:56:43.174 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 14:56:43.225 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 14:56:43.267 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 14:56:43.281 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 14:56:43.288 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 14:56:43.324 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 14:56:43.354 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 14:56:43.399 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 14:56:43.408 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 14:56:43.675 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 14:56:43.745 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 14:56:43.751 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 14:56:43.753 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 14:56:43.754 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 14:56:43.755 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 14:56:44.607 +07:00 [Debug] Hosting starting
2018-11-10 14:56:45.101 +07:00 [Debug] Hosting started
2018-11-10 14:56:45.101 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 14:56:45.102 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 14:56:45.102 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 14:56:45.208 +07:00 [Debug] Connection id ""0HLI6S87JLLIK"" started.
2018-11-10 14:56:45.912 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 14:56:46.241 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 14:56:46.481 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 14:56:47.050 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 14:56:49.506 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 14:56:49.510 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 14:56:49.599 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-10 14:56:49.663 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 14:56:49.663 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 14:56:49.674 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-10 14:56:50.723 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 14:56:51.426 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser e in DbSet<ApplicationUser>
where Property([e], \"Id\") == __get_Item_0
select [e]).FirstOrDefault()"'
2018-11-10 14:56:51.669 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser e in DbSet<ApplicationUser>
where Property([e], \"Id\") == __get_Item_0
select [e]).FirstOrDefault()"'
2018-11-10 14:56:52.315 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
                        FROM [AspNetUsers] AS [e]
                        WHERE [e].[Id] = @__get_Item_0, 
                    shaper: BufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 14:56:52.583 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:56:53.248 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:56:53.483 +07:00 [Debug] Executing DbCommand [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-11-10 14:56:53.922 +07:00 [Information] Executed DbCommand ("520"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-11-10 14:56:54.365 +07:00 [Debug] A data reader was disposed.
2018-11-10 14:56:54.369 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:56:54.408 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:56:54.452 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 14:56:54.823 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 14:56:54.866 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 14:56:55.110 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 14:56:55.112 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:56:55.119 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:56:55.119 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 14:56:55.135 +07:00 [Information] Executed DbCommand ("15"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 14:56:55.143 +07:00 [Debug] A data reader was disposed.
2018-11-10 14:56:55.143 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:56:55.143 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:56:55.252 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 14:56:55.268 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 14:56:55.367 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 14:56:55.368 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:56:55.369 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:56:55.369 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 14:56:55.381 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 14:56:55.384 +07:00 [Debug] A data reader was disposed.
2018-11-10 14:56:55.385 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:56:55.385 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:56:55.444 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 14:56:55.502 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 14:56:55.510 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 14:56:57.329 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 14:57:01.171 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-10 14:57:06.351 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 5170.103ms.
2018-11-10 14:57:06.906 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-10 14:57:07.139 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 231.7275ms.
2018-11-10 14:57:07.276 +07:00 [Debug] Executing action "/Index"
2018-11-10 14:57:07.459 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 14:57:07.465 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 14:57:08.005 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-10 14:57:08.492 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-10 14:57:09.054 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 561.5758ms.
2018-11-10 14:57:09.099 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 14:57:09.110 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 14:57:09.173 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 14:57:09.173 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 14:57:09.354 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-10 14:57:09.642 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-10 14:57:09.849 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 206.7939ms.
2018-11-10 14:57:09.958 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 14:57:10.005 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 14:57:10.022 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 14:57:10.290 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 14:57:10.524 +07:00 [Information] Executed action "/Index" in 3243.6668ms
2018-11-10 14:57:10.547 +07:00 [Debug] Connection id ""0HLI6S87JLLIM"" started.
2018-11-10 14:57:10.547 +07:00 [Debug] Connection id ""0HLI6S87JLLIN"" started.
2018-11-10 14:57:10.547 +07:00 [Debug] Connection id ""0HLI6S87JLLIL"" started.
2018-11-10 14:57:10.549 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/lib/jquery/dist/jquery.js  
2018-11-10 14:57:10.549 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/lib/bootstrap/dist/css/bootstrap.css  
2018-11-10 14:57:10.550 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/css/site.css  
2018-11-10 14:57:10.551 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 14:57:10.593 +07:00 [Debug] Connection id ""0HLI6S87JLLIK"" completed keep alive response.
2018-11-10 14:57:10.614 +07:00 [Information] Request finished in 24743.4548ms 200 text/html; charset=utf-8
2018-11-10 14:57:10.627 +07:00 [Information] The file "/css/site.css" was not modified
2018-11-10 14:57:10.627 +07:00 [Information] The file "/lib/bootstrap/dist/css/bootstrap.css" was not modified
2018-11-10 14:57:10.627 +07:00 [Information] The file "/lib/jquery/dist/jquery.js" was not modified
2018-11-10 14:57:10.647 +07:00 [Debug] Handled. Status code: 304 File: "/css/site.css"
2018-11-10 14:57:10.647 +07:00 [Debug] Handled. Status code: 304 File: "/lib/jquery/dist/jquery.js"
2018-11-10 14:57:10.647 +07:00 [Debug] Handled. Status code: 304 File: "/lib/bootstrap/dist/css/bootstrap.css"
2018-11-10 14:57:10.659 +07:00 [Debug] Connection id ""0HLI6S87JLLIN"" completed keep alive response.
2018-11-10 14:57:10.659 +07:00 [Debug] Connection id ""0HLI6S87JLLIM"" completed keep alive response.
2018-11-10 14:57:10.659 +07:00 [Information] Request finished in 109.6781ms 304 text/css
2018-11-10 14:57:10.660 +07:00 [Information] Request finished in 110.4157ms 304 application/javascript
2018-11-10 14:57:10.659 +07:00 [Debug] Connection id ""0HLI6S87JLLIL"" completed keep alive response.
2018-11-10 14:57:10.660 +07:00 [Information] Request finished in 111.1096ms 304 text/css
2018-11-10 14:57:10.678 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/lib/bootstrap/dist/js/bootstrap.js  
2018-11-10 14:57:10.680 +07:00 [Information] The file "/lib/bootstrap/dist/js/bootstrap.js" was not modified
2018-11-10 14:57:10.680 +07:00 [Debug] Handled. Status code: 304 File: "/lib/bootstrap/dist/js/bootstrap.js"
2018-11-10 14:57:10.680 +07:00 [Debug] Connection id ""0HLI6S87JLLIK"" completed keep alive response.
2018-11-10 14:57:10.681 +07:00 [Information] Request finished in 2.4177ms 304 application/javascript
2018-11-10 14:57:10.685 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/js/site.js?v=EWaMeWsJBYWmL2g_KkgXZQ5nPe-a3Ichp0LEgzXczKo  
2018-11-10 14:57:10.686 +07:00 [Information] The file "/js/site.js" was not modified
2018-11-10 14:57:10.686 +07:00 [Debug] Handled. Status code: 304 File: "/js/site.js"
2018-11-10 14:57:10.686 +07:00 [Debug] Connection id ""0HLI6S87JLLIN"" completed keep alive response.
2018-11-10 14:57:10.686 +07:00 [Information] Request finished in 1.8778ms 304 application/javascript
2018-11-10 14:57:10.712 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/images/banner1.svg  
2018-11-10 14:57:10.713 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/images/banner2.svg  
2018-11-10 14:57:10.713 +07:00 [Information] The file "/images/banner1.svg" was not modified
2018-11-10 14:57:10.714 +07:00 [Debug] Handled. Status code: 304 File: "/images/banner1.svg"
2018-11-10 14:57:10.714 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/images/banner3.svg  
2018-11-10 14:57:10.714 +07:00 [Debug] Connection id ""0HLI6S87JLLIM"" completed keep alive response.
2018-11-10 14:57:10.714 +07:00 [Information] The file "/images/banner2.svg" was not modified
2018-11-10 14:57:10.714 +07:00 [Information] Request finished in 2.1339ms 304 image/svg+xml
2018-11-10 14:57:10.714 +07:00 [Debug] Handled. Status code: 304 File: "/images/banner2.svg"
2018-11-10 14:57:10.715 +07:00 [Debug] Connection id ""0HLI6S87JLLIL"" completed keep alive response.
2018-11-10 14:57:10.715 +07:00 [Information] The file "/images/banner3.svg" was not modified
2018-11-10 14:57:10.715 +07:00 [Information] Request finished in 2.1125ms 304 image/svg+xml
2018-11-10 14:57:10.715 +07:00 [Debug] Handled. Status code: 304 File: "/images/banner3.svg"
2018-11-10 14:57:10.716 +07:00 [Debug] Connection id ""0HLI6S87JLLIK"" completed keep alive response.
2018-11-10 14:57:10.716 +07:00 [Information] Request finished in 2.1236ms 304 image/svg+xml
2018-11-10 14:57:10.843 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2  
2018-11-10 14:57:10.844 +07:00 [Information] The file "/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2" was not modified
2018-11-10 14:57:10.845 +07:00 [Debug] Handled. Status code: 304 File: "/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2"
2018-11-10 14:57:10.845 +07:00 [Debug] Connection id ""0HLI6S87JLLIN"" completed keep alive response.
2018-11-10 14:57:10.846 +07:00 [Information] Request finished in 2.4681ms 304 font/woff2
2018-11-10 14:57:10.849 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/images/banner4.svg  
2018-11-10 14:57:10.851 +07:00 [Information] The file "/images/banner4.svg" was not modified
2018-11-10 14:57:10.851 +07:00 [Debug] Handled. Status code: 304 File: "/images/banner4.svg"
2018-11-10 14:57:10.852 +07:00 [Debug] Connection id ""0HLI6S87JLLIM"" completed keep alive response.
2018-11-10 14:57:10.852 +07:00 [Information] Request finished in 2.552ms 304 image/svg+xml
2018-11-10 14:58:35.061 +07:00 [Debug] Connection id ""0HLI6S87JLLIL"" received FIN.
2018-11-10 14:58:35.061 +07:00 [Debug] Connection id ""0HLI6S87JLLIM"" received FIN.
2018-11-10 14:58:35.061 +07:00 [Debug] Connection id ""0HLI6S87JLLIK"" received FIN.
2018-11-10 14:58:35.061 +07:00 [Debug] Connection id ""0HLI6S87JLLIN"" received FIN.
2018-11-10 14:58:35.067 +07:00 [Debug] Connection id ""0HLI6S87JLLIN"" disconnecting.
2018-11-10 14:58:35.067 +07:00 [Debug] Connection id ""0HLI6S87JLLIL"" disconnecting.
2018-11-10 14:58:35.067 +07:00 [Debug] Connection id ""0HLI6S87JLLIM"" disconnecting.
2018-11-10 14:58:35.067 +07:00 [Debug] Connection id ""0HLI6S87JLLIK"" disconnecting.
2018-11-10 14:58:35.084 +07:00 [Debug] Connection id ""0HLI6S87JLLIN"" sending FIN.
2018-11-10 14:58:35.084 +07:00 [Debug] Connection id ""0HLI6S87JLLIM"" sending FIN.
2018-11-10 14:58:35.084 +07:00 [Debug] Connection id ""0HLI6S87JLLIK"" sending FIN.
2018-11-10 14:58:35.084 +07:00 [Debug] Connection id ""0HLI6S87JLLIL"" sending FIN.
2018-11-10 14:58:35.092 +07:00 [Debug] Connection id ""0HLI6S87JLLIL"" stopped.
2018-11-10 14:58:35.092 +07:00 [Debug] Connection id ""0HLI6S87JLLIK"" stopped.
2018-11-10 14:58:35.092 +07:00 [Debug] Connection id ""0HLI6S87JLLIM"" stopped.
2018-11-10 14:58:35.092 +07:00 [Debug] Connection id ""0HLI6S87JLLIN"" stopped.
2018-11-10 14:58:55.151 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 14:58:55.313 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 14:58:55.342 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 14:58:55.390 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 14:58:55.431 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 14:58:55.445 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 14:58:55.453 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 14:58:55.487 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 14:58:55.511 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 14:58:55.550 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 14:58:55.556 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 14:58:55.759 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 14:58:55.812 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 14:58:55.816 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 14:58:55.817 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 14:58:55.818 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 14:58:55.819 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 14:58:56.677 +07:00 [Debug] Hosting starting
2018-11-10 14:58:57.113 +07:00 [Debug] Connection id ""0HLI6S9ETP41F"" started.
2018-11-10 14:58:57.127 +07:00 [Debug] Hosting started
2018-11-10 14:58:57.128 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 14:58:57.128 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 14:58:57.128 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 14:58:57.661 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 14:58:57.979 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 14:58:58.208 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 14:58:58.678 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 14:58:58.863 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 14:58:58.920 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 14:58:58.939 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 14:59:00.191 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 14:59:00.591 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 14:59:01.002 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 14:59:01.018 +07:00 [Information] Test log
2018-11-10 14:59:01.279 +07:00 [Debug] Connection id ""0HLI6S9ETP41G"" started.
2018-11-10 14:59:01.284 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 14:59:01.286 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 14:59:01.287 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 14:59:01.288 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 14:59:01.293 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 14:59:01.311 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 14:59:01.311 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 14:59:01.325 +07:00 [Verbose] Processing discovery request.
2018-11-10 14:59:01.326 +07:00 [Debug] Start discovery request
2018-11-10 14:59:01.332 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 14:59:01.425 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 14:59:01.848 +07:00 [Debug] Connection id ""0HLI6S9ETP41G"" completed keep alive response.
2018-11-10 14:59:01.885 +07:00 [Information] Request finished in 568.5104ms 200 application/json; charset=UTF-8
2018-11-10 14:59:01.927 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 14:59:01.928 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 14:59:01.928 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 14:59:01.929 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 14:59:01.929 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 14:59:01.931 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 14:59:01.932 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 14:59:01.945 +07:00 [Verbose] Processing discovery request.
2018-11-10 14:59:01.946 +07:00 [Debug] Start key discovery request
2018-11-10 14:59:01.946 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 14:59:01.983 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 14:59:02.067 +07:00 [Debug] Connection id ""0HLI6S9ETP41G"" completed keep alive response.
2018-11-10 14:59:02.067 +07:00 [Information] Request finished in 139.9729ms 200 application/json; charset=UTF-8
2018-11-10 14:59:02.207 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 14:59:02.209 +07:00 [Debug] "POST" requests are not supported
2018-11-10 14:59:02.210 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 14:59:02.210 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 14:59:02.210 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 14:59:02.234 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 14:59:02.235 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 14:59:02.246 +07:00 [Verbose] Processing token request.
2018-11-10 14:59:02.263 +07:00 [Debug] Start token request.
2018-11-10 14:59:02.289 +07:00 [Debug] Start client validation
2018-11-10 14:59:02.311 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 14:59:02.314 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 14:59:02.315 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 14:59:02.343 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 14:59:02.344 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 14:59:02.377 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 14:59:02.378 +07:00 [Debug] Client validation success
2018-11-10 14:59:02.540 +07:00 [Debug] Connection id ""0HLI6S9ETP41G"", Request id ""0HLI6S9ETP41G:00000003"": started reading request body.
2018-11-10 14:59:02.614 +07:00 [Debug] Connection id ""0HLI6S9ETP41G"", Request id ""0HLI6S9ETP41G:00000003"": done reading request body.
2018-11-10 14:59:02.638 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 14:59:02.664 +07:00 [Debug] Start token request validation
2018-11-10 14:59:02.724 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 14:59:04.734 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 14:59:04.736 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 14:59:04.823 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-10 14:59:04.882 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 14:59:04.883 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 14:59:04.894 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-10 14:59:05.857 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 14:59:06.314 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-10 14:59:06.529 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-10 14:59:07.183 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
                        FROM [AspNetUsers] AS [u]
                        WHERE [u].[NormalizedUserName] = @__normalizedUserName_0, 
                    shaper: UnbufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 14:59:07.459 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:59:08.162 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:59:08.379 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 14:59:08.726 +07:00 [Information] Executed DbCommand ("400"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 14:59:09.098 +07:00 [Debug] A data reader was disposed.
2018-11-10 14:59:09.101 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:59:09.140 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:59:09.183 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 14:59:09.522 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-10 14:59:09.570 +07:00 [Debug] Resource owner password token request validation success.
2018-11-10 14:59:09.571 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-10 14:59:09.606 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ro.angular\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api1\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 14:59:09.607 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-10 14:59:09.620 +07:00 [Verbose] Creating response for password request
2018-11-10 14:59:09.659 +07:00 [Verbose] Creating access token
2018-11-10 14:59:09.685 +07:00 [Debug] Getting claims for access token for client: "ro.angular"
2018-11-10 14:59:09.687 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-10 14:59:09.862 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 14:59:09.914 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 14:59:10.151 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 14:59:10.153 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:59:10.160 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:59:10.160 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 14:59:10.176 +07:00 [Information] Executed DbCommand ("15"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 14:59:10.183 +07:00 [Debug] A data reader was disposed.
2018-11-10 14:59:10.183 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:59:10.184 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:59:10.281 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 14:59:10.296 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 14:59:10.389 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 14:59:10.390 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:59:10.391 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:59:10.391 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 14:59:10.399 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 14:59:10.402 +07:00 [Debug] A data reader was disposed.
2018-11-10 14:59:10.402 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:59:10.403 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:59:10.471 +07:00 [Verbose] Creating JWT access token
2018-11-10 14:59:10.684 +07:00 [Verbose] Access token issued for "ro.angular (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE4MzY3NTAsImV4cCI6MTU0MTg0MDM1MCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMSJdLCJjbGllbnRfaWQiOiJyby5hbmd1bGFyIiwic3ViIjoiYjk2ZTQ4YWItNTIxZC00MmMxLTk5YjYtZmM2NjAzZWJjZDdhIiwiYXV0aF90aW1lIjoxNTQxODM2NzQ5LCJpZHAiOiJsb2NhbCIsImdpdmVuX25hbWUiOiJUaMOhaSBI4buTbmcgUXV54buDbiIsImVtYWlsIjoicXV5ZW50aEBnbWFpbC5jb20iLCJqdGkiOiIzZjQ1NjllMmE5ZDZlZWZkNjBiNWQ1MDU1MDRhYmRmYSIsInNjb3BlIjpbImFwaTEiXSwiYW1yIjpbInB3ZCJdfQ.PraijJhtiUV8A5p8XcUMGg7rAqd5us07mc8t4H6ndaOuvCQvLeI78zaTYFbaJycnCsMoizT0J9h5j0DWJnQlRldEZ-3cj9ZCSeRsuyZxJN7aAQz9kf3qatDUQbgYz0Rc9KnGI4-Mq1dBCteXGgNBUy60aoKKifkuOeHxDc8BoVQssfn877JffOdfDrdLTTuzJ3N-Si2JN95YhW25jsJoj5IauQEl-ZoH4gPXtOHhicmYpZfDSoCySUMqX7Ea0WR3-GmY4t6nCBGEEqjjbefFriYZ5erz8ePf8WzA1HplJIHP9kC3xvdSOZVY_cdNijfrfk3g5NcAPAptoUxs5aZokQ"
2018-11-10 14:59:10.685 +07:00 [Debug] Token request success.
2018-11-10 14:59:10.686 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-10 14:59:10.718 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 14:59:10.725 +07:00 [Debug] Connection id ""0HLI6S9ETP41G"" completed keep alive response.
2018-11-10 14:59:10.734 +07:00 [Information] Request finished in 8526.8082ms 200 application/json; charset=UTF-8
2018-11-10 14:59:10.752 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 14:59:10.771 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:59:10.772 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:59:10.775 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 14:59:10.777 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 14:59:10.778 +07:00 [Debug] A data reader was disposed.
2018-11-10 14:59:10.778 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:59:10.778 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:59:10.779 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 14:59:10.799 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:59:10.799 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:59:10.800 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 14:59:10.801 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 14:59:10.802 +07:00 [Debug] A data reader was disposed.
2018-11-10 14:59:10.802 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:59:10.802 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 14:59:10.837 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-10 14:59:10.911 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 14:59:10.928 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-10 14:59:10.929 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 14:59:11.077 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 10472.3318ms
2018-11-10 14:59:11.081 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 14:59:11.082 +07:00 [Debug] Connection id ""0HLI6S9ETP41F"" completed keep alive response.
2018-11-10 14:59:11.082 +07:00 [Information] Request finished in 13473.484ms 200 application/json; charset=utf-8
2018-11-10 14:59:11.138 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 14:59:11.180 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 14:59:11.242 +07:00 [Debug] Connection id ""0HLI6S9ETP41G"" completed keep alive response.
2018-11-10 14:59:11.243 +07:00 [Information] Request finished in 104.8506ms 200 image/x-icon
2018-11-10 15:00:22.111 +07:00 [Debug] Connection id ""0HLI6S9ETP41F"" received FIN.
2018-11-10 15:00:22.111 +07:00 [Debug] Connection id ""0HLI6S9ETP41G"" received FIN.
2018-11-10 15:00:22.117 +07:00 [Debug] Connection id ""0HLI6S9ETP41F"" disconnecting.
2018-11-10 15:00:22.117 +07:00 [Debug] Connection id ""0HLI6S9ETP41G"" disconnecting.
2018-11-10 15:00:22.121 +07:00 [Debug] Connection id ""0HLI6S9ETP41H"" started.
2018-11-10 15:00:22.122 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 15:00:22.124 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 15:00:22.124 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 15:00:22.126 +07:00 [Debug] Connection id ""0HLI6S9ETP41G"" sending FIN.
2018-11-10 15:00:22.126 +07:00 [Debug] Connection id ""0HLI6S9ETP41F"" sending FIN.
2018-11-10 15:00:22.129 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 15:00:22.130 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 15:00:22.130 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 15:00:22.131 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 15:00:22.137 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 15:00:22.139 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 15:00:22.140 +07:00 [Information] Test log
2018-11-10 15:00:22.140 +07:00 [Debug] Connection id ""0HLI6S9ETP41G"" stopped.
2018-11-10 15:00:22.140 +07:00 [Debug] Connection id ""0HLI6S9ETP41F"" stopped.
2018-11-10 15:00:22.181 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" started.
2018-11-10 15:00:22.181 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 15:00:22.182 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 15:00:22.182 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:22.183 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:22.183 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 15:00:22.184 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 15:00:22.184 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 15:00:22.185 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:00:22.185 +07:00 [Debug] Start discovery request
2018-11-10 15:00:22.185 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:00:22.186 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 15:00:22.187 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" completed keep alive response.
2018-11-10 15:00:22.188 +07:00 [Information] Request finished in 6.1796ms 200 application/json; charset=UTF-8
2018-11-10 15:00:22.204 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 15:00:22.205 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 15:00:22.205 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:22.205 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:22.206 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 15:00:22.207 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 15:00:22.207 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 15:00:22.207 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:00:22.208 +07:00 [Debug] Start key discovery request
2018-11-10 15:00:22.208 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:00:22.208 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 15:00:22.209 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" completed keep alive response.
2018-11-10 15:00:22.210 +07:00 [Information] Request finished in 5.6682ms 200 application/json; charset=UTF-8
2018-11-10 15:00:22.277 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 15:00:22.278 +07:00 [Debug] "POST" requests are not supported
2018-11-10 15:00:22.278 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:22.279 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:22.280 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 15:00:22.286 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 15:00:22.287 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 15:00:22.287 +07:00 [Verbose] Processing token request.
2018-11-10 15:00:22.287 +07:00 [Debug] Start token request.
2018-11-10 15:00:22.288 +07:00 [Debug] Start client validation
2018-11-10 15:00:22.288 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 15:00:22.289 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 15:00:22.289 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 15:00:22.289 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 15:00:22.290 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 15:00:22.290 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 15:00:22.291 +07:00 [Debug] Client validation success
2018-11-10 15:00:22.291 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"", Request id ""0HLI6S9ETP41I:00000003"": started reading request body.
2018-11-10 15:00:22.292 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"", Request id ""0HLI6S9ETP41I:00000003"": done reading request body.
2018-11-10 15:00:22.293 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 15:00:22.293 +07:00 [Debug] Start token request validation
2018-11-10 15:00:22.294 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 15:00:22.296 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 15:00:22.300 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:22.301 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:22.302 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:22.320 +07:00 [Information] Executed DbCommand ("18"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:22.321 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:22.321 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:22.322 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:22.322 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 15:00:22.377 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-10 15:00:22.379 +07:00 [Debug] Resource owner password token request validation success.
2018-11-10 15:00:22.379 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-10 15:00:22.380 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ro.angular\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api1\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 15:00:22.381 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-10 15:00:22.381 +07:00 [Verbose] Creating response for password request
2018-11-10 15:00:22.382 +07:00 [Verbose] Creating access token
2018-11-10 15:00:22.382 +07:00 [Debug] Getting claims for access token for client: "ro.angular"
2018-11-10 15:00:22.383 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-10 15:00:22.385 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:22.386 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:22.387 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 15:00:22.392 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 15:00:22.393 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:22.393 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:22.393 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:22.399 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:22.400 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:22.400 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 15:00:22.408 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 15:00:22.409 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:22.409 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:22.409 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:22.410 +07:00 [Verbose] Creating JWT access token
2018-11-10 15:00:22.426 +07:00 [Verbose] Access token issued for "ro.angular (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE4MzY4MjIsImV4cCI6MTU0MTg0MDQyMiwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMSJdLCJjbGllbnRfaWQiOiJyby5hbmd1bGFyIiwic3ViIjoiYjk2ZTQ4YWItNTIxZC00MmMxLTk5YjYtZmM2NjAzZWJjZDdhIiwiYXV0aF90aW1lIjoxNTQxODM2ODIyLCJpZHAiOiJsb2NhbCIsImdpdmVuX25hbWUiOiJUaMOhaSBI4buTbmcgUXV54buDbiIsImVtYWlsIjoicXV5ZW50aEBnbWFpbC5jb20iLCJqdGkiOiI0MjE5MTgyNzkwYWFmOGUwODg5YjRkZmI2NTFkZmE4YSIsInNjb3BlIjpbImFwaTEiXSwiYW1yIjpbInB3ZCJdfQ.Elp44qGI2O7vXY-aKCdth2mJ4m__xVqp57UJMOsy7vy_cFgxxp0cCUIlWalfz4qMYsi-XPv2N1_zxS2GHd5hRgcJRViA6Kf2lyM7-1EtVj_0tO-GF1e-H3EfyhMmQcU2VG6ROQssg5e-MNfvXVNGpR5ZUKcHWWYh9XVNlvmhYeEurE5LKwDhopg23hPMr7xB6S_Jg5tE2QE73l5USfTXCIbH9bRiPriZtUAWnaJoo9pAoycWZOAY7PjNM8Gixn5whVXk6PukYlStKnbEbcUUfdbHuZIEMcuKhA24y_Pxmd4Tpzro7WVG0FQXalNsN1TlHKvviXzPsmlZnZo146-ikw"
2018-11-10 15:00:22.426 +07:00 [Debug] Token request success.
2018-11-10 15:00:22.426 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-10 15:00:22.427 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 15:00:22.427 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" completed keep alive response.
2018-11-10 15:00:22.427 +07:00 [Information] Request finished in 150.9617ms 200 application/json; charset=UTF-8
2018-11-10 15:00:22.430 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 15:00:22.431 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:22.431 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:22.432 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:22.433 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:22.433 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:22.434 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:22.434 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:22.434 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 15:00:22.435 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:22.435 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:22.435 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:22.437 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:22.437 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:22.437 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:22.438 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:22.485 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-10 15:00:22.485 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 15:00:22.486 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-10 15:00:22.486 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 15:00:22.487 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 349.447ms
2018-11-10 15:00:22.487 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 15:00:22.487 +07:00 [Debug] Connection id ""0HLI6S9ETP41H"" completed keep alive response.
2018-11-10 15:00:22.488 +07:00 [Information] Request finished in 365.4851ms 200 application/json; charset=utf-8
2018-11-10 15:00:28.648 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 15:00:28.649 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 15:00:28.649 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 15:00:28.650 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 15:00:28.650 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 15:00:28.650 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 15:00:28.651 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 15:00:28.651 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 15:00:28.651 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 15:00:28.652 +07:00 [Information] Test log
2018-11-10 15:00:28.676 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 15:00:28.676 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 15:00:28.677 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:28.677 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:28.677 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 15:00:28.677 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 15:00:28.678 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 15:00:28.678 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:00:28.678 +07:00 [Debug] Start discovery request
2018-11-10 15:00:28.678 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:00:28.679 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 15:00:28.679 +07:00 [Debug] Connection id ""0HLI6S9ETP41H"" completed keep alive response.
2018-11-10 15:00:28.679 +07:00 [Information] Request finished in 3.6922ms 200 application/json; charset=UTF-8
2018-11-10 15:00:28.685 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 15:00:28.686 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 15:00:28.686 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:28.686 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:28.686 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 15:00:28.687 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 15:00:28.687 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 15:00:28.687 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:00:28.687 +07:00 [Debug] Start key discovery request
2018-11-10 15:00:28.687 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:00:28.688 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 15:00:28.688 +07:00 [Debug] Connection id ""0HLI6S9ETP41H"" completed keep alive response.
2018-11-10 15:00:28.688 +07:00 [Information] Request finished in 3.3263ms 200 application/json; charset=UTF-8
2018-11-10 15:00:28.714 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 15:00:28.714 +07:00 [Debug] "POST" requests are not supported
2018-11-10 15:00:28.714 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:28.715 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:28.715 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 15:00:28.715 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 15:00:28.716 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 15:00:28.716 +07:00 [Verbose] Processing token request.
2018-11-10 15:00:28.716 +07:00 [Debug] Start token request.
2018-11-10 15:00:28.716 +07:00 [Debug] Start client validation
2018-11-10 15:00:28.716 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 15:00:28.716 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 15:00:28.717 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 15:00:28.717 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 15:00:28.717 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 15:00:28.717 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 15:00:28.717 +07:00 [Debug] Client validation success
2018-11-10 15:00:28.718 +07:00 [Debug] Connection id ""0HLI6S9ETP41H"", Request id ""0HLI6S9ETP41H:00000004"": started reading request body.
2018-11-10 15:00:28.718 +07:00 [Debug] Connection id ""0HLI6S9ETP41H"", Request id ""0HLI6S9ETP41H:00000004"": done reading request body.
2018-11-10 15:00:28.718 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 15:00:28.718 +07:00 [Debug] Start token request validation
2018-11-10 15:00:28.718 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 15:00:28.719 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 15:00:28.720 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:28.721 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:28.721 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:28.722 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:28.723 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:28.723 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:28.723 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:28.724 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 15:00:28.755 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-10 15:00:28.755 +07:00 [Debug] Resource owner password token request validation success.
2018-11-10 15:00:28.756 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-10 15:00:28.756 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ro.angular\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api1\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 15:00:28.756 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-10 15:00:28.756 +07:00 [Verbose] Creating response for password request
2018-11-10 15:00:28.756 +07:00 [Verbose] Creating access token
2018-11-10 15:00:28.757 +07:00 [Debug] Getting claims for access token for client: "ro.angular"
2018-11-10 15:00:28.757 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-10 15:00:28.758 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:28.758 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:28.758 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 15:00:28.759 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 15:00:28.760 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:28.760 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:28.760 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:28.761 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:28.761 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:28.762 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 15:00:28.763 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 15:00:28.763 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:28.763 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:28.763 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:28.764 +07:00 [Verbose] Creating JWT access token
2018-11-10 15:00:28.775 +07:00 [Verbose] Access token issued for "ro.angular (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE4MzY4MjgsImV4cCI6MTU0MTg0MDQyOCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMSJdLCJjbGllbnRfaWQiOiJyby5hbmd1bGFyIiwic3ViIjoiYjk2ZTQ4YWItNTIxZC00MmMxLTk5YjYtZmM2NjAzZWJjZDdhIiwiYXV0aF90aW1lIjoxNTQxODM2ODI4LCJpZHAiOiJsb2NhbCIsImdpdmVuX25hbWUiOiJUaMOhaSBI4buTbmcgUXV54buDbiIsImVtYWlsIjoicXV5ZW50aEBnbWFpbC5jb20iLCJqdGkiOiJlNDBkM2YwZjNjMTg0MmJhMmExMWJhMTdlZDg0ZWI1YiIsInNjb3BlIjpbImFwaTEiXSwiYW1yIjpbInB3ZCJdfQ.QodZh6Llai5KxADuwjk0IeYPTOIHutWGmowS_Mj5XWLd2ZVmlDmhOo8D_BK9RKTDGFLgv-UNCh15v9Z4s187d5UWeTOHCJH2RoQr1BYf-MBHvPjtIVB93FqH4X6pcQGC5luQ9vvfezSckBxJ8D0Q5AJApmb7HEz0BxShK1jybhOxI1B7fJtDV2AAp-hoE9kmojB0GHPrhz2usFkwETkJXL3Ma1X5BvIiosg7K4gM9fgxrl0OC8Blm0aWXiiXJc9g_XYK8n52PQMuSUltDuV1KzMNBH4mMPdWR_TpSpDowRDrXDrnSQYl1WYnsrBNMrCBPobXUcRZnRM0DthTEz_V_A"
2018-11-10 15:00:28.775 +07:00 [Debug] Token request success.
2018-11-10 15:00:28.776 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-10 15:00:28.776 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 15:00:28.776 +07:00 [Debug] Connection id ""0HLI6S9ETP41H"" completed keep alive response.
2018-11-10 15:00:28.776 +07:00 [Information] Request finished in 62.8146ms 200 application/json; charset=UTF-8
2018-11-10 15:00:28.778 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 15:00:28.779 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:28.779 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:28.780 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:28.781 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:28.781 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:28.782 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:28.782 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:28.782 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 15:00:28.782 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:28.783 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:28.783 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:28.784 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:28.784 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:28.784 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:28.785 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:28.815 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-10 15:00:28.816 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 15:00:28.816 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-10 15:00:28.816 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 15:00:28.816 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 165.3188ms
2018-11-10 15:00:28.817 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 15:00:28.817 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" completed keep alive response.
2018-11-10 15:00:28.817 +07:00 [Information] Request finished in 169.0316ms 200 application/json; charset=utf-8
2018-11-10 15:00:31.502 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 15:00:31.502 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 15:00:31.503 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 15:00:31.504 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 15:00:31.504 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 15:00:31.504 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 15:00:31.505 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 15:00:31.505 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 15:00:31.506 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 15:00:31.506 +07:00 [Information] Test log
2018-11-10 15:00:31.526 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 15:00:31.527 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 15:00:31.527 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:31.527 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:31.528 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 15:00:31.528 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 15:00:31.528 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 15:00:31.528 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:00:31.528 +07:00 [Debug] Start discovery request
2018-11-10 15:00:31.529 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:00:31.529 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 15:00:31.530 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" completed keep alive response.
2018-11-10 15:00:31.530 +07:00 [Information] Request finished in 3.387ms 200 application/json; charset=UTF-8
2018-11-10 15:00:31.535 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 15:00:31.536 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 15:00:31.536 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:31.536 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:31.536 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 15:00:31.537 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 15:00:31.537 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 15:00:31.537 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:00:31.538 +07:00 [Debug] Start key discovery request
2018-11-10 15:00:31.538 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:00:31.538 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 15:00:31.539 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" completed keep alive response.
2018-11-10 15:00:31.539 +07:00 [Information] Request finished in 3.922ms 200 application/json; charset=UTF-8
2018-11-10 15:00:31.566 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 15:00:31.566 +07:00 [Debug] "POST" requests are not supported
2018-11-10 15:00:31.567 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:31.567 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:31.567 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 15:00:31.568 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 15:00:31.568 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 15:00:31.569 +07:00 [Verbose] Processing token request.
2018-11-10 15:00:31.569 +07:00 [Debug] Start token request.
2018-11-10 15:00:31.569 +07:00 [Debug] Start client validation
2018-11-10 15:00:31.569 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 15:00:31.569 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 15:00:31.570 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 15:00:31.570 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 15:00:31.570 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 15:00:31.570 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 15:00:31.570 +07:00 [Debug] Client validation success
2018-11-10 15:00:31.571 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"", Request id ""0HLI6S9ETP41I:00000007"": started reading request body.
2018-11-10 15:00:31.571 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"", Request id ""0HLI6S9ETP41I:00000007"": done reading request body.
2018-11-10 15:00:31.571 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 15:00:31.571 +07:00 [Debug] Start token request validation
2018-11-10 15:00:31.571 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 15:00:31.573 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 15:00:31.574 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:31.574 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:31.575 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:31.576 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:31.577 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:31.577 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:31.577 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:31.577 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 15:00:31.609 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-10 15:00:31.610 +07:00 [Debug] Resource owner password token request validation success.
2018-11-10 15:00:31.610 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-10 15:00:31.610 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ro.angular\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api1\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 15:00:31.611 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-10 15:00:31.611 +07:00 [Verbose] Creating response for password request
2018-11-10 15:00:31.611 +07:00 [Verbose] Creating access token
2018-11-10 15:00:31.611 +07:00 [Debug] Getting claims for access token for client: "ro.angular"
2018-11-10 15:00:31.611 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-10 15:00:31.612 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:31.613 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:31.613 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 15:00:31.614 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 15:00:31.614 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:31.614 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:31.615 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:31.616 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:31.616 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:31.616 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 15:00:31.617 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 15:00:31.617 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:31.618 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:31.618 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:31.618 +07:00 [Verbose] Creating JWT access token
2018-11-10 15:00:31.630 +07:00 [Verbose] Access token issued for "ro.angular (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE4MzY4MzEsImV4cCI6MTU0MTg0MDQzMSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMSJdLCJjbGllbnRfaWQiOiJyby5hbmd1bGFyIiwic3ViIjoiYjk2ZTQ4YWItNTIxZC00MmMxLTk5YjYtZmM2NjAzZWJjZDdhIiwiYXV0aF90aW1lIjoxNTQxODM2ODMxLCJpZHAiOiJsb2NhbCIsImdpdmVuX25hbWUiOiJUaMOhaSBI4buTbmcgUXV54buDbiIsImVtYWlsIjoicXV5ZW50aEBnbWFpbC5jb20iLCJqdGkiOiI1MDcyNzYwMGM4MzNjNWRlYjE5MjBhOGUzMDliZDBkYyIsInNjb3BlIjpbImFwaTEiXSwiYW1yIjpbInB3ZCJdfQ.WDqfn7H9L1WdYf9OHTlDQwlvHBLofBQy6QpvPcFgxdkPmVt0W4sosbr6F_dLJsCMDUSfwVM9ooD8lNpInuy_XZxXOzFPMdP4BvN8Ny67yy_jvWS_xbVPK1DzVNqQqddB5f90ATTAZw7-JepS2ZjBaEeAKA6aiKjF3xFl7a_2-dkCY-Z7LF2jCnmYv-R85fb5d6-P-Gp-Me-x_huTUtUeqN7bv7aXDH9yEbQaF82SyZ--gY_36nGjbZ93cxROqdV6qrnnlhH1TUtvuJPIbbCrV2W5vw11Adsdzxmu7vHEouh7voLjIK73pCRluVPrwcMzxvxFKm35cswSL1820R0vBQ"
2018-11-10 15:00:31.630 +07:00 [Debug] Token request success.
2018-11-10 15:00:31.630 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-10 15:00:31.631 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 15:00:31.631 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" completed keep alive response.
2018-11-10 15:00:31.631 +07:00 [Information] Request finished in 65.3684ms 200 application/json; charset=UTF-8
2018-11-10 15:00:31.633 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 15:00:31.634 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:31.634 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:31.634 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:31.636 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:31.636 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:31.636 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:31.636 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:31.637 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 15:00:31.637 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:31.637 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:31.638 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:31.639 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:31.639 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:31.640 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:31.640 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:31.673 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-10 15:00:31.673 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 15:00:31.673 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-10 15:00:31.674 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 15:00:31.674 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 168.3256ms
2018-11-10 15:00:31.674 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 15:00:31.675 +07:00 [Debug] Connection id ""0HLI6S9ETP41H"" completed keep alive response.
2018-11-10 15:00:31.675 +07:00 [Information] Request finished in 173.3481ms 200 application/json; charset=utf-8
2018-11-10 15:00:31.756 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 15:00:31.757 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 15:00:31.759 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" completed keep alive response.
2018-11-10 15:00:31.759 +07:00 [Information] Request finished in 2.9501ms 200 image/x-icon
2018-11-10 15:00:32.552 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 15:00:32.553 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 15:00:32.553 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 15:00:32.554 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 15:00:32.554 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 15:00:32.555 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 15:00:32.555 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 15:00:32.555 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 15:00:32.556 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 15:00:32.556 +07:00 [Information] Test log
2018-11-10 15:00:32.578 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 15:00:32.578 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 15:00:32.579 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:32.579 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:32.579 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 15:00:32.580 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 15:00:32.580 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 15:00:32.580 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:00:32.580 +07:00 [Debug] Start discovery request
2018-11-10 15:00:32.580 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:00:32.581 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 15:00:32.581 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" completed keep alive response.
2018-11-10 15:00:32.581 +07:00 [Information] Request finished in 3.6351ms 200 application/json; charset=UTF-8
2018-11-10 15:00:32.587 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 15:00:32.588 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 15:00:32.588 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:32.588 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:32.589 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 15:00:32.589 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 15:00:32.589 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 15:00:32.589 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:00:32.589 +07:00 [Debug] Start key discovery request
2018-11-10 15:00:32.590 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:00:32.590 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 15:00:32.590 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" completed keep alive response.
2018-11-10 15:00:32.590 +07:00 [Information] Request finished in 3.0344ms 200 application/json; charset=UTF-8
2018-11-10 15:00:32.618 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 15:00:32.619 +07:00 [Debug] "POST" requests are not supported
2018-11-10 15:00:32.619 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:32.620 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:32.620 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 15:00:32.621 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 15:00:32.621 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 15:00:32.621 +07:00 [Verbose] Processing token request.
2018-11-10 15:00:32.622 +07:00 [Debug] Start token request.
2018-11-10 15:00:32.622 +07:00 [Debug] Start client validation
2018-11-10 15:00:32.622 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 15:00:32.622 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 15:00:32.622 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 15:00:32.623 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 15:00:32.623 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 15:00:32.623 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 15:00:32.624 +07:00 [Debug] Client validation success
2018-11-10 15:00:32.624 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"", Request id ""0HLI6S9ETP41I:0000000B"": started reading request body.
2018-11-10 15:00:32.624 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"", Request id ""0HLI6S9ETP41I:0000000B"": done reading request body.
2018-11-10 15:00:32.625 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 15:00:32.625 +07:00 [Debug] Start token request validation
2018-11-10 15:00:32.625 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 15:00:32.626 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 15:00:32.627 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:32.627 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:32.628 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:32.629 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:32.630 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:32.630 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:32.630 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:32.630 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 15:00:32.661 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-10 15:00:32.662 +07:00 [Debug] Resource owner password token request validation success.
2018-11-10 15:00:32.662 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-10 15:00:32.662 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ro.angular\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api1\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 15:00:32.662 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-10 15:00:32.663 +07:00 [Verbose] Creating response for password request
2018-11-10 15:00:32.663 +07:00 [Verbose] Creating access token
2018-11-10 15:00:32.663 +07:00 [Debug] Getting claims for access token for client: "ro.angular"
2018-11-10 15:00:32.663 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-10 15:00:32.664 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:32.664 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:32.665 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 15:00:32.666 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 15:00:32.666 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:32.666 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:32.666 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:32.668 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:32.668 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:32.669 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 15:00:32.670 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 15:00:32.670 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:32.670 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:32.671 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:32.671 +07:00 [Verbose] Creating JWT access token
2018-11-10 15:00:32.682 +07:00 [Verbose] Access token issued for "ro.angular (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE4MzY4MzIsImV4cCI6MTU0MTg0MDQzMiwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMSJdLCJjbGllbnRfaWQiOiJyby5hbmd1bGFyIiwic3ViIjoiYjk2ZTQ4YWItNTIxZC00MmMxLTk5YjYtZmM2NjAzZWJjZDdhIiwiYXV0aF90aW1lIjoxNTQxODM2ODMyLCJpZHAiOiJsb2NhbCIsImdpdmVuX25hbWUiOiJUaMOhaSBI4buTbmcgUXV54buDbiIsImVtYWlsIjoicXV5ZW50aEBnbWFpbC5jb20iLCJqdGkiOiI4MzEyZjIzMGE5YTc2Mjc5NzM4MmU2MjY1ZTYzNDg4NyIsInNjb3BlIjpbImFwaTEiXSwiYW1yIjpbInB3ZCJdfQ.Ns5sHOPuQAC2Vq6ncMHR6awSFBBcHemxgGqQ9ZG_vOoJA1nlHc9Yq74zLTDU0R2XZpWCkrJb0rPtasG8hOaFae4XgApvAAhDwsgQkuO2O7ec1NQbJT3OoTfWhg-l9hKuiyNpmFKQst0_I6jWmXW7BbiJ7pFMin-6ySsunsYPBKuERTZxnythiocuMiH32iaIKauHeheIJO1W7nTXrobfTdMkVIfzGYRnomeoxE6rpjtgD7jMsZogvNHepRoXzxvuIGNY-1n5jjGmyaE6iEC21DPp0ApED9dvElvbbaoeU-udlXj8PF9KhYAvPMROOo3q5gfk0i3gFY6ILxjT1zTXUQ"
2018-11-10 15:00:32.683 +07:00 [Debug] Token request success.
2018-11-10 15:00:32.683 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-10 15:00:32.683 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 15:00:32.683 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" completed keep alive response.
2018-11-10 15:00:32.684 +07:00 [Information] Request finished in 65.6906ms 200 application/json; charset=UTF-8
2018-11-10 15:00:32.686 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 15:00:32.687 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:32.687 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:32.688 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:32.689 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:32.689 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:32.689 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:32.690 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:32.690 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 15:00:32.690 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:32.691 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:32.691 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:32.692 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:32.693 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:32.693 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:32.693 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:32.725 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-10 15:00:32.725 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 15:00:32.726 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-10 15:00:32.726 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 15:00:32.726 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 170.7737ms
2018-11-10 15:00:32.727 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 15:00:32.727 +07:00 [Debug] Connection id ""0HLI6S9ETP41H"" completed keep alive response.
2018-11-10 15:00:32.727 +07:00 [Information] Request finished in 174.9189ms 200 application/json; charset=utf-8
2018-11-10 15:00:32.787 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 15:00:32.788 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 15:00:32.789 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" completed keep alive response.
2018-11-10 15:00:32.789 +07:00 [Information] Request finished in 1.9456ms 200 image/x-icon
2018-11-10 15:00:33.606 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 15:00:33.606 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 15:00:33.607 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 15:00:33.608 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 15:00:33.608 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 15:00:33.609 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 15:00:33.609 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 15:00:33.609 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 15:00:33.610 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 15:00:33.610 +07:00 [Information] Test log
2018-11-10 15:00:33.651 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 15:00:33.652 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 15:00:33.652 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:33.653 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:33.653 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 15:00:33.653 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 15:00:33.654 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 15:00:33.654 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:00:33.654 +07:00 [Debug] Start discovery request
2018-11-10 15:00:33.655 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:00:33.655 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 15:00:33.656 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" completed keep alive response.
2018-11-10 15:00:33.657 +07:00 [Information] Request finished in 5.7101ms 200 application/json; charset=UTF-8
2018-11-10 15:00:33.673 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 15:00:33.674 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 15:00:33.674 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:33.675 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:33.675 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 15:00:33.676 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 15:00:33.676 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 15:00:33.676 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:00:33.676 +07:00 [Debug] Start key discovery request
2018-11-10 15:00:33.677 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:00:33.677 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 15:00:33.677 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" completed keep alive response.
2018-11-10 15:00:33.678 +07:00 [Information] Request finished in 4.8935ms 200 application/json; charset=UTF-8
2018-11-10 15:00:33.721 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 15:00:33.721 +07:00 [Debug] "POST" requests are not supported
2018-11-10 15:00:33.722 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:33.722 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:33.722 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 15:00:33.723 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 15:00:33.723 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 15:00:33.723 +07:00 [Verbose] Processing token request.
2018-11-10 15:00:33.723 +07:00 [Debug] Start token request.
2018-11-10 15:00:33.724 +07:00 [Debug] Start client validation
2018-11-10 15:00:33.724 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 15:00:33.724 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 15:00:33.724 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 15:00:33.725 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 15:00:33.725 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 15:00:33.725 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 15:00:33.725 +07:00 [Debug] Client validation success
2018-11-10 15:00:33.726 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"", Request id ""0HLI6S9ETP41I:0000000F"": started reading request body.
2018-11-10 15:00:33.726 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"", Request id ""0HLI6S9ETP41I:0000000F"": done reading request body.
2018-11-10 15:00:33.726 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 15:00:33.727 +07:00 [Debug] Start token request validation
2018-11-10 15:00:33.727 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 15:00:33.728 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 15:00:33.729 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:33.729 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:33.730 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:33.731 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:33.732 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:33.732 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:33.733 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:33.733 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 15:00:33.789 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-10 15:00:33.789 +07:00 [Debug] Resource owner password token request validation success.
2018-11-10 15:00:33.790 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-10 15:00:33.790 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ro.angular\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api1\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 15:00:33.790 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-10 15:00:33.791 +07:00 [Verbose] Creating response for password request
2018-11-10 15:00:33.791 +07:00 [Verbose] Creating access token
2018-11-10 15:00:33.791 +07:00 [Debug] Getting claims for access token for client: "ro.angular"
2018-11-10 15:00:33.791 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-10 15:00:33.793 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:33.793 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:33.793 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 15:00:33.795 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 15:00:33.795 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:33.795 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:33.796 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:33.797 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:33.797 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:33.798 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 15:00:33.801 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 15:00:33.801 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:33.802 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:33.802 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:33.803 +07:00 [Verbose] Creating JWT access token
2018-11-10 15:00:33.823 +07:00 [Verbose] Access token issued for "ro.angular (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE4MzY4MzMsImV4cCI6MTU0MTg0MDQzMywiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMSJdLCJjbGllbnRfaWQiOiJyby5hbmd1bGFyIiwic3ViIjoiYjk2ZTQ4YWItNTIxZC00MmMxLTk5YjYtZmM2NjAzZWJjZDdhIiwiYXV0aF90aW1lIjoxNTQxODM2ODMzLCJpZHAiOiJsb2NhbCIsImdpdmVuX25hbWUiOiJUaMOhaSBI4buTbmcgUXV54buDbiIsImVtYWlsIjoicXV5ZW50aEBnbWFpbC5jb20iLCJqdGkiOiJiN2Q5NjBkYWQ4NGI1MzBmZjE1MTkzOGRkYjM3YWNmZSIsInNjb3BlIjpbImFwaTEiXSwiYW1yIjpbInB3ZCJdfQ.VP1jlsxjHm79WAiMEvR2wgESlCKp-yRTg9C7IV91Km_cG7gRm0iJMW-TuNsN_-Ha3cjK18wqdzO9YmYleUJQq0QVcfn8tl5X6F23o5qusnRB0KNwZANiCro1TKCPfDu0i7U0lwTeOTkO-oxu5gHCyGHL78qBQT9v9E6Tip7LcLXaqbOp_5Cv_MzT274z3UneNeyz0U90Lx9L4bZbmx9BtE4Gtby0Y0FgKV6wwkS9jE1Mj5LVHVBDxBVv1OKhWmqbf8F6IU1MdnoXl4JLx4Sm8Xbk4dFWsIXwQZo8D-wenHL64AC_BGhN28S-zQiAIKl0viR9r1REK63qeFc0rtkdrw"
2018-11-10 15:00:33.824 +07:00 [Debug] Token request success.
2018-11-10 15:00:33.824 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-10 15:00:33.825 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 15:00:33.825 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" completed keep alive response.
2018-11-10 15:00:33.826 +07:00 [Information] Request finished in 105.1714ms 200 application/json; charset=UTF-8
2018-11-10 15:00:33.828 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 15:00:33.829 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:33.830 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:33.830 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:33.833 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:33.834 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:33.834 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:33.835 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:33.835 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 15:00:33.835 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:33.836 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:33.836 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:33.838 +07:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:33.839 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:33.839 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:33.839 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:33.897 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-10 15:00:33.897 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 15:00:33.897 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-10 15:00:33.898 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 15:00:33.898 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 288.6476ms
2018-11-10 15:00:33.899 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 15:00:33.899 +07:00 [Debug] Connection id ""0HLI6S9ETP41H"" completed keep alive response.
2018-11-10 15:00:33.899 +07:00 [Information] Request finished in 293.7116ms 200 application/json; charset=utf-8
2018-11-10 15:00:33.974 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 15:00:33.974 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 15:00:33.975 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" completed keep alive response.
2018-11-10 15:00:33.976 +07:00 [Information] Request finished in 1.9576ms 200 image/x-icon
2018-11-10 15:00:34.497 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 15:00:34.497 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 15:00:34.497 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 15:00:34.498 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 15:00:34.499 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 15:00:34.499 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 15:00:34.499 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 15:00:34.499 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 15:00:34.500 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 15:00:34.500 +07:00 [Information] Test log
2018-11-10 15:00:34.523 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 15:00:34.524 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 15:00:34.524 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:34.525 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:34.525 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 15:00:34.525 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 15:00:34.525 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 15:00:34.526 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:00:34.526 +07:00 [Debug] Start discovery request
2018-11-10 15:00:34.526 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:00:34.526 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 15:00:34.527 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" completed keep alive response.
2018-11-10 15:00:34.527 +07:00 [Information] Request finished in 3.6137ms 200 application/json; charset=UTF-8
2018-11-10 15:00:34.533 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 15:00:34.533 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 15:00:34.534 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:34.534 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:34.534 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 15:00:34.535 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 15:00:34.535 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 15:00:34.535 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:00:34.535 +07:00 [Debug] Start key discovery request
2018-11-10 15:00:34.535 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:00:34.536 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 15:00:34.536 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" completed keep alive response.
2018-11-10 15:00:34.536 +07:00 [Information] Request finished in 3.8136ms 200 application/json; charset=UTF-8
2018-11-10 15:00:34.559 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 15:00:34.560 +07:00 [Debug] "POST" requests are not supported
2018-11-10 15:00:34.560 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:34.560 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:34.560 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 15:00:34.561 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 15:00:34.561 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 15:00:34.561 +07:00 [Verbose] Processing token request.
2018-11-10 15:00:34.561 +07:00 [Debug] Start token request.
2018-11-10 15:00:34.562 +07:00 [Debug] Start client validation
2018-11-10 15:00:34.562 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 15:00:34.562 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 15:00:34.562 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 15:00:34.562 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 15:00:34.562 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 15:00:34.563 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 15:00:34.563 +07:00 [Debug] Client validation success
2018-11-10 15:00:34.563 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"", Request id ""0HLI6S9ETP41I:00000013"": started reading request body.
2018-11-10 15:00:34.563 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"", Request id ""0HLI6S9ETP41I:00000013"": done reading request body.
2018-11-10 15:00:34.564 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 15:00:34.564 +07:00 [Debug] Start token request validation
2018-11-10 15:00:34.564 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 15:00:34.565 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 15:00:34.566 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:34.566 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:34.566 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:34.568 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:34.568 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:34.568 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:34.569 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:34.569 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 15:00:34.602 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-10 15:00:34.603 +07:00 [Debug] Resource owner password token request validation success.
2018-11-10 15:00:34.603 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-10 15:00:34.603 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ro.angular\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api1\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 15:00:34.604 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-10 15:00:34.604 +07:00 [Verbose] Creating response for password request
2018-11-10 15:00:34.604 +07:00 [Verbose] Creating access token
2018-11-10 15:00:34.604 +07:00 [Debug] Getting claims for access token for client: "ro.angular"
2018-11-10 15:00:34.604 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-10 15:00:34.605 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:34.606 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:34.606 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 15:00:34.607 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 15:00:34.608 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:34.608 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:34.608 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:34.609 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:34.609 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:34.610 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 15:00:34.611 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 15:00:34.611 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:34.611 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:34.612 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:34.612 +07:00 [Verbose] Creating JWT access token
2018-11-10 15:00:34.624 +07:00 [Verbose] Access token issued for "ro.angular (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE4MzY4MzQsImV4cCI6MTU0MTg0MDQzNCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMSJdLCJjbGllbnRfaWQiOiJyby5hbmd1bGFyIiwic3ViIjoiYjk2ZTQ4YWItNTIxZC00MmMxLTk5YjYtZmM2NjAzZWJjZDdhIiwiYXV0aF90aW1lIjoxNTQxODM2ODM0LCJpZHAiOiJsb2NhbCIsImdpdmVuX25hbWUiOiJUaMOhaSBI4buTbmcgUXV54buDbiIsImVtYWlsIjoicXV5ZW50aEBnbWFpbC5jb20iLCJqdGkiOiI1MzUwYjczMTM3YmE3YjBkZGFjZmNhNzJjYjVlNGI2NiIsInNjb3BlIjpbImFwaTEiXSwiYW1yIjpbInB3ZCJdfQ.Q7mKJno1wADINDfZZiOaKx2T5lfcCDOe1qZSUGcltpgqhekI4Zqrtf-79jh1VaRHwTpuRKXmept8XJgQHh1EBmS_cOVCYWy7bZJcX7ZbNtKIFoOXYIRpOZECO1ZFyzeVe_0lNHG2zFVXqlMgw4PDOEx5SluIrG9EC1K8I5nAsWimqFafCfPr3kiPc79wL4HHfIxZLibHmnFifa4JQUFql-lbSRDwHXV5Ew6yJe3uRqa0NUca4L_4tqobLCLrcgUL3GIruMdgttLwEYlzBKHbp4RK0rl-dRrng4PzmD7Po2Nc9zFzz0v_8LFmSGAm3WiohFpItE4rwTpJ8n-6E7nOpw"
2018-11-10 15:00:34.625 +07:00 [Debug] Token request success.
2018-11-10 15:00:34.625 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-10 15:00:34.625 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 15:00:34.625 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" completed keep alive response.
2018-11-10 15:00:34.626 +07:00 [Information] Request finished in 66.53ms 200 application/json; charset=UTF-8
2018-11-10 15:00:34.627 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 15:00:34.628 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:34.629 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:34.629 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:34.630 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:34.631 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:34.631 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:34.631 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:34.632 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 15:00:34.632 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:34.632 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:34.633 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:34.634 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:34.634 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:34.635 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:34.635 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:34.666 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-10 15:00:34.667 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 15:00:34.667 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-10 15:00:34.667 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 15:00:34.667 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 167.8816ms
2018-11-10 15:00:34.668 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 15:00:34.668 +07:00 [Debug] Connection id ""0HLI6S9ETP41H"" completed keep alive response.
2018-11-10 15:00:34.668 +07:00 [Information] Request finished in 171.6658ms 200 application/json; charset=utf-8
2018-11-10 15:00:34.744 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 15:00:34.745 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 15:00:34.746 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" completed keep alive response.
2018-11-10 15:00:34.746 +07:00 [Information] Request finished in 1.9487ms 200 image/x-icon
2018-11-10 15:00:35.902 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 15:00:35.902 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 15:00:35.903 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 15:00:35.903 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 15:00:35.904 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 15:00:35.904 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 15:00:35.904 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 15:00:35.904 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 15:00:35.905 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 15:00:35.905 +07:00 [Information] Test log
2018-11-10 15:00:35.931 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 15:00:35.931 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 15:00:35.931 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:35.932 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:35.932 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 15:00:35.932 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 15:00:35.933 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 15:00:35.933 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:00:35.933 +07:00 [Debug] Start discovery request
2018-11-10 15:00:35.933 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:00:35.933 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 15:00:35.934 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" completed keep alive response.
2018-11-10 15:00:35.934 +07:00 [Information] Request finished in 3.7703ms 200 application/json; charset=UTF-8
2018-11-10 15:00:35.940 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 15:00:35.941 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 15:00:35.941 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:35.942 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:35.942 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 15:00:35.942 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 15:00:35.942 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 15:00:35.943 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:00:35.943 +07:00 [Debug] Start key discovery request
2018-11-10 15:00:35.943 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:00:35.943 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 15:00:35.943 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" completed keep alive response.
2018-11-10 15:00:35.944 +07:00 [Information] Request finished in 3.1348ms 200 application/json; charset=UTF-8
2018-11-10 15:00:35.965 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 15:00:35.966 +07:00 [Debug] "POST" requests are not supported
2018-11-10 15:00:35.966 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:35.966 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:35.966 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 15:00:35.967 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 15:00:35.967 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 15:00:35.967 +07:00 [Verbose] Processing token request.
2018-11-10 15:00:35.968 +07:00 [Debug] Start token request.
2018-11-10 15:00:35.968 +07:00 [Debug] Start client validation
2018-11-10 15:00:35.968 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 15:00:35.968 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 15:00:35.969 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 15:00:35.969 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 15:00:35.969 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 15:00:35.969 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 15:00:35.970 +07:00 [Debug] Client validation success
2018-11-10 15:00:35.970 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"", Request id ""0HLI6S9ETP41I:00000017"": started reading request body.
2018-11-10 15:00:35.970 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"", Request id ""0HLI6S9ETP41I:00000017"": done reading request body.
2018-11-10 15:00:35.970 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 15:00:35.970 +07:00 [Debug] Start token request validation
2018-11-10 15:00:35.971 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 15:00:35.971 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 15:00:35.972 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:35.973 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:35.973 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:35.974 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:35.975 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:35.975 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:35.975 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:35.975 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 15:00:36.008 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-10 15:00:36.008 +07:00 [Debug] Resource owner password token request validation success.
2018-11-10 15:00:36.008 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-10 15:00:36.008 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ro.angular\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api1\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 15:00:36.009 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-10 15:00:36.009 +07:00 [Verbose] Creating response for password request
2018-11-10 15:00:36.009 +07:00 [Verbose] Creating access token
2018-11-10 15:00:36.009 +07:00 [Debug] Getting claims for access token for client: "ro.angular"
2018-11-10 15:00:36.009 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-10 15:00:36.010 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:36.011 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:36.011 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 15:00:36.012 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 15:00:36.012 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:36.012 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:36.013 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:36.014 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:36.014 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:36.014 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 15:00:36.015 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 15:00:36.016 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:36.016 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:36.016 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:36.016 +07:00 [Verbose] Creating JWT access token
2018-11-10 15:00:36.028 +07:00 [Verbose] Access token issued for "ro.angular (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE4MzY4MzYsImV4cCI6MTU0MTg0MDQzNiwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMSJdLCJjbGllbnRfaWQiOiJyby5hbmd1bGFyIiwic3ViIjoiYjk2ZTQ4YWItNTIxZC00MmMxLTk5YjYtZmM2NjAzZWJjZDdhIiwiYXV0aF90aW1lIjoxNTQxODM2ODM2LCJpZHAiOiJsb2NhbCIsImdpdmVuX25hbWUiOiJUaMOhaSBI4buTbmcgUXV54buDbiIsImVtYWlsIjoicXV5ZW50aEBnbWFpbC5jb20iLCJqdGkiOiI5OGQ2MzZhZGUxNWQ1ZjZkZWY3NTFhZGVlZDM4Mjc4YSIsInNjb3BlIjpbImFwaTEiXSwiYW1yIjpbInB3ZCJdfQ.Z4W8TN950g51gwjaQw00DIWu4VEPdC19aWhPvuNl4kAmnq3NFSqXVwrreJoU6U5yW5ole8H_z2IXFea5yknTsaA19nMxfaxkC31wSJ20pviU7iipdpSBNaruzJnRgRMku4pkL_OIOvNhJkr1mSjafnb9OKyPx2FEXEGgCD_2Ftuh43rlVU2RSyDRaAm4ixNjN_beDiBpJXbfDkc91O74LSTtSnkfROMss_GBEDFus14TFuO2WaIKdOiBznIvH-lRfObF1PCud72KhAKu7BN5mI8pAPp58oGAyQtiAcHlNyreGta-cDQI-Zd0KDVBwkjl3nGWEflCFuA_LhJTKz4m9g"
2018-11-10 15:00:36.028 +07:00 [Debug] Token request success.
2018-11-10 15:00:36.029 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-10 15:00:36.029 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 15:00:36.029 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" completed keep alive response.
2018-11-10 15:00:36.029 +07:00 [Information] Request finished in 64.1546ms 200 application/json; charset=UTF-8
2018-11-10 15:00:36.031 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 15:00:36.032 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:36.033 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:36.033 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:36.034 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:36.035 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:36.035 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:36.035 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:36.035 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 15:00:36.036 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:36.036 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:36.036 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:36.037 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:36.038 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:36.038 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:36.038 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:36.071 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-10 15:00:36.071 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 15:00:36.071 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-10 15:00:36.071 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 15:00:36.072 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 167.2046ms
2018-11-10 15:00:36.072 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 15:00:36.072 +07:00 [Debug] Connection id ""0HLI6S9ETP41H"" completed keep alive response.
2018-11-10 15:00:36.072 +07:00 [Information] Request finished in 170.8487ms 200 application/json; charset=utf-8
2018-11-10 15:00:36.155 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 15:00:36.156 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 15:00:36.157 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" completed keep alive response.
2018-11-10 15:00:36.157 +07:00 [Information] Request finished in 2.108ms 200 image/x-icon
2018-11-10 15:00:36.981 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 15:00:36.981 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 15:00:36.982 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 15:00:36.982 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 15:00:36.983 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 15:00:36.983 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 15:00:36.983 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 15:00:36.983 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 15:00:36.984 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 15:00:36.984 +07:00 [Information] Test log
2018-11-10 15:00:37.006 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 15:00:37.007 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 15:00:37.007 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:37.008 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:37.008 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 15:00:37.008 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 15:00:37.008 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 15:00:37.009 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:00:37.009 +07:00 [Debug] Start discovery request
2018-11-10 15:00:37.009 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:00:37.009 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 15:00:37.010 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" completed keep alive response.
2018-11-10 15:00:37.010 +07:00 [Information] Request finished in 3.5851ms 200 application/json; charset=UTF-8
2018-11-10 15:00:37.016 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 15:00:37.016 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 15:00:37.016 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:37.017 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:37.017 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 15:00:37.017 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 15:00:37.018 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 15:00:37.018 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:00:37.018 +07:00 [Debug] Start key discovery request
2018-11-10 15:00:37.018 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:00:37.019 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 15:00:37.019 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" completed keep alive response.
2018-11-10 15:00:37.019 +07:00 [Information] Request finished in 3.6413ms 200 application/json; charset=UTF-8
2018-11-10 15:00:37.042 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 15:00:37.043 +07:00 [Debug] "POST" requests are not supported
2018-11-10 15:00:37.043 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:37.043 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:37.043 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 15:00:37.044 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 15:00:37.044 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 15:00:37.044 +07:00 [Verbose] Processing token request.
2018-11-10 15:00:37.044 +07:00 [Debug] Start token request.
2018-11-10 15:00:37.045 +07:00 [Debug] Start client validation
2018-11-10 15:00:37.045 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 15:00:37.045 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 15:00:37.045 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 15:00:37.045 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 15:00:37.045 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 15:00:37.046 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 15:00:37.046 +07:00 [Debug] Client validation success
2018-11-10 15:00:37.046 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"", Request id ""0HLI6S9ETP41I:0000001B"": started reading request body.
2018-11-10 15:00:37.046 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"", Request id ""0HLI6S9ETP41I:0000001B"": done reading request body.
2018-11-10 15:00:37.046 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 15:00:37.047 +07:00 [Debug] Start token request validation
2018-11-10 15:00:37.047 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 15:00:37.048 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 15:00:37.049 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:37.049 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:37.050 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:37.052 +07:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:37.052 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:37.053 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:37.053 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:37.053 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 15:00:37.085 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-10 15:00:37.086 +07:00 [Debug] Resource owner password token request validation success.
2018-11-10 15:00:37.086 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-10 15:00:37.086 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ro.angular\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api1\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 15:00:37.087 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-10 15:00:37.087 +07:00 [Verbose] Creating response for password request
2018-11-10 15:00:37.087 +07:00 [Verbose] Creating access token
2018-11-10 15:00:37.087 +07:00 [Debug] Getting claims for access token for client: "ro.angular"
2018-11-10 15:00:37.087 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-10 15:00:37.088 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:37.089 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:37.089 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 15:00:37.090 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 15:00:37.090 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:37.090 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:37.091 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:37.092 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:37.092 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:37.092 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 15:00:37.093 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 15:00:37.093 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:37.094 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:37.094 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:37.094 +07:00 [Verbose] Creating JWT access token
2018-11-10 15:00:37.106 +07:00 [Verbose] Access token issued for "ro.angular (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE4MzY4MzcsImV4cCI6MTU0MTg0MDQzNywiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMSJdLCJjbGllbnRfaWQiOiJyby5hbmd1bGFyIiwic3ViIjoiYjk2ZTQ4YWItNTIxZC00MmMxLTk5YjYtZmM2NjAzZWJjZDdhIiwiYXV0aF90aW1lIjoxNTQxODM2ODM3LCJpZHAiOiJsb2NhbCIsImdpdmVuX25hbWUiOiJUaMOhaSBI4buTbmcgUXV54buDbiIsImVtYWlsIjoicXV5ZW50aEBnbWFpbC5jb20iLCJqdGkiOiIzMTAxZGExZmUzNGQyNGFiZDgxYWEyMGU0MGY3YjQ4YyIsInNjb3BlIjpbImFwaTEiXSwiYW1yIjpbInB3ZCJdfQ.bvAbEen1R4jC6CIpcYyCIRWc4pHJoc-4CYuflZeZfDZ48kvLO-ms0NpiOT3qdjIBTFCnPYZBb2I0QtT7qNTCo0V5yW_raiKletruiDIK9UC-1rNd-spkVAVKW7WrUIAScgE75QnEQMGKvjLZaYq-lJ9YnULwAN-z5c6YS5di9sQc3GrACd-PTh5st74W9MeYI3dZAvpKMk-QtCm_UQcNveHv5AvA-VFbPIbe9MTjwGGRR4bSPyaBZqsAmYOwrumcmOhYvFJyRowEBF-SAqz2Ci73T1PzhaQYHm1pS0teRQHK4DS-55DwxP9mH1gTT4AGXmRoHf560nLhWHkK1IjjOA"
2018-11-10 15:00:37.106 +07:00 [Debug] Token request success.
2018-11-10 15:00:37.107 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-10 15:00:37.107 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 15:00:37.107 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" completed keep alive response.
2018-11-10 15:00:37.107 +07:00 [Information] Request finished in 65.2899ms 200 application/json; charset=UTF-8
2018-11-10 15:00:37.109 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 15:00:37.110 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:37.110 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:37.111 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:37.112 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:37.112 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:37.112 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:37.113 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:37.113 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 15:00:37.113 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:37.114 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:37.114 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:37.115 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:00:37.116 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:00:37.116 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:37.116 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:00:37.148 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-10 15:00:37.148 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 15:00:37.148 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-10 15:00:37.149 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 15:00:37.149 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 165.3438ms
2018-11-10 15:00:37.149 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 15:00:37.149 +07:00 [Debug] Connection id ""0HLI6S9ETP41H"" completed keep alive response.
2018-11-10 15:00:37.150 +07:00 [Information] Request finished in 169.2596ms 200 application/json; charset=utf-8
2018-11-10 15:00:37.220 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 15:00:37.221 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 15:00:37.222 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" completed keep alive response.
2018-11-10 15:00:37.222 +07:00 [Information] Request finished in 1.9692ms 200 image/x-icon
2018-11-10 15:00:52.736 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 15:00:52.736 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 15:00:52.737 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:52.737 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:52.737 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 15:00:52.737 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 15:00:52.738 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 15:00:52.738 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:00:52.738 +07:00 [Debug] Start discovery request
2018-11-10 15:00:52.738 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:00:52.738 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 15:00:52.739 +07:00 [Debug] Connection id ""0HLI6S9ETP41H"" completed keep alive response.
2018-11-10 15:00:52.739 +07:00 [Information] Request finished in 3.6181ms 200 application/json; charset=UTF-8
2018-11-10 15:00:53.525 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 15:00:53.525 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 15:00:53.526 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:53.526 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:00:53.526 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 15:00:53.527 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 15:00:53.527 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 15:00:53.527 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:00:53.527 +07:00 [Debug] Start key discovery request
2018-11-10 15:00:53.528 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:00:53.528 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 15:00:53.528 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" completed keep alive response.
2018-11-10 15:00:53.528 +07:00 [Information] Request finished in 3.6199ms 200 application/json; charset=UTF-8
2018-11-10 15:02:37.025 +07:00 [Debug] Connection id ""0HLI6S9ETP41H"" received FIN.
2018-11-10 15:02:37.025 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" received FIN.
2018-11-10 15:02:37.025 +07:00 [Debug] Connection id ""0HLI6S9ETP41H"" disconnecting.
2018-11-10 15:02:37.025 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" disconnecting.
2018-11-10 15:02:37.025 +07:00 [Debug] Connection id ""0HLI6S9ETP41H"" sending FIN.
2018-11-10 15:02:37.025 +07:00 [Debug] Connection id ""0HLI6S9ETP41H"" stopped.
2018-11-10 15:02:37.025 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" sending FIN.
2018-11-10 15:02:37.025 +07:00 [Debug] Connection id ""0HLI6S9ETP41I"" stopped.
2018-11-10 15:15:32.804 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 15:15:33.020 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 15:15:33.058 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 15:15:33.110 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 15:15:33.152 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 15:15:33.167 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 15:15:33.174 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 15:15:33.209 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 15:15:33.233 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 15:15:33.273 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 15:15:33.279 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 15:15:33.486 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 15:15:33.538 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 15:15:33.543 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 15:15:33.544 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 15:15:33.545 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 15:15:33.545 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 15:15:34.278 +07:00 [Debug] Hosting starting
2018-11-10 15:15:34.687 +07:00 [Debug] Hosting started
2018-11-10 15:15:34.687 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 15:15:34.687 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 15:15:34.687 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 15:15:34.832 +07:00 [Debug] Connection id ""0HLI6SIO8PTSR"" started.
2018-11-10 15:15:34.832 +07:00 [Debug] Connection id ""0HLI6SIO8PTSS"" started.
2018-11-10 15:15:35.454 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 15:15:35.454 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 15:15:35.768 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 15:15:35.768 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 15:15:36.035 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 15:15:36.035 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 15:15:36.532 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 15:15:36.532 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 15:15:36.748 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 15:15:36.748 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 15:15:36.814 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 15:15:36.814 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 15:15:36.833 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 15:15:36.833 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 15:15:38.118 +07:00 [Debug] Connection id ""0HLI6SIO8PTST"" started.
2018-11-10 15:15:38.121 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 15:15:38.122 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 15:15:38.123 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 15:15:38.126 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 15:15:38.126 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 15:15:38.127 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 15:15:38.228 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 15:15:38.228 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 15:15:38.228 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 15:15:38.781 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 15:15:38.781 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 15:15:39.233 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 15:15:39.233 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 15:15:39.249 +07:00 [Information] Test log
2018-11-10 15:15:39.249 +07:00 [Information] Test log
2018-11-10 15:15:39.485 +07:00 [Debug] Connection id ""0HLI6SIO8PTSU"" started.
2018-11-10 15:15:39.486 +07:00 [Debug] Connection id ""0HLI6SIO8PTSV"" started.
2018-11-10 15:15:39.491 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 15:15:39.492 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 15:15:39.493 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 15:15:39.493 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 15:15:39.494 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:15:39.494 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:15:39.495 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:15:39.495 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:15:39.499 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 15:15:39.499 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 15:15:39.530 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 15:15:39.530 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 15:15:39.530 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 15:15:39.530 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 15:15:39.543 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:15:39.544 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:15:39.545 +07:00 [Debug] Start discovery request
2018-11-10 15:15:39.545 +07:00 [Debug] Start discovery request
2018-11-10 15:15:39.550 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:15:39.550 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:15:39.662 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 15:15:39.662 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 15:15:40.115 +07:00 [Debug] Connection id ""0HLI6SIO8PTSU"" completed keep alive response.
2018-11-10 15:15:40.115 +07:00 [Debug] Connection id ""0HLI6SIO8PTSV"" completed keep alive response.
2018-11-10 15:15:40.154 +07:00 [Information] Request finished in 633.3693ms 200 application/json; charset=UTF-8
2018-11-10 15:15:40.154 +07:00 [Information] Request finished in 633.3689ms 200 application/json; charset=UTF-8
2018-11-10 15:15:40.196 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 15:15:40.196 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 15:15:40.197 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 15:15:40.197 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 15:15:40.197 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:15:40.197 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:15:40.197 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:15:40.198 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 15:15:40.198 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:15:40.198 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 15:15:40.200 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 15:15:40.200 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 15:15:40.200 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 15:15:40.200 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 15:15:40.216 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:15:40.216 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:15:40.217 +07:00 [Debug] Start key discovery request
2018-11-10 15:15:40.217 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:15:40.217 +07:00 [Debug] Start key discovery request
2018-11-10 15:15:40.217 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:15:40.248 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 15:15:40.248 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 15:15:40.324 +07:00 [Debug] Connection id ""0HLI6SIO8PTSU"" completed keep alive response.
2018-11-10 15:15:40.324 +07:00 [Debug] Connection id ""0HLI6SIO8PTSV"" completed keep alive response.
2018-11-10 15:15:40.325 +07:00 [Information] Request finished in 128.3138ms 200 application/json; charset=UTF-8
2018-11-10 15:15:40.325 +07:00 [Information] Request finished in 128.3539ms 200 application/json; charset=UTF-8
2018-11-10 15:15:40.433 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 15:15:40.435 +07:00 [Debug] "POST" requests are not supported
2018-11-10 15:15:40.435 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:15:40.435 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:15:40.436 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 15:15:40.437 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 15:15:40.437 +07:00 [Debug] "POST" requests are not supported
2018-11-10 15:15:40.438 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:15:40.438 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:15:40.438 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 15:15:40.475 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 15:15:40.475 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 15:15:40.476 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 15:15:40.476 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 15:15:40.488 +07:00 [Verbose] Processing token request.
2018-11-10 15:15:40.488 +07:00 [Verbose] Processing token request.
2018-11-10 15:15:40.516 +07:00 [Debug] Start token request.
2018-11-10 15:15:40.516 +07:00 [Debug] Start token request.
2018-11-10 15:15:40.543 +07:00 [Debug] Start client validation
2018-11-10 15:15:40.543 +07:00 [Debug] Start client validation
2018-11-10 15:15:40.563 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 15:15:40.563 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 15:15:40.566 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 15:15:40.566 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 15:15:40.566 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 15:15:40.566 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 15:15:40.595 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 15:15:40.595 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 15:15:40.596 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 15:15:40.596 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 15:15:40.637 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 15:15:40.637 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 15:15:40.637 +07:00 [Debug] Client validation success
2018-11-10 15:15:40.637 +07:00 [Debug] Client validation success
2018-11-10 15:15:40.781 +07:00 [Debug] Connection id ""0HLI6SIO8PTSV"", Request id ""0HLI6SIO8PTSV:00000003"": started reading request body.
2018-11-10 15:15:40.782 +07:00 [Debug] Connection id ""0HLI6SIO8PTSU"", Request id ""0HLI6SIO8PTSU:00000003"": started reading request body.
2018-11-10 15:15:40.845 +07:00 [Debug] Connection id ""0HLI6SIO8PTSU"", Request id ""0HLI6SIO8PTSU:00000003"": done reading request body.
2018-11-10 15:15:40.845 +07:00 [Debug] Connection id ""0HLI6SIO8PTSV"", Request id ""0HLI6SIO8PTSV:00000003"": done reading request body.
2018-11-10 15:15:40.868 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 15:15:40.868 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 15:15:40.889 +07:00 [Debug] Start token request validation
2018-11-10 15:15:40.889 +07:00 [Debug] Start token request validation
2018-11-10 15:15:40.934 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 15:15:40.934 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 15:15:42.642 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-10 15:15:43.473 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 15:15:43.477 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 15:15:43.584 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-10 15:15:43.643 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 15:15:43.643 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 15:15:43.654 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-10 15:15:44.979 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 15:15:44.979 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 15:15:45.547 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-10 15:15:45.803 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-10 15:15:46.636 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
                        FROM [AspNetUsers] AS [u]
                        WHERE [u].[NormalizedUserName] = @__normalizedUserName_0, 
                    shaper: UnbufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 15:15:46.903 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:46.903 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:47.599 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:47.599 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:47.815 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:15:47.815 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:15:48.200 +07:00 [Information] Executed DbCommand ("442"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:15:48.200 +07:00 [Information] Executed DbCommand ("442"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:15:48.629 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:15:48.630 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:15:48.633 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:48.633 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:48.676 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:48.676 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:48.686 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 6033.7572ms.
2018-11-10 15:15:48.724 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 15:15:48.724 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 15:15:49.069 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-10 15:15:49.092 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-10 15:15:49.092 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-10 15:15:49.143 +07:00 [Debug] Resource owner password token request validation success.
2018-11-10 15:15:49.143 +07:00 [Debug] Resource owner password token request validation success.
2018-11-10 15:15:49.143 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-10 15:15:49.143 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-10 15:15:49.181 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ro.angular\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api1\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 15:15:49.182 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ro.angular\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api1\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 15:15:49.182 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-10 15:15:49.182 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-10 15:15:49.196 +07:00 [Verbose] Creating response for password request
2018-11-10 15:15:49.196 +07:00 [Verbose] Creating response for password request
2018-11-10 15:15:49.238 +07:00 [Verbose] Creating access token
2018-11-10 15:15:49.238 +07:00 [Verbose] Creating access token
2018-11-10 15:15:49.266 +07:00 [Debug] Getting claims for access token for client: "ro.angular"
2018-11-10 15:15:49.266 +07:00 [Debug] Getting claims for access token for client: "ro.angular"
2018-11-10 15:15:49.268 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-10 15:15:49.268 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-10 15:15:49.305 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 235.2082ms.
2018-11-10 15:15:49.331 +07:00 [Debug] Executing action "/Index"
2018-11-10 15:15:49.447 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 15:15:49.451 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 15:15:49.495 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 15:15:49.562 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 15:15:50.003 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 15:15:50.007 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.007 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.015 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.015 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.016 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 15:15:50.016 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 15:15:50.052 +07:00 [Information] Executed DbCommand ("36"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 15:15:50.052 +07:00 [Information] Executed DbCommand ("36"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 15:15:50.063 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:15:50.063 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.064 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.064 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:15:50.065 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.066 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.079 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-10 15:15:50.227 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 15:15:50.260 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 15:15:50.427 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 15:15:50.430 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.430 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.430 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.431 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.431 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 15:15:50.431 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 15:15:50.449 +07:00 [Information] Executed DbCommand ("18"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 15:15:50.449 +07:00 [Information] Executed DbCommand ("18"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 15:15:50.453 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:15:50.453 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:15:50.453 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.454 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.454 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.454 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.558 +07:00 [Verbose] Creating JWT access token
2018-11-10 15:15:50.558 +07:00 [Verbose] Creating JWT access token
2018-11-10 15:15:50.687 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-10 15:15:50.807 +07:00 [Verbose] Access token issued for "ro.angular (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE4Mzc3NTAsImV4cCI6MTU0MTg0MTM1MCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMSJdLCJjbGllbnRfaWQiOiJyby5hbmd1bGFyIiwic3ViIjoiYjk2ZTQ4YWItNTIxZC00MmMxLTk5YjYtZmM2NjAzZWJjZDdhIiwiYXV0aF90aW1lIjoxNTQxODM3NzQ5LCJpZHAiOiJsb2NhbCIsImdpdmVuX25hbWUiOiJUaMOhaSBI4buTbmcgUXV54buDbiIsImVtYWlsIjoicXV5ZW50aEBnbWFpbC5jb20iLCJqdGkiOiI3YTVkYWEyYzBlNDVhOWUzN2ZhMzU2NjI1ODFiNjY1ZCIsInNjb3BlIjpbImFwaTEiXSwiYW1yIjpbInB3ZCJdfQ.GW-k9Jy3dX446Out--KBMcF7PQIq53gBFSntFyCLjdEFblHCPPGx96SI_GFZizFN1cA5WjJ9k6m62G8_7__0nvIOVVEsK1izF2bFo49wMa-h9BjQqQNxVXT50N-m66cFRMwnNAdsCkbMDlkFnTaYzq8iqdUdNJy_gSSWST43Fue9tNie1m4Rra8WyaZFcdmbqaEFgF7w8p9o8mSC9Fn086WDDp_e4a2xllSj8h9ELvUj38FdUwLQnEtka1y40rTz-RVc3zKkKiTAmDCb6OFJR2_nTMbptP9Yhtpc2g7NwiZwsx1A7i1ARpZ_aD4Rl7V9ZGkCNZJ_KSkdJmbEo9kYBw"
2018-11-10 15:15:50.807 +07:00 [Verbose] Access token issued for "ro.angular (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE4Mzc3NTAsImV4cCI6MTU0MTg0MTM1MCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMSJdLCJjbGllbnRfaWQiOiJyby5hbmd1bGFyIiwic3ViIjoiYjk2ZTQ4YWItNTIxZC00MmMxLTk5YjYtZmM2NjAzZWJjZDdhIiwiYXV0aF90aW1lIjoxNTQxODM3NzQ5LCJpZHAiOiJsb2NhbCIsImdpdmVuX25hbWUiOiJUaMOhaSBI4buTbmcgUXV54buDbiIsImVtYWlsIjoicXV5ZW50aEBnbWFpbC5jb20iLCJqdGkiOiIwZjU5M2E0ZjQ1NDgwNzM1MzE4OGFlNzRkYTk2ZTkxOCIsInNjb3BlIjpbImFwaTEiXSwiYW1yIjpbInB3ZCJdfQ.TejPfHZbPBk0tQlff8ntQ-ze_pcT7JIK4pi2iWkM6CBnadhnzXgoqBgu7yvuVm8Oji9n_iALZzEWY0GCCGJEAeLPgNqpdVscctl2Ln9ijnXJ0cUct1NPcQ7pQ84oceiFCvx9_nG5JEhaISatMa9giR3IAzkQyaMJHjgQoCn0LAeA12wrnC7UNNWUTMeJ7H_1dr6_qlPdeOz9BMumgYV_d4CYb-xX8o-3iX9HslbX6Ah_vV8epVdGcJKCqfBPD6Ym-QvbOLSJrgsYp5WOW37J0fZKqECEk7O2BQGH03KSM4EJmrf_NDBNusueTujiw84gncvxmX9NJOWIlbea4DiBJw"
2018-11-10 15:15:50.807 +07:00 [Debug] Token request success.
2018-11-10 15:15:50.807 +07:00 [Debug] Token request success.
2018-11-10 15:15:50.808 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-10 15:15:50.808 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-10 15:15:50.841 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 15:15:50.841 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 15:15:50.849 +07:00 [Debug] Connection id ""0HLI6SIO8PTSU"" completed keep alive response.
2018-11-10 15:15:50.849 +07:00 [Debug] Connection id ""0HLI6SIO8PTSV"" completed keep alive response.
2018-11-10 15:15:50.860 +07:00 [Information] Request finished in 10426.7731ms 200 application/json; charset=UTF-8
2018-11-10 15:15:50.860 +07:00 [Information] Request finished in 10422.8684ms 200 application/json; charset=UTF-8
2018-11-10 15:15:50.891 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 15:15:50.893 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.894 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.894 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 15:15:50.894 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:15:50.895 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.895 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:15:50.896 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.896 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:15:50.897 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:15:50.897 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.897 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.898 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:15:50.898 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 15:15:50.898 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:15:50.899 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.899 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.899 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 15:15:50.922 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.922 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.923 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.923 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.923 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:15:50.924 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:15:50.925 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:15:50.925 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:15:50.926 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.926 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.928 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:15:50.928 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:15:50.928 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.929 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:15:50.967 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-10 15:15:50.967 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-10 15:15:51.025 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 15:15:51.025 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 15:15:51.043 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-10 15:15:51.043 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-10 15:15:51.045 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 15:15:51.045 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 15:15:51.182 +07:00 [Debug] Connection id ""0HLI6SIO8PTSR"" received FIN.
2018-11-10 15:15:51.190 +07:00 [Debug] Connection id ""0HLI6SIO8PTSR"" disconnecting.
2018-11-10 15:15:51.200 +07:00 [Debug] Connection id ""0HLI6SIO8PTSR"" sending FIN.
2018-11-10 15:15:51.221 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 12433.9447ms
2018-11-10 15:15:51.221 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 12434.1518ms
2018-11-10 15:15:51.223 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 15:15:51.223 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 15:15:51.224 +07:00 [Debug] Connection id ""0HLI6SIO8PTST"" completed keep alive response.
2018-11-10 15:15:51.224 +07:00 [Information] Request finished in 15834.9221ms 200 application/json; charset=utf-8
2018-11-10 15:15:51.224 +07:00 [Information] Request finished in 13103.5895ms 200 application/json; charset=utf-8
2018-11-10 15:15:51.238 +07:00 [Debug] Connection id ""0HLI6SIO8PTSR"" stopped.
2018-11-10 15:15:51.330 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 643.151ms.
2018-11-10 15:15:51.349 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 15:15:51.383 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 15:15:51.394 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 15:15:51.395 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 15:15:51.446 +07:00 [Debug] Connection id ""0HLI6SIO8PTSV"" completed keep alive response.
2018-11-10 15:15:51.446 +07:00 [Information] Request finished in 97.4058ms 200 image/x-icon
2018-11-10 15:15:51.463 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 15:15:51.463 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 15:15:51.647 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-10 15:15:51.953 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-10 15:15:52.179 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 225.2154ms.
2018-11-10 15:15:52.302 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 15:15:52.348 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 15:15:52.365 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 15:15:52.541 +07:00 [Information] Executed action "/Index" in 3208.9314ms
2018-11-10 15:15:52.549 +07:00 [Debug] Connection id ""0HLI6SIO8PTSS"" completed keep alive response.
2018-11-10 15:15:52.549 +07:00 [Information] Request finished in 17160.3409ms 200 text/html; charset=utf-8
2018-11-10 15:16:21.173 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 15:16:21.174 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 15:16:21.174 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:16:21.174 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:16:21.174 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 15:16:21.175 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 15:16:21.175 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 15:16:21.175 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:16:21.176 +07:00 [Debug] Start discovery request
2018-11-10 15:16:21.176 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:16:21.176 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 15:16:21.177 +07:00 [Debug] Connection id ""0HLI6SIO8PTSU"" completed keep alive response.
2018-11-10 15:16:21.177 +07:00 [Information] Request finished in 4.4575ms 200 application/json; charset=UTF-8
2018-11-10 15:16:21.889 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 15:16:21.889 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 15:16:21.890 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:16:21.890 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:16:21.890 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 15:16:21.891 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 15:16:21.891 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 15:16:21.891 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:16:21.891 +07:00 [Debug] Start key discovery request
2018-11-10 15:16:21.891 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:16:21.892 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 15:16:21.892 +07:00 [Debug] Connection id ""0HLI6SIO8PTST"" completed keep alive response.
2018-11-10 15:16:21.893 +07:00 [Information] Request finished in 3.8033ms 200 application/json; charset=UTF-8
2018-11-10 15:16:55.737 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 15:16:55.893 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 15:16:55.921 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 15:16:55.968 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 15:16:56.007 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 15:16:56.021 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 15:16:56.028 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 15:16:56.061 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 15:16:56.085 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 15:16:56.123 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 15:16:56.130 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 15:16:56.329 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 15:16:56.382 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 15:16:56.387 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 15:16:56.388 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 15:16:56.388 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 15:16:56.389 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 15:16:57.077 +07:00 [Debug] Hosting starting
2018-11-10 15:16:57.431 +07:00 [Debug] Hosting started
2018-11-10 15:16:57.432 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 15:16:57.432 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 15:16:57.432 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 15:16:57.485 +07:00 [Debug] Connection id ""0HLI6SJGT1E7E"" started.
2018-11-10 15:16:58.025 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 15:16:58.277 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 15:16:58.474 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:16:58.523 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:16:58.542 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 15:16:59.015 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 15:16:59.215 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 15:16:59.216 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 15:16:59.229 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:16:59.231 +07:00 [Debug] Start discovery request
2018-11-10 15:16:59.238 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:16:59.353 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 15:16:59.851 +07:00 [Debug] Connection id ""0HLI6SJGT1E7E"" completed keep alive response.
2018-11-10 15:16:59.889 +07:00 [Information] Request finished in 1881.6468ms 200 application/json; charset=UTF-8
2018-11-10 15:17:00.510 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 15:17:00.511 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 15:17:00.512 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:17:00.513 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:17:00.514 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 15:17:00.517 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 15:17:00.517 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 15:17:00.538 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:17:00.538 +07:00 [Debug] Start key discovery request
2018-11-10 15:17:00.538 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:17:00.579 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 15:17:00.655 +07:00 [Debug] Connection id ""0HLI6SJGT1E7E"" completed keep alive response.
2018-11-10 15:17:00.656 +07:00 [Information] Request finished in 145.4296ms 200 application/json; charset=UTF-8
2018-11-10 15:17:21.319 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 15:17:21.333 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 15:17:21.369 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 15:17:21.441 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 15:17:21.445 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 15:17:21.448 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 15:17:22.873 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 15:17:23.278 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 15:17:23.698 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 15:17:23.714 +07:00 [Information] Test log
2018-11-10 15:17:23.939 +07:00 [Debug] Connection id ""0HLI6SJGT1E7F"" started.
2018-11-10 15:17:23.940 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 15:17:23.940 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 15:17:23.941 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:17:23.941 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:17:23.941 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 15:17:23.942 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 15:17:23.942 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 15:17:23.943 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:17:23.943 +07:00 [Debug] Start discovery request
2018-11-10 15:17:23.943 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:17:23.944 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 15:17:23.945 +07:00 [Debug] Connection id ""0HLI6SJGT1E7F"" completed keep alive response.
2018-11-10 15:17:23.946 +07:00 [Information] Request finished in 5.649ms 200 application/json; charset=UTF-8
2018-11-10 15:17:24.023 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 15:17:24.024 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 15:17:24.024 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:17:24.024 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:17:24.025 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 15:17:24.026 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 15:17:24.026 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 15:17:24.026 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:17:24.026 +07:00 [Debug] Start key discovery request
2018-11-10 15:17:24.026 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:17:24.027 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 15:17:24.027 +07:00 [Debug] Connection id ""0HLI6SJGT1E7F"" completed keep alive response.
2018-11-10 15:17:24.028 +07:00 [Information] Request finished in 4.0688ms 200 application/json; charset=UTF-8
2018-11-10 15:17:24.144 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 15:17:24.146 +07:00 [Debug] "POST" requests are not supported
2018-11-10 15:17:24.146 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:17:24.146 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:17:24.146 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 15:17:24.166 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 15:17:24.166 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 15:17:24.176 +07:00 [Verbose] Processing token request.
2018-11-10 15:17:24.194 +07:00 [Debug] Start token request.
2018-11-10 15:17:24.216 +07:00 [Debug] Start client validation
2018-11-10 15:17:24.234 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 15:17:24.237 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 15:17:24.237 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 15:17:24.264 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 15:17:24.264 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 15:17:24.296 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 15:17:24.296 +07:00 [Debug] Client validation success
2018-11-10 15:17:24.420 +07:00 [Debug] Connection id ""0HLI6SJGT1E7F"", Request id ""0HLI6SJGT1E7F:00000003"": started reading request body.
2018-11-10 15:17:24.475 +07:00 [Debug] Connection id ""0HLI6SJGT1E7F"", Request id ""0HLI6SJGT1E7F:00000003"": done reading request body.
2018-11-10 15:17:24.494 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 15:17:24.514 +07:00 [Debug] Start token request validation
2018-11-10 15:17:24.557 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 15:17:26.571 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 15:17:26.573 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 15:17:26.665 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-10 15:17:26.726 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 15:17:26.726 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 15:17:26.738 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-10 15:17:27.798 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 15:17:28.429 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-10 15:17:28.655 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-10 15:17:29.338 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
                        FROM [AspNetUsers] AS [u]
                        WHERE [u].[NormalizedUserName] = @__normalizedUserName_0, 
                    shaper: UnbufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 15:17:29.622 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:17:30.318 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:17:30.514 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:17:30.935 +07:00 [Information] Executed DbCommand ("464"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:17:31.336 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:17:31.339 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:17:31.379 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:17:31.424 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 15:17:31.783 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-10 15:17:31.831 +07:00 [Debug] Resource owner password token request validation success.
2018-11-10 15:17:31.832 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-10 15:17:31.868 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ro.angular\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api1\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 15:17:31.869 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-10 15:17:31.883 +07:00 [Verbose] Creating response for password request
2018-11-10 15:17:31.923 +07:00 [Verbose] Creating access token
2018-11-10 15:17:31.955 +07:00 [Debug] Getting claims for access token for client: "ro.angular"
2018-11-10 15:17:31.957 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-10 15:17:32.191 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 15:17:32.248 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 15:17:32.500 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 15:17:32.502 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:17:32.509 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:17:32.509 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 15:17:32.526 +07:00 [Information] Executed DbCommand ("16"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 15:17:32.533 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:17:32.533 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:17:32.534 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:17:32.629 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 15:17:32.645 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 15:17:32.737 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 15:17:32.739 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:17:32.739 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:17:32.740 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 15:17:32.749 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 15:17:32.752 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:17:32.752 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:17:32.753 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:17:32.843 +07:00 [Verbose] Creating JWT access token
2018-11-10 15:17:33.063 +07:00 [Verbose] Access token issued for "ro.angular (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE4Mzc4NTIsImV4cCI6MTU0MTg0MTQ1MiwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMSJdLCJjbGllbnRfaWQiOiJyby5hbmd1bGFyIiwic3ViIjoiYjk2ZTQ4YWItNTIxZC00MmMxLTk5YjYtZmM2NjAzZWJjZDdhIiwiYXV0aF90aW1lIjoxNTQxODM3ODUxLCJpZHAiOiJsb2NhbCIsImdpdmVuX25hbWUiOiJUaMOhaSBI4buTbmcgUXV54buDbiIsImVtYWlsIjoicXV5ZW50aEBnbWFpbC5jb20iLCJqdGkiOiJmOTA0YTliNmNlNGExZTAyNTcxYTMxODQzN2VjNmFmYiIsInNjb3BlIjpbImFwaTEiXSwiYW1yIjpbInB3ZCJdfQ.SZUzcOnR1aTvlYOULyn0I3O5aN5OdtLMnGx7Utn7ilrua44D5N_wZtCOdfyKdYpYIloY2PjpzQRZNF0HgBU9SkVmqQeCRHioV-gZY-m_RLd_nqb3osDw4SI-eGUiRdKl3EVopGdHnkMFIkkv46w9iqcPbIxgx5Bx-yqu3XiTnfmAvXHWZqfVzXL5__5j9fg1hZxKeF2sz6SJ6qXXY9jI8B7aDwUBh3LWwCF74gWkci4fDGQ6EVpALpqCUDfF_6GqYYiELDZyUm2UMyXODntcSI5hJlmiY_RA6iH-8hY1quvg41gFVgRxHBg0wzP03OyxkymGjaz4rx1nH2PYIVr8aQ"
2018-11-10 15:17:33.064 +07:00 [Debug] Token request success.
2018-11-10 15:17:33.065 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-10 15:17:33.096 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 15:17:33.104 +07:00 [Debug] Connection id ""0HLI6SJGT1E7F"" completed keep alive response.
2018-11-10 15:17:33.112 +07:00 [Information] Request finished in 8968.0679ms 200 application/json; charset=UTF-8
2018-11-10 15:17:33.132 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 15:17:33.166 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:17:33.167 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:17:33.171 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:17:33.172 +07:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:17:33.173 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:17:33.174 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:17:33.174 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:17:33.175 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 15:17:33.200 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:17:33.200 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:17:33.200 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:17:33.202 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:17:33.202 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:17:33.202 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:17:33.203 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:17:33.252 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-10 15:17:33.336 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 15:17:33.353 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-10 15:17:33.354 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 15:17:33.541 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 10244.9453ms
2018-11-10 15:17:33.549 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 15:17:33.549 +07:00 [Debug] Connection id ""0HLI6SJGT1E7E"" completed keep alive response.
2018-11-10 15:17:33.550 +07:00 [Information] Request finished in 12231.0809ms 200 application/json; charset=utf-8
2018-11-10 15:18:47.393 +07:00 [Debug] Connection id ""0HLI6SJGT1E7F"" received FIN.
2018-11-10 15:18:47.393 +07:00 [Debug] Connection id ""0HLI6SJGT1E7E"" received FIN.
2018-11-10 15:18:47.398 +07:00 [Debug] Connection id ""0HLI6SJGT1E7F"" disconnecting.
2018-11-10 15:18:47.399 +07:00 [Debug] Connection id ""0HLI6SJGT1E7E"" disconnecting.
2018-11-10 15:18:47.405 +07:00 [Debug] Connection id ""0HLI6SJGT1E7F"" sending FIN.
2018-11-10 15:18:47.405 +07:00 [Debug] Connection id ""0HLI6SJGT1E7E"" sending FIN.
2018-11-10 15:18:47.413 +07:00 [Debug] Connection id ""0HLI6SJGT1E7F"" stopped.
2018-11-10 15:18:47.413 +07:00 [Debug] Connection id ""0HLI6SJGT1E7E"" stopped.
2018-11-10 15:19:11.695 +07:00 [Debug] Connection id ""0HLI6SJGT1E7G"" started.
2018-11-10 15:19:11.696 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 15:19:11.696 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 15:19:11.697 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 15:19:11.698 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 15:19:11.698 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 15:19:11.699 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 15:19:11.699 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 15:19:11.703 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 15:19:11.705 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 15:19:11.705 +07:00 [Information] Test log
2018-11-10 15:19:11.750 +07:00 [Debug] Connection id ""0HLI6SJGT1E7H"" started.
2018-11-10 15:19:11.751 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 15:19:11.751 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 15:19:11.751 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:19:11.752 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:19:11.752 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 15:19:11.752 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 15:19:11.753 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 15:19:11.753 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:19:11.753 +07:00 [Debug] Start discovery request
2018-11-10 15:19:11.753 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:19:11.754 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 15:19:11.754 +07:00 [Debug] Connection id ""0HLI6SJGT1E7H"" completed keep alive response.
2018-11-10 15:19:11.754 +07:00 [Information] Request finished in 3.9952ms 200 application/json; charset=UTF-8
2018-11-10 15:19:11.763 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 15:19:11.764 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 15:19:11.764 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:19:11.764 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:19:11.764 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 15:19:11.765 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 15:19:11.765 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 15:19:11.765 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:19:11.765 +07:00 [Debug] Start key discovery request
2018-11-10 15:19:11.766 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:19:11.766 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 15:19:11.766 +07:00 [Debug] Connection id ""0HLI6SJGT1E7H"" completed keep alive response.
2018-11-10 15:19:11.767 +07:00 [Information] Request finished in 3.6543ms 200 application/json; charset=UTF-8
2018-11-10 15:19:11.795 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 15:19:11.796 +07:00 [Debug] "POST" requests are not supported
2018-11-10 15:19:11.796 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:19:11.797 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:19:11.797 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 15:19:11.798 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 15:19:11.798 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 15:19:11.798 +07:00 [Verbose] Processing token request.
2018-11-10 15:19:11.799 +07:00 [Debug] Start token request.
2018-11-10 15:19:11.799 +07:00 [Debug] Start client validation
2018-11-10 15:19:11.799 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 15:19:11.799 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 15:19:11.799 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 15:19:11.800 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 15:19:11.800 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 15:19:11.800 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 15:19:11.801 +07:00 [Debug] Client validation success
2018-11-10 15:19:11.801 +07:00 [Debug] Connection id ""0HLI6SJGT1E7H"", Request id ""0HLI6SJGT1E7H:00000003"": started reading request body.
2018-11-10 15:19:11.801 +07:00 [Debug] Connection id ""0HLI6SJGT1E7H"", Request id ""0HLI6SJGT1E7H:00000003"": done reading request body.
2018-11-10 15:19:11.802 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 15:19:11.802 +07:00 [Debug] Start token request validation
2018-11-10 15:19:11.802 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 15:19:11.803 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 15:19:11.805 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:19:11.805 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:19:11.806 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:19:11.815 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:19:11.816 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:19:11.816 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:19:11.817 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:19:11.817 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 15:19:11.849 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-10 15:19:11.850 +07:00 [Debug] Resource owner password token request validation success.
2018-11-10 15:19:11.850 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-10 15:19:11.850 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ro.angular\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api1\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 15:19:11.851 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-10 15:19:11.851 +07:00 [Verbose] Creating response for password request
2018-11-10 15:19:11.851 +07:00 [Verbose] Creating access token
2018-11-10 15:19:11.851 +07:00 [Debug] Getting claims for access token for client: "ro.angular"
2018-11-10 15:19:11.851 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-10 15:19:11.853 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:19:11.853 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:19:11.853 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 15:19:11.857 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 15:19:11.858 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:19:11.858 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:19:11.858 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:19:11.863 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:19:11.863 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:19:11.864 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 15:19:11.870 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 15:19:11.870 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:19:11.870 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:19:11.870 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:19:11.871 +07:00 [Verbose] Creating JWT access token
2018-11-10 15:19:11.883 +07:00 [Verbose] Access token issued for "ro.angular (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE4Mzc5NTEsImV4cCI6MTU0MTg0MTU1MSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMSJdLCJjbGllbnRfaWQiOiJyby5hbmd1bGFyIiwic3ViIjoiYjk2ZTQ4YWItNTIxZC00MmMxLTk5YjYtZmM2NjAzZWJjZDdhIiwiYXV0aF90aW1lIjoxNTQxODM3OTUxLCJpZHAiOiJsb2NhbCIsImdpdmVuX25hbWUiOiJUaMOhaSBI4buTbmcgUXV54buDbiIsImVtYWlsIjoicXV5ZW50aEBnbWFpbC5jb20iLCJqdGkiOiIzZjlkYzEwZjcyNGQ5YjlhNzI4YzQ4MWE4MDJiODM4ZSIsInNjb3BlIjpbImFwaTEiXSwiYW1yIjpbInB3ZCJdfQ.jCSrQyptWjS45yUO-d7XqHTKHqe7_00rlXw7KXNX-nuKLPOReLzg6KKsIeEuB5Ou-1rfRsHLXqMpXUNOz1KL4jjQcwHXaHv5mLftClU5ehC-mUJ_d9Dk8oJD4Kp4KG3KNOZLDG8ipQZ64IjuSajJ1542RXOYKxwXBIgK48wYWrEOIycf4SaroI_M1jbO9KFfSxSTdhXCnKbG7wyPYkeMXVTGlC7BWlTrGWVy0lA1ocitU2hqDc-VYXfwFfeZdJYaULCXoy-kuLlKPZBAEA0zvcch7kV8jchBbvDUgh2HakovLqS9DryclXAC0YJ0Do_RM3ib8NSnyRNVsm2x89Lz6w"
2018-11-10 15:19:11.884 +07:00 [Debug] Token request success.
2018-11-10 15:19:11.884 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-10 15:19:11.884 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 15:19:11.885 +07:00 [Debug] Connection id ""0HLI6SJGT1E7H"" completed keep alive response.
2018-11-10 15:19:11.885 +07:00 [Information] Request finished in 89.4158ms 200 application/json; charset=UTF-8
2018-11-10 15:19:11.887 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 15:19:11.887 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:19:11.888 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:19:11.888 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:19:11.889 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:19:11.890 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:19:11.890 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:19:11.890 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:19:11.891 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 15:19:11.891 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:19:11.891 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:19:11.892 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:19:11.893 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 15:19:11.893 +07:00 [Debug] A data reader was disposed.
2018-11-10 15:19:11.894 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:19:11.894 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 15:19:11.927 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-10 15:19:11.928 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 15:19:11.928 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-10 15:19:11.928 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 15:19:11.929 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 225.9165ms
2018-11-10 15:19:11.930 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 15:19:11.930 +07:00 [Debug] Connection id ""0HLI6SJGT1E7G"" completed keep alive response.
2018-11-10 15:19:11.930 +07:00 [Information] Request finished in 235.023ms 200 application/json; charset=utf-8
2018-11-10 15:20:37.393 +07:00 [Debug] Connection id ""0HLI6SJGT1E7H"" received FIN.
2018-11-10 15:20:37.394 +07:00 [Debug] Connection id ""0HLI6SJGT1E7H"" disconnecting.
2018-11-10 15:20:37.394 +07:00 [Debug] Connection id ""0HLI6SJGT1E7H"" sending FIN.
2018-11-10 15:20:37.395 +07:00 [Debug] Connection id ""0HLI6SJGT1E7H"" stopped.
2018-11-10 15:20:37.395 +07:00 [Debug] Connection id ""0HLI6SJGT1E7G"" received FIN.
2018-11-10 15:20:37.395 +07:00 [Debug] Connection id ""0HLI6SJGT1E7G"" disconnecting.
2018-11-10 15:20:37.396 +07:00 [Debug] Connection id ""0HLI6SJGT1E7G"" sending FIN.
2018-11-10 15:20:37.397 +07:00 [Debug] Connection id ""0HLI6SJGT1E7G"" stopped.
2018-11-10 15:21:29.173 +07:00 [Debug] Connection id ""0HLI6SJGT1E7I"" started.
2018-11-10 15:21:29.174 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 15:21:29.174 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 15:21:29.175 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:21:29.175 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:21:29.176 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 15:21:29.176 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 15:21:29.177 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 15:21:29.177 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:21:29.177 +07:00 [Debug] Start discovery request
2018-11-10 15:21:29.177 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:21:29.178 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 15:21:29.179 +07:00 [Debug] Connection id ""0HLI6SJGT1E7I"" completed keep alive response.
2018-11-10 15:21:29.179 +07:00 [Information] Request finished in 5.7547ms 200 application/json; charset=UTF-8
2018-11-10 15:21:30.057 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 15:21:30.057 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 15:21:30.058 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:21:30.058 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 15:21:30.058 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 15:21:30.059 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 15:21:30.059 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 15:21:30.059 +07:00 [Verbose] Processing discovery request.
2018-11-10 15:21:30.059 +07:00 [Debug] Start key discovery request
2018-11-10 15:21:30.059 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 15:21:30.060 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 15:21:30.060 +07:00 [Debug] Connection id ""0HLI6SJGT1E7I"" completed keep alive response.
2018-11-10 15:21:30.060 +07:00 [Information] Request finished in 3.3651ms 200 application/json; charset=UTF-8
2018-11-10 19:37:20.529 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 19:37:20.583 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 19:37:20.612 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 19:37:20.628 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 19:37:20.640 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 19:37:20.644 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 19:37:20.646 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 19:37:20.656 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 19:37:20.663 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 19:37:20.674 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 19:37:20.677 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 19:37:20.789 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 19:37:20.823 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 19:37:20.826 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 19:37:20.826 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 19:37:20.827 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 19:37:20.827 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 19:37:21.071 +07:00 [Debug] Hosting starting
2018-11-10 19:37:21.182 +07:00 [Debug] Hosting started
2018-11-10 19:37:21.182 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 19:37:21.183 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 19:37:21.183 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 19:37:21.483 +07:00 [Debug] Connection id ""0HLI715176VI1"" started.
2018-11-10 19:37:21.655 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 19:37:21.746 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 19:37:21.817 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 19:37:21.968 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 19:37:22.554 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 19:37:22.555 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 19:37:22.579 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-10 19:37:22.596 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 19:37:22.596 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 19:37:22.599 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-10 19:37:22.900 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 19:37:23.040 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser e in DbSet<ApplicationUser>
where Property([e], \"Id\") == __get_Item_0
select [e]).FirstOrDefault()"'
2018-11-10 19:37:23.108 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser e in DbSet<ApplicationUser>
where Property([e], \"Id\") == __get_Item_0
select [e]).FirstOrDefault()"'
2018-11-10 19:37:23.294 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
                        FROM [AspNetUsers] AS [e]
                        WHERE [e].[Id] = @__get_Item_0, 
                    shaper: BufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 19:37:23.386 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 19:37:23.675 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 19:37:23.745 +07:00 [Debug] Executing DbCommand [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-11-10 19:37:23.852 +07:00 [Information] Executed DbCommand ("120"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-11-10 19:37:23.974 +07:00 [Debug] A data reader was disposed.
2018-11-10 19:37:23.975 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 19:37:23.986 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 19:37:23.998 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 19:37:24.094 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 19:37:24.103 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 19:37:24.166 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 19:37:24.167 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 19:37:24.169 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 19:37:24.169 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 19:37:24.174 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 19:37:24.176 +07:00 [Debug] A data reader was disposed.
2018-11-10 19:37:24.176 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 19:37:24.176 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 19:37:24.202 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 19:37:24.206 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 19:37:24.234 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 19:37:24.235 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 19:37:24.235 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 19:37:24.235 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 19:37:24.238 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 19:37:24.239 +07:00 [Debug] A data reader was disposed.
2018-11-10 19:37:24.239 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 19:37:24.239 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 19:37:24.262 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 19:37:24.293 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 19:37:24.296 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 19:37:24.820 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 19:37:26.520 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-10 19:37:28.337 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1814.1729ms.
2018-11-10 19:37:28.508 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-10 19:37:28.611 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 103.0687ms.
2018-11-10 19:37:28.670 +07:00 [Debug] Executing action "/Index"
2018-11-10 19:37:28.735 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 19:37:28.736 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 19:37:28.863 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-10 19:37:28.965 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-10 19:37:29.114 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 149.7845ms.
2018-11-10 19:37:29.128 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 19:37:29.131 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 19:37:29.150 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 19:37:29.150 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 19:37:29.201 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-10 19:37:29.331 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-10 19:37:29.431 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 100.3787ms.
2018-11-10 19:37:29.483 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 19:37:29.496 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 19:37:29.502 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 19:37:29.577 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 19:37:29.642 +07:00 [Information] Executed action "/Index" in 970.225ms
2018-11-10 19:37:29.647 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 19:37:29.655 +07:00 [Debug] Connection id ""0HLI715176VI1"" completed keep alive response.
2018-11-10 19:37:29.658 +07:00 [Debug] Connection id ""0HLI715176VI3"" started.
2018-11-10 19:37:29.658 +07:00 [Debug] Connection id ""0HLI715176VI2"" started.
2018-11-10 19:37:29.659 +07:00 [Debug] Connection id ""0HLI715176VI4"" started.
2018-11-10 19:37:29.659 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/images/banner2.svg  
2018-11-10 19:37:29.659 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/css/site.css  
2018-11-10 19:37:29.659 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/images/banner1.svg  
2018-11-10 19:37:29.661 +07:00 [Debug] Connection id ""0HLI715176VI5"" started.
2018-11-10 19:37:29.661 +07:00 [Debug] Connection id ""0HLI715176VI6"" started.
2018-11-10 19:37:29.661 +07:00 [Debug] Connection id ""0HLI715176VI7"" started.
2018-11-10 19:37:29.661 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/images/banner3.svg  
2018-11-10 19:37:29.661 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/lib/jquery/dist/jquery.js  
2018-11-10 19:37:29.661 +07:00 [Debug] Connection id ""0HLI715176VI8"" started.
2018-11-10 19:37:29.662 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/js/site.js?v=EWaMeWsJBYWmL2g_KkgXZQ5nPe-a3Ichp0LEgzXczKo  
2018-11-10 19:37:29.662 +07:00 [Debug] Connection id ""0HLI715176VI9"" started.
2018-11-10 19:37:29.662 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/lib/bootstrap/dist/js/bootstrap.js  
2018-11-10 19:37:29.665 +07:00 [Information] Request finished in 8020.3653ms 200 text/html; charset=utf-8
2018-11-10 19:37:29.683 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/lib/bootstrap/dist/css/bootstrap.css  
2018-11-10 19:37:29.691 +07:00 [Information] The file "/images/banner1.svg" was not modified
2018-11-10 19:37:29.691 +07:00 [Information] The file "/css/site.css" was not modified
2018-11-10 19:37:29.691 +07:00 [Information] The file "/js/site.js" was not modified
2018-11-10 19:37:29.691 +07:00 [Information] The file "/lib/jquery/dist/jquery.js" was not modified
2018-11-10 19:37:29.691 +07:00 [Information] The file "/images/banner3.svg" was not modified
2018-11-10 19:37:29.691 +07:00 [Information] The file "/images/banner2.svg" was not modified
2018-11-10 19:37:29.691 +07:00 [Information] The file "/lib/bootstrap/dist/css/bootstrap.css" was not modified
2018-11-10 19:37:29.691 +07:00 [Information] The file "/lib/bootstrap/dist/js/bootstrap.js" was not modified
2018-11-10 19:37:29.697 +07:00 [Debug] Handled. Status code: 304 File: "/css/site.css"
2018-11-10 19:37:29.697 +07:00 [Debug] Handled. Status code: 304 File: "/lib/bootstrap/dist/css/bootstrap.css"
2018-11-10 19:37:29.697 +07:00 [Debug] Handled. Status code: 304 File: "/lib/jquery/dist/jquery.js"
2018-11-10 19:37:29.697 +07:00 [Debug] Handled. Status code: 304 File: "/images/banner2.svg"
2018-11-10 19:37:29.697 +07:00 [Debug] Handled. Status code: 304 File: "/lib/bootstrap/dist/js/bootstrap.js"
2018-11-10 19:37:29.697 +07:00 [Debug] Handled. Status code: 304 File: "/js/site.js"
2018-11-10 19:37:29.697 +07:00 [Debug] Handled. Status code: 304 File: "/images/banner3.svg"
2018-11-10 19:37:29.697 +07:00 [Debug] Handled. Status code: 304 File: "/images/banner1.svg"
2018-11-10 19:37:29.701 +07:00 [Debug] Connection id ""0HLI715176VI5"" completed keep alive response.
2018-11-10 19:37:29.701 +07:00 [Debug] Connection id ""0HLI715176VI3"" completed keep alive response.
2018-11-10 19:37:29.701 +07:00 [Debug] Connection id ""0HLI715176VI7"" completed keep alive response.
2018-11-10 19:37:29.701 +07:00 [Information] Request finished in 41.886ms 304 text/css
2018-11-10 19:37:29.701 +07:00 [Information] Request finished in 40.0042ms 304 application/javascript
2018-11-10 19:37:29.701 +07:00 [Information] Request finished in 39.6829ms 304 application/javascript
2018-11-10 19:37:29.701 +07:00 [Debug] Connection id ""0HLI715176VI8"" completed keep alive response.
2018-11-10 19:37:29.702 +07:00 [Information] Request finished in 39.8056ms 304 application/javascript
2018-11-10 19:37:29.702 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/images/banner4.svg  
2018-11-10 19:37:29.702 +07:00 [Information] The file "/images/banner4.svg" was not modified
2018-11-10 19:37:29.701 +07:00 [Debug] Connection id ""0HLI715176VI1"" completed keep alive response.
2018-11-10 19:37:29.702 +07:00 [Debug] Handled. Status code: 304 File: "/images/banner4.svg"
2018-11-10 19:37:29.702 +07:00 [Information] Request finished in 19.4617ms 304 text/css
2018-11-10 19:37:29.702 +07:00 [Debug] Connection id ""0HLI715176VI9"" completed keep alive response.
2018-11-10 19:37:29.702 +07:00 [Information] Request finished in 0.8233ms 304 image/svg+xml
2018-11-10 19:37:29.701 +07:00 [Debug] Connection id ""0HLI715176VI2"" completed keep alive response.
2018-11-10 19:37:29.703 +07:00 [Debug] Connection id ""0HLI715176VI6"" completed keep alive response.
2018-11-10 19:37:29.703 +07:00 [Information] Request finished in 43.4956ms 304 image/svg+xml
2018-11-10 19:37:29.703 +07:00 [Debug] Connection id ""0HLI715176VI4"" completed keep alive response.
2018-11-10 19:37:29.703 +07:00 [Information] Request finished in 41.3581ms 304 image/svg+xml
2018-11-10 19:37:29.703 +07:00 [Information] Request finished in 43.3377ms 304 image/svg+xml
2018-11-10 19:37:29.731 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2  
2018-11-10 19:37:29.731 +07:00 [Information] The file "/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2" was not modified
2018-11-10 19:37:29.731 +07:00 [Debug] Handled. Status code: 304 File: "/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2"
2018-11-10 19:37:29.732 +07:00 [Debug] Connection id ""0HLI715176VI8"" completed keep alive response.
2018-11-10 19:37:29.732 +07:00 [Information] Request finished in 0.9322ms 304 font/woff2
2018-11-10 19:37:43.079 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 19:37:43.079 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 19:37:43.079 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 19:37:43.080 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 19:37:43.081 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 19:37:43.081 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 19:37:43.083 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 19:37:43.151 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 19:37:43.260 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 19:37:43.263 +07:00 [Information] Test log
2018-11-10 19:37:43.336 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 19:37:43.336 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 19:37:43.336 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:37:43.336 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:37:43.337 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 19:37:43.341 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 19:37:43.341 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 19:37:43.344 +07:00 [Verbose] Processing discovery request.
2018-11-10 19:37:43.345 +07:00 [Debug] Start discovery request
2018-11-10 19:37:43.346 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 19:37:43.397 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 19:37:43.471 +07:00 [Debug] Connection id ""0HLI715176VI1"" completed keep alive response.
2018-11-10 19:37:43.471 +07:00 [Information] Request finished in 135.5988ms 200 application/json; charset=UTF-8
2018-11-10 19:37:43.497 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 19:37:43.497 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 19:37:43.497 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:37:43.497 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:37:43.497 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 19:37:43.498 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 19:37:43.498 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 19:37:43.501 +07:00 [Verbose] Processing discovery request.
2018-11-10 19:37:43.502 +07:00 [Debug] Start key discovery request
2018-11-10 19:37:43.502 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 19:37:43.510 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 19:37:43.528 +07:00 [Debug] Connection id ""0HLI715176VI5"" completed keep alive response.
2018-11-10 19:37:43.528 +07:00 [Information] Request finished in 31.5956ms 200 application/json; charset=UTF-8
2018-11-10 19:37:43.581 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 19:37:43.582 +07:00 [Debug] "POST" requests are not supported
2018-11-10 19:37:43.583 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:37:43.583 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:37:43.583 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 19:37:43.604 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 19:37:43.604 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 19:37:43.614 +07:00 [Verbose] Processing token request.
2018-11-10 19:37:43.632 +07:00 [Debug] Start token request.
2018-11-10 19:37:43.645 +07:00 [Debug] Start client validation
2018-11-10 19:37:43.657 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 19:37:43.658 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 19:37:43.658 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 19:37:43.672 +07:00 [Error] No client with id '"ro.angular"' found. aborting
2018-11-10 19:37:43.674 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenErrorResult"
2018-11-10 19:37:43.683 +07:00 [Debug] Connection id ""0HLI715176VI7"" completed keep alive response.
2018-11-10 19:37:43.688 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-10 19:37:43.695 +07:00 [Debug] Connection id ""0HLI715176VI7"", Request id ""0HLI715176VI7:00000002"": started reading request body.
2018-11-10 19:37:43.710 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 19:37:43.713 +07:00 [Debug] Connection id ""0HLI715176VI7"", Request id ""0HLI715176VI7:00000002"": done reading request body.
2018-11-10 19:37:43.713 +07:00 [Information] Request finished in 131.795ms 400 application/json; charset=UTF-8
2018-11-10 19:37:43.717 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-10 19:37:43.717 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 19:37:43.727 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 575.9628ms
2018-11-10 19:37:43.727 +07:00 [Debug] Connection id ""0HLI715176VI2"" completed keep alive response.
2018-11-10 19:37:43.727 +07:00 [Information] Request finished in 648.4984ms 400 text/plain; charset=utf-8
2018-11-10 19:37:45.840 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 19:37:45.840 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 19:37:45.841 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 19:37:45.841 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 19:37:45.841 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 19:37:45.841 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 19:37:45.841 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 19:37:45.842 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 19:37:45.843 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 19:37:45.843 +07:00 [Information] Test log
2018-11-10 19:37:45.851 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 19:37:45.852 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 19:37:45.852 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:37:45.852 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:37:45.852 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 19:37:45.852 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 19:37:45.852 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 19:37:45.855 +07:00 [Verbose] Processing discovery request.
2018-11-10 19:37:45.856 +07:00 [Debug] Start discovery request
2018-11-10 19:37:45.856 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 19:37:45.856 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 19:37:45.856 +07:00 [Debug] Connection id ""0HLI715176VI9"" completed keep alive response.
2018-11-10 19:37:45.856 +07:00 [Information] Request finished in 4.827ms 200 application/json; charset=UTF-8
2018-11-10 19:37:45.859 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 19:37:45.859 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 19:37:45.859 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:37:45.859 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:37:45.859 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 19:37:45.860 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 19:37:45.860 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 19:37:45.860 +07:00 [Verbose] Processing discovery request.
2018-11-10 19:37:45.860 +07:00 [Debug] Start key discovery request
2018-11-10 19:37:45.860 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 19:37:45.860 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 19:37:45.860 +07:00 [Debug] Connection id ""0HLI715176VI4"" completed keep alive response.
2018-11-10 19:37:45.860 +07:00 [Information] Request finished in 1.4257ms 200 application/json; charset=UTF-8
2018-11-10 19:37:45.871 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 19:37:45.872 +07:00 [Debug] "POST" requests are not supported
2018-11-10 19:37:45.872 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:37:45.872 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:37:45.872 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 19:37:45.872 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 19:37:45.872 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 19:37:45.873 +07:00 [Verbose] Processing token request.
2018-11-10 19:37:45.873 +07:00 [Debug] Start token request.
2018-11-10 19:37:45.873 +07:00 [Debug] Start client validation
2018-11-10 19:37:45.873 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 19:37:45.873 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 19:37:45.873 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 19:37:45.873 +07:00 [Error] No client with id '"ro.angular"' found. aborting
2018-11-10 19:37:45.873 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenErrorResult"
2018-11-10 19:37:45.874 +07:00 [Debug] Connection id ""0HLI715176VI6"" completed keep alive response.
2018-11-10 19:37:45.874 +07:00 [Debug] Connection id ""0HLI715176VI6"", Request id ""0HLI715176VI6:00000002"": started reading request body.
2018-11-10 19:37:45.874 +07:00 [Debug] Connection id ""0HLI715176VI6"", Request id ""0HLI715176VI6:00000002"": done reading request body.
2018-11-10 19:37:45.874 +07:00 [Information] Request finished in 2.9505ms 400 application/json; charset=UTF-8
2018-11-10 19:37:45.877 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-10 19:37:45.877 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 19:37:45.877 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-10 19:37:45.877 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 19:37:45.877 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 34.8014ms
2018-11-10 19:37:45.877 +07:00 [Debug] Connection id ""0HLI715176VI3"" completed keep alive response.
2018-11-10 19:37:45.878 +07:00 [Information] Request finished in 37.3896ms 400 text/plain; charset=utf-8
2018-11-10 19:37:45.899 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 19:37:45.900 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 19:37:45.923 +07:00 [Debug] Connection id ""0HLI715176VI8"" completed keep alive response.
2018-11-10 19:37:45.923 +07:00 [Information] Request finished in 23.3155ms 200 image/x-icon
2018-11-10 19:38:04.682 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 19:38:04.739 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 19:38:04.751 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 19:38:04.766 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 19:38:04.783 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 19:38:04.789 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 19:38:04.792 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 19:38:04.803 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 19:38:04.811 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 19:38:04.826 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 19:38:04.829 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 19:38:04.974 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 19:38:04.995 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 19:38:04.997 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 19:38:04.999 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 19:38:05.001 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 19:38:05.002 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 19:38:05.260 +07:00 [Debug] Hosting starting
2018-11-10 19:38:05.474 +07:00 [Debug] Hosting started
2018-11-10 19:38:05.476 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 19:38:05.477 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 19:38:05.479 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 19:38:05.624 +07:00 [Debug] Connection id ""0HLI715EC7QOA"" started.
2018-11-10 19:38:05.624 +07:00 [Debug] Connection id ""0HLI715EC7QO9"" started.
2018-11-10 19:38:05.718 +07:00 [Debug] Connection id ""0HLI715EC7QO9"" reset.
2018-11-10 19:38:05.722 +07:00 [Debug] Connection id ""0HLI715EC7QO9"" disconnecting.
2018-11-10 19:38:05.736 +07:00 [Debug] Connection id ""0HLI715EC7QO9"" sending FIN.
2018-11-10 19:38:05.741 +07:00 [Debug] Connection id ""0HLI715EC7QO9"" stopped.
2018-11-10 19:38:05.887 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 19:38:06.076 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 19:38:06.234 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 19:38:06.431 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 19:38:06.489 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 19:38:06.508 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 19:38:06.515 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 19:38:07.008 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 19:38:08.252 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-10 19:38:09.964 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1707.1237ms.
2018-11-10 19:38:10.190 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-10 19:38:10.287 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 94.6328ms.
2018-11-10 19:38:10.351 +07:00 [Debug] Executing action "/Index"
2018-11-10 19:38:10.415 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 19:38:10.420 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 19:38:10.570 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-10 19:38:10.704 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-10 19:38:10.716 +07:00 [Debug] Connection id ""0HLI715EC7QOB"" started.
2018-11-10 19:38:10.740 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 19:38:10.763 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 19:38:10.769 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 19:38:10.775 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 19:38:10.780 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 19:38:10.811 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 19:38:10.841 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 19:38:10.960 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 19:38:11.071 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 364.9746ms.
2018-11-10 19:38:11.089 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 19:38:11.095 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 19:38:11.101 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 19:38:11.108 +07:00 [Information] Test log
2018-11-10 19:38:15.601 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 19:38:15.604 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 19:38:15.697 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-10 19:38:15.701 +07:00 [Debug] Connection id ""0HLI715EC7QOC"" started.
2018-11-10 19:38:15.705 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 19:38:15.708 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 19:38:15.710 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:38:15.712 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:38:15.715 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 19:38:15.725 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 19:38:15.728 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 19:38:15.734 +07:00 [Verbose] Processing discovery request.
2018-11-10 19:38:15.737 +07:00 [Debug] Start discovery request
2018-11-10 19:38:15.741 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 19:38:15.778 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 19:38:15.829 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-10 19:38:15.913 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 80.5448ms.
2018-11-10 19:38:15.933 +07:00 [Debug] Connection id ""0HLI715EC7QOC"" completed keep alive response.
2018-11-10 19:38:15.951 +07:00 [Information] Request finished in 231.354ms 200 application/json; charset=UTF-8
2018-11-10 19:38:15.973 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 19:38:15.981 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 19:38:15.983 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 19:38:15.985 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:38:15.986 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:38:15.988 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 19:38:15.997 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 19:38:16.000 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 19:38:16.000 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 19:38:16.027 +07:00 [Verbose] Processing discovery request.
2018-11-10 19:38:16.029 +07:00 [Debug] Start key discovery request
2018-11-10 19:38:16.031 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 19:38:16.034 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 19:38:16.045 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 19:38:16.069 +07:00 [Debug] Connection id ""0HLI715EC7QOC"" completed keep alive response.
2018-11-10 19:38:16.072 +07:00 [Information] Request finished in 90.1798ms 200 application/json; charset=UTF-8
2018-11-10 19:38:16.164 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 19:38:16.164 +07:00 [Information] Executed action "/Index" in 5809.9764ms
2018-11-10 19:38:16.189 +07:00 [Debug] "POST" requests are not supported
2018-11-10 19:38:16.191 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:38:16.193 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:38:16.195 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 19:38:16.197 +07:00 [Debug] Connection id ""0HLI715EC7QOA"" completed keep alive response.
2018-11-10 19:38:16.199 +07:00 [Information] Request finished in 10333.9769ms 200 text/html; charset=utf-8
2018-11-10 19:38:16.209 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 19:38:16.211 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 19:38:16.217 +07:00 [Verbose] Processing token request.
2018-11-10 19:38:16.225 +07:00 [Debug] Start token request.
2018-11-10 19:38:16.234 +07:00 [Debug] Start client validation
2018-11-10 19:38:16.243 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 19:38:16.246 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 19:38:16.249 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 19:38:16.268 +07:00 [Error] No client with id '"ro.angular"' found. aborting
2018-11-10 19:38:16.271 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenErrorResult"
2018-11-10 19:38:16.282 +07:00 [Debug] Connection id ""0HLI715EC7QOC"" completed keep alive response.
2018-11-10 19:38:16.291 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-10 19:38:16.298 +07:00 [Debug] Connection id ""0HLI715EC7QOC"", Request id ""0HLI715EC7QOC:00000003"": started reading request body.
2018-11-10 19:38:16.315 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 19:38:16.318 +07:00 [Debug] Connection id ""0HLI715EC7QOC"", Request id ""0HLI715EC7QOC:00000003"": done reading request body.
2018-11-10 19:38:16.321 +07:00 [Information] Request finished in 156.5826ms 400 application/json; charset=UTF-8
2018-11-10 19:38:16.329 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-10 19:38:16.331 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 19:38:16.341 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 5378.8113ms
2018-11-10 19:38:16.344 +07:00 [Debug] Connection id ""0HLI715EC7QOB"" completed keep alive response.
2018-11-10 19:38:16.346 +07:00 [Information] Request finished in 5606.2183ms 400 text/plain; charset=utf-8
2018-11-10 19:38:21.811 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 19:38:21.814 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 19:38:21.816 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 19:38:21.819 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 19:38:21.821 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 19:38:21.823 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 19:38:21.825 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 19:38:21.828 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 19:38:21.831 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 19:38:21.833 +07:00 [Information] Test log
2018-11-10 19:38:25.004 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 19:38:25.006 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 19:38:25.008 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:38:25.010 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:38:25.011 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 19:38:25.013 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 19:38:25.015 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 19:38:25.018 +07:00 [Verbose] Processing discovery request.
2018-11-10 19:38:25.020 +07:00 [Debug] Start discovery request
2018-11-10 19:38:25.022 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 19:38:25.025 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 19:38:25.027 +07:00 [Debug] Connection id ""0HLI715EC7QOC"" completed keep alive response.
2018-11-10 19:38:25.030 +07:00 [Information] Request finished in 26.2259ms 200 application/json; charset=UTF-8
2018-11-10 19:38:25.079 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 19:38:25.081 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 19:38:25.083 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:38:25.085 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:38:25.086 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 19:38:25.088 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 19:38:25.090 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 19:38:25.092 +07:00 [Verbose] Processing discovery request.
2018-11-10 19:38:25.093 +07:00 [Debug] Start key discovery request
2018-11-10 19:38:25.095 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 19:38:25.097 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 19:38:25.099 +07:00 [Debug] Connection id ""0HLI715EC7QOB"" completed keep alive response.
2018-11-10 19:38:25.101 +07:00 [Information] Request finished in 22.3551ms 200 application/json; charset=UTF-8
2018-11-10 19:38:25.135 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 19:38:25.138 +07:00 [Debug] "POST" requests are not supported
2018-11-10 19:38:25.140 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:38:25.142 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:38:25.144 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 19:38:25.148 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 19:38:25.150 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 19:38:25.152 +07:00 [Verbose] Processing token request.
2018-11-10 19:38:25.154 +07:00 [Debug] Start token request.
2018-11-10 19:38:25.157 +07:00 [Debug] Start client validation
2018-11-10 19:38:25.159 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 19:38:25.161 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 19:38:25.163 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 19:38:25.165 +07:00 [Error] No client with id '"ro.angular"' found. aborting
2018-11-10 19:38:25.167 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenErrorResult"
2018-11-10 19:38:25.170 +07:00 [Debug] Connection id ""0HLI715EC7QOC"" completed keep alive response.
2018-11-10 19:38:25.172 +07:00 [Debug] Connection id ""0HLI715EC7QOC"", Request id ""0HLI715EC7QOC:00000005"": started reading request body.
2018-11-10 19:38:25.176 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-10 19:38:25.176 +07:00 [Debug] Connection id ""0HLI715EC7QOC"", Request id ""0HLI715EC7QOC:00000005"": done reading request body.
2018-11-10 19:38:25.201 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 19:38:25.201 +07:00 [Information] Request finished in 65.9673ms 400 application/json; charset=UTF-8
2018-11-10 19:38:25.223 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-10 19:38:25.227 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 19:38:25.250 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 3419.7982ms
2018-11-10 19:38:25.254 +07:00 [Debug] Connection id ""0HLI715EC7QOA"" completed keep alive response.
2018-11-10 19:38:25.256 +07:00 [Information] Request finished in 3444.3168ms 400 text/plain; charset=utf-8
2018-11-10 19:38:25.269 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 19:38:25.291 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 19:38:25.311 +07:00 [Debug] Connection id ""0HLI715EC7QOB"" completed keep alive response.
2018-11-10 19:38:25.312 +07:00 [Information] Request finished in 43.4465ms 200 image/x-icon
2018-11-10 19:39:55.590 +07:00 [Debug] Connection id ""0HLI715EC7QOC"" received FIN.
2018-11-10 19:39:55.590 +07:00 [Debug] Connection id ""0HLI715EC7QOB"" received FIN.
2018-11-10 19:39:55.590 +07:00 [Debug] Connection id ""0HLI715EC7QOA"" received FIN.
2018-11-10 19:39:55.623 +07:00 [Debug] Connection id ""0HLI715EC7QOC"" disconnecting.
2018-11-10 19:39:55.623 +07:00 [Debug] Connection id ""0HLI715EC7QOA"" disconnecting.
2018-11-10 19:39:55.655 +07:00 [Debug] Connection id ""0HLI715EC7QOC"" sending FIN.
2018-11-10 19:39:55.655 +07:00 [Debug] Connection id ""0HLI715EC7QOC"" stopped.
2018-11-10 19:39:55.655 +07:00 [Debug] Connection id ""0HLI715EC7QOA"" stopped.
2018-11-10 19:39:55.655 +07:00 [Debug] Connection id ""0HLI715EC7QOA"" sending FIN.
2018-11-10 19:39:55.709 +07:00 [Debug] Connection id ""0HLI715EC7QOB"" disconnecting.
2018-11-10 19:39:55.720 +07:00 [Debug] Connection id ""0HLI715EC7QOB"" sending FIN.
2018-11-10 19:39:55.737 +07:00 [Debug] Connection id ""0HLI715EC7QOB"" stopped.
2018-11-10 19:40:37.618 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 19:40:37.673 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 19:40:37.682 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 19:40:37.695 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 19:40:37.707 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 19:40:37.711 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 19:40:37.719 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 19:40:37.729 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 19:40:37.736 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 19:40:37.747 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 19:40:37.749 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 19:40:37.914 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 19:40:37.945 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 19:40:37.948 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 19:40:37.950 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 19:40:37.951 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 19:40:37.953 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 19:40:38.189 +07:00 [Debug] Hosting starting
2018-11-10 19:40:38.425 +07:00 [Debug] Hosting started
2018-11-10 19:40:38.428 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 19:40:38.431 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 19:40:38.434 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 19:40:38.668 +07:00 [Debug] Connection id ""0HLI716RVM2GB"" started.
2018-11-10 19:40:38.668 +07:00 [Debug] Connection id ""0HLI716RVM2GA"" started.
2018-11-10 19:40:38.795 +07:00 [Debug] Connection id ""0HLI716RVM2GA"" reset.
2018-11-10 19:40:38.799 +07:00 [Debug] Connection id ""0HLI716RVM2GA"" disconnecting.
2018-11-10 19:40:38.813 +07:00 [Debug] Connection id ""0HLI716RVM2GA"" sending FIN.
2018-11-10 19:40:38.818 +07:00 [Debug] Connection id ""0HLI716RVM2GA"" stopped.
2018-11-10 19:40:38.949 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 19:40:39.077 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 19:40:39.166 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 19:40:39.358 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 19:40:39.443 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 19:40:39.460 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 19:40:39.468 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 19:40:39.965 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 19:40:41.138 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-10 19:40:42.795 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1651.2277ms.
2018-11-10 19:40:43.005 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-10 19:40:43.117 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 107.7025ms.
2018-11-10 19:40:43.223 +07:00 [Debug] Executing action "/Index"
2018-11-10 19:40:43.287 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 19:40:43.290 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 19:40:43.418 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-10 19:40:43.556 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-10 19:40:43.818 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 238.1101ms.
2018-11-10 19:40:43.835 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 19:40:43.844 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 19:40:43.903 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 19:40:43.906 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 19:40:43.983 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-10 19:40:44.122 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-10 19:40:44.221 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 96.7141ms.
2018-11-10 19:40:44.312 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 19:40:44.359 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 19:40:44.374 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 19:40:44.511 +07:00 [Information] Executed action "/Index" in 1283.169ms
2018-11-10 19:40:44.531 +07:00 [Debug] Connection id ""0HLI716RVM2GB"" completed keep alive response.
2018-11-10 19:40:44.541 +07:00 [Information] Request finished in 5601.6296ms 200 text/html; charset=utf-8
2018-11-10 19:40:53.636 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 19:40:53.640 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 19:40:53.643 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 19:40:53.647 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 19:40:53.649 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 19:40:53.652 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 19:40:53.656 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 19:40:53.752 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 19:40:53.870 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 19:40:53.879 +07:00 [Information] Test log
2018-11-10 19:40:56.426 +07:00 [Debug] Connection id ""0HLI716RVM2GC"" started.
2018-11-10 19:40:56.431 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 19:40:56.434 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 19:40:56.437 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:40:56.439 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:40:56.442 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 19:40:56.450 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 19:40:56.453 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 19:40:56.460 +07:00 [Verbose] Processing discovery request.
2018-11-10 19:40:56.464 +07:00 [Debug] Start discovery request
2018-11-10 19:40:56.468 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 19:40:56.526 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 19:40:56.622 +07:00 [Debug] Connection id ""0HLI716RVM2GC"" completed keep alive response.
2018-11-10 19:40:56.624 +07:00 [Information] Request finished in 193.2405ms 200 application/json; charset=UTF-8
2018-11-10 19:40:56.662 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 19:40:56.664 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 19:40:56.667 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:40:56.669 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:40:56.671 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 19:40:56.674 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 19:40:56.676 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 19:40:56.683 +07:00 [Verbose] Processing discovery request.
2018-11-10 19:40:56.688 +07:00 [Debug] Start key discovery request
2018-11-10 19:40:56.692 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 19:40:56.712 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 19:40:56.772 +07:00 [Debug] Connection id ""0HLI716RVM2GC"" completed keep alive response.
2018-11-10 19:40:56.777 +07:00 [Information] Request finished in 115.1343ms 200 application/json; charset=UTF-8
2018-11-10 19:40:56.845 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 19:40:56.847 +07:00 [Debug] "POST" requests are not supported
2018-11-10 19:40:56.849 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:40:56.851 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:40:56.852 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 19:40:56.860 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 19:40:56.863 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 19:40:56.867 +07:00 [Verbose] Processing token request.
2018-11-10 19:40:56.875 +07:00 [Debug] Start token request.
2018-11-10 19:40:56.884 +07:00 [Debug] Start client validation
2018-11-10 19:40:56.893 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 19:40:56.896 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 19:40:56.897 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 19:40:56.906 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 19:40:56.910 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 19:40:56.930 +07:00 [Information] Secret: "no description" uses invalid hashing algorithm.
2018-11-10 19:40:56.932 +07:00 [Debug] Secret validators could not validate secret
2018-11-10 19:40:56.936 +07:00 [Error] Client secret validation failed for client: "ro.angular".
2018-11-10 19:40:56.940 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenErrorResult"
2018-11-10 19:40:56.950 +07:00 [Debug] Connection id ""0HLI716RVM2GC"" completed keep alive response.
2018-11-10 19:40:56.958 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-10 19:40:56.965 +07:00 [Debug] Connection id ""0HLI716RVM2GC"", Request id ""0HLI716RVM2GC:00000003"": started reading request body.
2018-11-10 19:40:56.984 +07:00 [Debug] Connection id ""0HLI716RVM2GC"", Request id ""0HLI716RVM2GC:00000003"": done reading request body.
2018-11-10 19:40:56.987 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 19:40:56.988 +07:00 [Information] Request finished in 143.7838ms 400 application/json; charset=UTF-8
2018-11-10 19:40:56.997 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-10 19:40:57.000 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 19:40:57.011 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 3256.1015ms
2018-11-10 19:40:57.013 +07:00 [Debug] Connection id ""0HLI716RVM2GB"" completed keep alive response.
2018-11-10 19:40:57.016 +07:00 [Information] Request finished in 3379.6476ms 400 text/plain; charset=utf-8
2018-11-10 19:40:57.028 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 19:40:57.042 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 19:40:57.058 +07:00 [Debug] Connection id ""0HLI716RVM2GC"" completed keep alive response.
2018-11-10 19:40:57.060 +07:00 [Information] Request finished in 32.0199ms 200 image/x-icon
2018-11-10 19:41:00.272 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 19:41:00.275 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 19:41:00.278 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 19:41:00.281 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 19:41:00.284 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 19:41:00.286 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 19:41:00.288 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 19:41:00.292 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 19:41:00.295 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 19:41:00.297 +07:00 [Information] Test log
2018-11-10 19:41:05.163 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 19:41:05.166 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 19:41:05.169 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:41:05.172 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:41:05.175 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 19:41:05.178 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 19:41:05.180 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 19:41:05.183 +07:00 [Verbose] Processing discovery request.
2018-11-10 19:41:05.187 +07:00 [Debug] Start discovery request
2018-11-10 19:41:05.190 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 19:41:05.193 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 19:41:05.196 +07:00 [Debug] Connection id ""0HLI716RVM2GC"" completed keep alive response.
2018-11-10 19:41:05.200 +07:00 [Information] Request finished in 37.2464ms 200 application/json; charset=UTF-8
2018-11-10 19:41:05.232 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 19:41:05.235 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 19:41:05.237 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:41:05.238 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:41:05.240 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 19:41:05.243 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 19:41:05.245 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 19:41:05.247 +07:00 [Verbose] Processing discovery request.
2018-11-10 19:41:05.249 +07:00 [Debug] Start key discovery request
2018-11-10 19:41:05.251 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 19:41:05.253 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 19:41:05.256 +07:00 [Debug] Connection id ""0HLI716RVM2GC"" completed keep alive response.
2018-11-10 19:41:05.258 +07:00 [Information] Request finished in 26.549ms 200 application/json; charset=UTF-8
2018-11-10 19:41:15.143 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 19:41:15.145 +07:00 [Debug] "POST" requests are not supported
2018-11-10 19:41:15.155 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:41:15.158 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:41:15.160 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 19:41:15.163 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 19:41:15.165 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 19:41:15.168 +07:00 [Verbose] Processing token request.
2018-11-10 19:41:15.170 +07:00 [Debug] Start token request.
2018-11-10 19:41:15.172 +07:00 [Debug] Start client validation
2018-11-10 19:41:15.174 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 19:41:15.176 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 19:41:15.178 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 19:41:15.181 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 19:41:15.183 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 19:41:15.185 +07:00 [Information] Secret: "no description" uses invalid hashing algorithm.
2018-11-10 19:41:15.187 +07:00 [Debug] Secret validators could not validate secret
2018-11-10 19:41:15.188 +07:00 [Error] Client secret validation failed for client: "ro.angular".
2018-11-10 19:41:15.190 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenErrorResult"
2018-11-10 19:41:15.193 +07:00 [Debug] Connection id ""0HLI716RVM2GC"" completed keep alive response.
2018-11-10 19:41:15.195 +07:00 [Debug] Connection id ""0HLI716RVM2GC"", Request id ""0HLI716RVM2GC:00000007"": started reading request body.
2018-11-10 19:41:15.234 +07:00 [Debug] Connection id ""0HLI716RVM2GC"", Request id ""0HLI716RVM2GC:00000007"": done reading request body.
2018-11-10 19:41:15.237 +07:00 [Information] Request finished in 93.7069ms 400 application/json; charset=UTF-8
2018-11-10 19:43:09.826 +07:00 [Debug] Connection id ""0HLI716RVM2GC"" received FIN.
2018-11-10 19:43:09.827 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-10 19:43:09.834 +07:00 [Debug] Connection id ""0HLI716RVM2GC"" disconnecting.
2018-11-10 19:43:09.839 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 19:43:09.843 +07:00 [Debug] Connection id ""0HLI716RVM2GC"" sending FIN.
2018-11-10 19:43:09.843 +07:00 [Debug] Connection id ""0HLI716RVM2GC"" stopped.
2018-11-10 19:43:09.867 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-10 19:43:09.873 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 19:43:09.876 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 129581.1852ms
2018-11-10 19:43:09.879 +07:00 [Debug] Connection id ""0HLI716RVM2GB"" completed keep alive response.
2018-11-10 19:43:09.894 +07:00 [Information] Request finished in 129621.9847ms 400 text/plain; charset=utf-8
2018-11-10 19:43:09.914 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 19:43:09.917 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 19:43:09.921 +07:00 [Debug] Connection id ""0HLI716RVM2GB"" completed keep alive response.
2018-11-10 19:43:09.926 +07:00 [Information] Request finished in 12.0892ms 200 image/x-icon
2018-11-10 19:43:13.810 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 19:43:13.812 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 19:43:13.815 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 19:43:13.817 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 19:43:13.820 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 19:43:13.823 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 19:43:13.825 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 19:43:13.828 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 19:43:13.830 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 19:43:13.833 +07:00 [Information] Test log
2018-11-10 19:43:17.162 +07:00 [Debug] Connection id ""0HLI716RVM2GD"" started.
2018-11-10 19:43:17.165 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 19:43:17.168 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 19:43:17.170 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:43:17.172 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:43:17.175 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 19:43:17.177 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 19:43:17.180 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 19:43:17.181 +07:00 [Verbose] Processing discovery request.
2018-11-10 19:43:17.183 +07:00 [Debug] Start discovery request
2018-11-10 19:43:17.184 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 19:43:17.186 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 19:43:17.188 +07:00 [Debug] Connection id ""0HLI716RVM2GD"" completed keep alive response.
2018-11-10 19:43:17.189 +07:00 [Information] Request finished in 24.1816ms 200 application/json; charset=UTF-8
2018-11-10 19:43:17.241 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 19:43:17.245 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 19:43:17.250 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:43:17.254 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:43:17.259 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 19:43:17.264 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 19:43:17.268 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 19:43:17.272 +07:00 [Verbose] Processing discovery request.
2018-11-10 19:43:17.276 +07:00 [Debug] Start key discovery request
2018-11-10 19:43:17.280 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 19:43:17.284 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 19:43:17.288 +07:00 [Debug] Connection id ""0HLI716RVM2GD"" completed keep alive response.
2018-11-10 19:43:17.293 +07:00 [Information] Request finished in 51.6602ms 200 application/json; charset=UTF-8
2018-11-10 19:43:17.327 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 19:43:17.331 +07:00 [Debug] "POST" requests are not supported
2018-11-10 19:43:17.335 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:43:17.340 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:43:17.345 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 19:43:17.350 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 19:43:17.356 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 19:43:17.364 +07:00 [Verbose] Processing token request.
2018-11-10 19:43:17.371 +07:00 [Debug] Start token request.
2018-11-10 19:43:17.378 +07:00 [Debug] Start client validation
2018-11-10 19:43:17.385 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 19:43:17.393 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 19:43:17.399 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 19:43:17.406 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 19:43:17.412 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 19:43:17.417 +07:00 [Information] Secret: "no description" uses invalid hashing algorithm.
2018-11-10 19:43:17.421 +07:00 [Debug] Secret validators could not validate secret
2018-11-10 19:43:17.425 +07:00 [Error] Client secret validation failed for client: "ro.angular".
2018-11-10 19:43:17.430 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenErrorResult"
2018-11-10 19:43:17.434 +07:00 [Debug] Connection id ""0HLI716RVM2GD"" completed keep alive response.
2018-11-10 19:43:17.439 +07:00 [Debug] Connection id ""0HLI716RVM2GD"", Request id ""0HLI716RVM2GD:00000003"": started reading request body.
2018-11-10 19:43:17.466 +07:00 [Debug] Connection id ""0HLI716RVM2GD"", Request id ""0HLI716RVM2GD:00000003"": done reading request body.
2018-11-10 19:43:17.470 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-10 19:43:17.473 +07:00 [Information] Request finished in 146.2534ms 400 application/json; charset=UTF-8
2018-11-10 19:43:17.498 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 19:43:17.530 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-10 19:43:17.537 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 19:43:17.542 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 3711.7807ms
2018-11-10 19:43:17.549 +07:00 [Debug] Connection id ""0HLI716RVM2GB"" completed keep alive response.
2018-11-10 19:43:17.554 +07:00 [Information] Request finished in 3744.0292ms 400 text/plain; charset=utf-8
2018-11-10 19:43:17.578 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 19:43:17.583 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 19:43:17.591 +07:00 [Debug] Connection id ""0HLI716RVM2GD"" completed keep alive response.
2018-11-10 19:43:17.598 +07:00 [Information] Request finished in 20.2493ms 200 image/x-icon
2018-11-10 19:43:30.447 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 19:43:30.520 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 19:43:30.531 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 19:43:30.552 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 19:43:30.566 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 19:43:30.571 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 19:43:30.573 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 19:43:30.583 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 19:43:30.590 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 19:43:30.602 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 19:43:30.604 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 19:43:30.741 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 19:43:30.773 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 19:43:30.778 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 19:43:30.781 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 19:43:30.784 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 19:43:30.787 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 19:43:31.075 +07:00 [Debug] Hosting starting
2018-11-10 19:43:31.246 +07:00 [Debug] Hosting started
2018-11-10 19:43:31.248 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 19:43:31.250 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 19:43:31.252 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 19:43:31.293 +07:00 [Debug] Connection id ""0HLI718FE2MP1"" started.
2018-11-10 19:43:31.293 +07:00 [Debug] Connection id ""0HLI718FE2MP2"" started.
2018-11-10 19:43:31.368 +07:00 [Debug] Connection id ""0HLI718FE2MP2"" reset.
2018-11-10 19:43:31.371 +07:00 [Debug] Connection id ""0HLI718FE2MP2"" disconnecting.
2018-11-10 19:43:31.381 +07:00 [Debug] Connection id ""0HLI718FE2MP2"" sending FIN.
2018-11-10 19:43:31.386 +07:00 [Debug] Connection id ""0HLI718FE2MP2"" stopped.
2018-11-10 19:43:31.499 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 19:43:31.633 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 19:43:31.745 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 19:43:31.961 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 19:43:32.019 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 19:43:32.037 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 19:43:32.044 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 19:43:32.478 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 19:43:33.757 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-10 19:43:35.381 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1619.7119ms.
2018-11-10 19:43:35.523 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-10 19:43:35.649 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 124.1284ms.
2018-11-10 19:43:35.728 +07:00 [Debug] Executing action "/Index"
2018-11-10 19:43:35.780 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 19:43:35.783 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 19:43:35.923 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-10 19:43:36.092 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-10 19:43:36.281 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 186.532ms.
2018-11-10 19:43:36.329 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 19:43:36.345 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 19:43:36.404 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 19:43:36.407 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 19:43:36.528 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-10 19:43:36.751 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-10 19:43:36.825 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 71.6726ms.
2018-11-10 19:43:36.871 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 19:43:36.913 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 19:43:36.925 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 19:43:37.125 +07:00 [Information] Executed action "/Index" in 1393.8039ms
2018-11-10 19:43:37.144 +07:00 [Debug] Connection id ""0HLI718FE2MP1"" completed keep alive response.
2018-11-10 19:43:37.155 +07:00 [Information] Request finished in 5664.6686ms 200 text/html; charset=utf-8
2018-11-10 19:43:45.916 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 19:43:45.919 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 19:43:45.923 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 19:43:45.926 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 19:43:45.929 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 19:43:45.931 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 19:43:45.936 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 19:43:46.022 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 19:43:46.188 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 19:43:46.195 +07:00 [Information] Test log
2018-11-10 19:43:48.599 +07:00 [Debug] Connection id ""0HLI718FE2MP3"" started.
2018-11-10 19:43:48.604 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 19:43:48.606 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 19:43:48.609 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:43:48.611 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:43:48.614 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 19:43:48.622 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 19:43:48.626 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 19:43:48.632 +07:00 [Verbose] Processing discovery request.
2018-11-10 19:43:48.635 +07:00 [Debug] Start discovery request
2018-11-10 19:43:48.640 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 19:43:48.701 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 19:43:48.798 +07:00 [Debug] Connection id ""0HLI718FE2MP3"" completed keep alive response.
2018-11-10 19:43:48.800 +07:00 [Information] Request finished in 196.4949ms 200 application/json; charset=UTF-8
2018-11-10 19:43:48.840 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 19:43:48.842 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 19:43:48.844 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:43:48.845 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:43:48.847 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 19:43:48.850 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 19:43:48.852 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 19:43:48.857 +07:00 [Verbose] Processing discovery request.
2018-11-10 19:43:48.860 +07:00 [Debug] Start key discovery request
2018-11-10 19:43:48.861 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 19:43:48.872 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 19:43:48.894 +07:00 [Debug] Connection id ""0HLI718FE2MP3"" completed keep alive response.
2018-11-10 19:43:48.896 +07:00 [Information] Request finished in 56.3444ms 200 application/json; charset=UTF-8
2018-11-10 19:43:48.954 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 19:43:48.957 +07:00 [Debug] "POST" requests are not supported
2018-11-10 19:43:48.958 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:43:48.961 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:43:48.963 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 19:43:48.971 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 19:43:48.973 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 19:43:48.978 +07:00 [Verbose] Processing token request.
2018-11-10 19:43:48.985 +07:00 [Debug] Start token request.
2018-11-10 19:43:48.993 +07:00 [Debug] Start client validation
2018-11-10 19:43:49.002 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 19:43:49.004 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 19:43:49.006 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 19:43:49.015 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 19:43:49.017 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 19:43:49.029 +07:00 [Information] Secret: "no description" uses invalid hashing algorithm.
2018-11-10 19:43:49.031 +07:00 [Debug] Secret validators could not validate secret
2018-11-10 19:43:49.036 +07:00 [Error] Client secret validation failed for client: "ro.angular".
2018-11-10 19:43:49.040 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenErrorResult"
2018-11-10 19:43:49.050 +07:00 [Debug] Connection id ""0HLI718FE2MP3"" completed keep alive response.
2018-11-10 19:43:49.057 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-10 19:43:49.063 +07:00 [Debug] Connection id ""0HLI718FE2MP3"", Request id ""0HLI718FE2MP3:00000003"": started reading request body.
2018-11-10 19:43:49.075 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 19:43:49.080 +07:00 [Debug] Connection id ""0HLI718FE2MP3"", Request id ""0HLI718FE2MP3:00000003"": done reading request body.
2018-11-10 19:43:49.083 +07:00 [Information] Request finished in 128.7266ms 400 application/json; charset=UTF-8
2018-11-10 19:43:49.089 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-10 19:43:49.091 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 19:43:49.101 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 3074.6156ms
2018-11-10 19:43:49.103 +07:00 [Debug] Connection id ""0HLI718FE2MP1"" completed keep alive response.
2018-11-10 19:43:49.105 +07:00 [Information] Request finished in 3188.9922ms 400 text/plain; charset=utf-8
2018-11-10 19:43:49.116 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 19:43:49.134 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 19:43:49.151 +07:00 [Debug] Connection id ""0HLI718FE2MP3"" completed keep alive response.
2018-11-10 19:43:49.153 +07:00 [Information] Request finished in 37.5503ms 200 image/x-icon
2018-11-10 19:45:21.262 +07:00 [Debug] Connection id ""0HLI718FE2MP1"" received FIN.
2018-11-10 19:45:21.262 +07:00 [Debug] Connection id ""0HLI718FE2MP3"" received FIN.
2018-11-10 19:45:21.294 +07:00 [Debug] Connection id ""0HLI718FE2MP1"" disconnecting.
2018-11-10 19:45:21.294 +07:00 [Debug] Connection id ""0HLI718FE2MP3"" disconnecting.
2018-11-10 19:45:21.324 +07:00 [Debug] Connection id ""0HLI718FE2MP1"" sending FIN.
2018-11-10 19:45:21.326 +07:00 [Debug] Connection id ""0HLI718FE2MP3"" sending FIN.
2018-11-10 19:45:21.331 +07:00 [Debug] Connection id ""0HLI718FE2MP1"" stopped.
2018-11-10 19:45:21.373 +07:00 [Debug] Connection id ""0HLI718FE2MP3"" stopped.
2018-11-10 19:45:27.747 +07:00 [Debug] Connection id ""0HLI718FE2MP4"" started.
2018-11-10 19:45:27.751 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 19:45:27.753 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 19:45:27.756 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 19:45:27.758 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 19:45:27.761 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 19:45:27.764 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 19:45:27.766 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 19:45:27.771 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 19:45:27.774 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 19:45:27.776 +07:00 [Information] Test log
2018-11-10 19:45:31.219 +07:00 [Debug] Connection id ""0HLI718FE2MP5"" started.
2018-11-10 19:45:31.222 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 19:45:31.224 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 19:45:31.226 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:45:31.228 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:45:31.229 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 19:45:31.232 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 19:45:31.235 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 19:45:31.237 +07:00 [Verbose] Processing discovery request.
2018-11-10 19:45:31.242 +07:00 [Debug] Start discovery request
2018-11-10 19:45:31.244 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 19:45:31.247 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 19:45:31.251 +07:00 [Debug] Connection id ""0HLI718FE2MP5"" completed keep alive response.
2018-11-10 19:45:31.274 +07:00 [Information] Request finished in 51.3411ms 200 application/json; charset=UTF-8
2018-11-10 19:45:31.280 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 19:45:31.284 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 19:45:31.287 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:45:31.289 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:45:31.291 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 19:45:31.293 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 19:45:31.295 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 19:45:31.298 +07:00 [Verbose] Processing discovery request.
2018-11-10 19:45:31.300 +07:00 [Debug] Start key discovery request
2018-11-10 19:45:31.302 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 19:45:31.304 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 19:45:31.306 +07:00 [Debug] Connection id ""0HLI718FE2MP5"" completed keep alive response.
2018-11-10 19:45:31.329 +07:00 [Information] Request finished in 48.121ms 200 application/json; charset=UTF-8
2018-11-10 19:45:31.358 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 19:45:31.364 +07:00 [Debug] "POST" requests are not supported
2018-11-10 19:45:31.369 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:45:31.374 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 19:45:31.379 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 19:45:31.386 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 19:45:31.391 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 19:45:31.396 +07:00 [Verbose] Processing token request.
2018-11-10 19:45:31.402 +07:00 [Debug] Start token request.
2018-11-10 19:45:31.407 +07:00 [Debug] Start client validation
2018-11-10 19:45:31.412 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 19:45:31.419 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 19:45:31.424 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 19:45:31.430 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 19:45:31.436 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 19:45:31.442 +07:00 [Information] Secret: "no description" uses invalid hashing algorithm.
2018-11-10 19:45:31.448 +07:00 [Debug] Secret validators could not validate secret
2018-11-10 19:45:31.453 +07:00 [Error] Client secret validation failed for client: "ro.angular".
2018-11-10 19:45:31.456 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenErrorResult"
2018-11-10 19:45:31.459 +07:00 [Debug] Connection id ""0HLI718FE2MP5"" completed keep alive response.
2018-11-10 19:45:31.485 +07:00 [Debug] Connection id ""0HLI718FE2MP5"", Request id ""0HLI718FE2MP5:00000003"": started reading request body.
2018-11-10 19:45:31.487 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-10 19:45:31.510 +07:00 [Debug] Connection id ""0HLI718FE2MP5"", Request id ""0HLI718FE2MP5:00000003"": done reading request body.
2018-11-10 19:45:31.511 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 19:45:31.534 +07:00 [Information] Request finished in 176.3652ms 400 application/json; charset=UTF-8
2018-11-10 19:45:31.538 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-10 19:45:31.588 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 19:45:31.621 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 3847.3973ms
2018-11-10 19:45:31.628 +07:00 [Debug] Connection id ""0HLI718FE2MP4"" completed keep alive response.
2018-11-10 19:45:31.634 +07:00 [Information] Request finished in 3883.0993ms 400 text/plain; charset=utf-8
2018-11-10 19:45:31.665 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 19:45:31.668 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 19:45:31.673 +07:00 [Debug] Connection id ""0HLI718FE2MP5"" completed keep alive response.
2018-11-10 19:45:31.676 +07:00 [Information] Request finished in 11.3502ms 200 image/x-icon
2018-11-10 19:45:33.872 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 19:45:33.875 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 19:45:33.877 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 19:45:33.880 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 19:45:33.882 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 19:45:33.884 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 19:45:33.886 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 19:45:33.888 +07:00 [Debug] Executing action "/Index"
2018-11-10 19:45:33.891 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 19:45:33.893 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 19:45:33.899 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-10 19:45:33.902 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 19:45:33.904 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 19:45:33.906 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 19:45:33.908 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 19:45:33.911 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-10 19:45:33.914 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 19:45:33.917 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 19:45:33.919 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 19:45:33.922 +07:00 [Information] Executed action "/Index" in 30.982ms
2018-11-10 19:45:33.924 +07:00 [Debug] Connection id ""0HLI718FE2MP4"" completed keep alive response.
2018-11-10 19:45:33.927 +07:00 [Information] Request finished in 55.4836ms 200 text/html; charset=utf-8
2018-11-10 19:55:58.204 +07:00 [Fatal] Application startup exception
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNetCore.Startup.ConfigureServices(IServiceCollection services) in C:\Working\DotnetCore\DotnetCore\AspNetCore\Startup.cs:line 75
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Hosting.ConventionBasedStartup.ConfigureServices(IServiceCollection services)
   at Microsoft.AspNetCore.Hosting.Internal.WebHost.EnsureApplicationServices()
   at Microsoft.AspNetCore.Hosting.Internal.WebHost.BuildApplication()
2018-11-10 19:55:58.321 +07:00 [Debug] Hosting starting
2018-11-10 19:55:58.539 +07:00 [Debug] Hosting started
2018-11-10 19:55:58.542 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 19:55:58.543 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 19:55:58.543 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 19:55:58.765 +07:00 [Debug] Connection id ""0HLI71FE6FAQ0"" started.
2018-11-10 19:55:58.765 +07:00 [Debug] Connection id ""0HLI71FE6FAQ2"" started.
2018-11-10 19:55:58.765 +07:00 [Debug] Connection id ""0HLI71FE6FAPV"" started.
2018-11-10 19:55:58.765 +07:00 [Debug] Connection id ""0HLI71FE6FAQ1"" started.
2018-11-10 19:55:58.812 +07:00 [Debug] Connection id ""0HLI71FE6FAQ0"" reset.
2018-11-10 19:55:58.812 +07:00 [Debug] Connection id ""0HLI71FE6FAQ1"" reset.
2018-11-10 19:55:58.813 +07:00 [Debug] Connection id ""0HLI71FE6FAQ1"" disconnecting.
2018-11-10 19:55:58.813 +07:00 [Debug] Connection id ""0HLI71FE6FAQ0"" disconnecting.
2018-11-10 19:55:58.831 +07:00 [Debug] Connection id ""0HLI71FE6FAQ1"" sending FIN.
2018-11-10 19:55:58.831 +07:00 [Debug] Connection id ""0HLI71FE6FAQ0"" sending FIN.
2018-11-10 19:55:58.833 +07:00 [Debug] Connection id ""0HLI71FE6FAQ0"" stopped.
2018-11-10 19:55:58.833 +07:00 [Debug] Connection id ""0HLI71FE6FAQ1"" stopped.
2018-11-10 19:55:58.927 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 19:55:58.927 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 19:55:59.036 +07:00 [Debug] Connection id ""0HLI71FE6FAQ2"" completed keep alive response.
2018-11-10 19:55:59.036 +07:00 [Debug] Connection id ""0HLI71FE6FAPV"" completed keep alive response.
2018-11-10 19:55:59.047 +07:00 [Information] Request finished in 127.1397ms 500 
2018-11-10 19:55:59.048 +07:00 [Information] Request finished in 127.129ms 500 text/html; charset=utf-8
2018-11-10 19:57:48.719 +07:00 [Debug] Connection id ""0HLI71FE6FAPV"" received FIN.
2018-11-10 19:57:48.719 +07:00 [Debug] Connection id ""0HLI71FE6FAQ2"" received FIN.
2018-11-10 19:57:48.720 +07:00 [Debug] Connection id ""0HLI71FE6FAPV"" disconnecting.
2018-11-10 19:57:48.720 +07:00 [Debug] Connection id ""0HLI71FE6FAQ2"" disconnecting.
2018-11-10 19:57:48.722 +07:00 [Debug] Connection id ""0HLI71FE6FAPV"" sending FIN.
2018-11-10 19:57:48.724 +07:00 [Debug] Connection id ""0HLI71FE6FAQ2"" sending FIN.
2018-11-10 19:57:48.724 +07:00 [Debug] Connection id ""0HLI71FE6FAPV"" stopped.
2018-11-10 19:57:48.737 +07:00 [Debug] Connection id ""0HLI71FE6FAQ2"" stopped.
2018-11-10 20:27:36.917 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 20:27:36.978 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 20:27:36.988 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 20:27:37.002 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 20:27:37.014 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 20:27:37.018 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 20:27:37.021 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 20:27:37.030 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 20:27:37.038 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 20:27:37.049 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 20:27:37.051 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 20:27:37.253 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 20:27:37.276 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 20:27:37.279 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 20:27:37.281 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 20:27:37.283 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 20:27:37.285 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 20:27:37.633 +07:00 [Debug] Hosting starting
2018-11-10 20:27:37.808 +07:00 [Debug] Hosting started
2018-11-10 20:27:37.811 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 20:27:37.812 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 20:27:37.814 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 20:27:37.973 +07:00 [Debug] Connection id ""0HLI72146NJHF"" started.
2018-11-10 20:27:37.973 +07:00 [Debug] Connection id ""0HLI72146NJHG"" started.
2018-11-10 20:27:38.077 +07:00 [Debug] Connection id ""0HLI72146NJHG"" reset.
2018-11-10 20:27:38.082 +07:00 [Debug] Connection id ""0HLI72146NJHG"" disconnecting.
2018-11-10 20:27:38.097 +07:00 [Debug] Connection id ""0HLI72146NJHG"" sending FIN.
2018-11-10 20:27:38.103 +07:00 [Debug] Connection id ""0HLI72146NJHG"" stopped.
2018-11-10 20:27:38.222 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 20:27:38.472 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 20:27:38.587 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 20:27:38.844 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 20:27:39.494 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 20:27:39.498 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 20:27:39.527 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-10 20:27:39.547 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 20:27:39.549 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 20:27:39.555 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-10 20:27:39.859 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 20:27:40.010 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser e in DbSet<ApplicationUser>
where Property([e], \"Id\") == __get_Item_0
select [e]).FirstOrDefault()"'
2018-11-10 20:27:40.083 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser e in DbSet<ApplicationUser>
where Property([e], \"Id\") == __get_Item_0
select [e]).FirstOrDefault()"'
2018-11-10 20:27:40.282 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
                        FROM [AspNetUsers] AS [e]
                        WHERE [e].[Id] = @__get_Item_0, 
                    shaper: BufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 20:27:40.376 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 20:27:40.698 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 20:27:40.761 +07:00 [Debug] Executing DbCommand [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-11-10 20:27:40.865 +07:00 [Information] Executed DbCommand ("118"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-11-10 20:27:40.985 +07:00 [Debug] A data reader was disposed.
2018-11-10 20:27:40.988 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 20:27:41.003 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 20:27:41.044 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 20:27:41.146 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 20:27:41.157 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 20:27:41.226 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 20:27:41.229 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 20:27:41.233 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 20:27:41.235 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 20:27:41.244 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 20:27:41.248 +07:00 [Debug] A data reader was disposed.
2018-11-10 20:27:41.249 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 20:27:41.251 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 20:27:41.283 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 20:27:41.290 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 20:27:41.322 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 20:27:41.325 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 20:27:41.326 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 20:27:41.328 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 20:27:41.332 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 20:27:41.335 +07:00 [Debug] A data reader was disposed.
2018-11-10 20:27:41.337 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 20:27:41.339 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 20:27:41.361 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:27:41.379 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:27:41.384 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 20:27:42.215 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 20:27:43.541 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-10 20:27:45.424 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1878.1045ms.
2018-11-10 20:27:45.693 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-10 20:27:45.807 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 110.4719ms.
2018-11-10 20:27:45.985 +07:00 [Debug] Executing action "/Index"
2018-11-10 20:27:46.094 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 20:27:46.099 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 20:27:46.235 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-10 20:27:46.384 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-10 20:27:46.651 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 264.7074ms.
2018-11-10 20:27:46.687 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 20:27:46.698 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 20:27:46.744 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 20:27:46.747 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 20:27:46.819 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-10 20:27:46.903 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-10 20:27:46.977 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 71.3138ms.
2018-11-10 20:27:47.012 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 20:27:47.029 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 20:27:47.042 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 20:27:47.160 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 20:27:47.229 +07:00 [Information] Executed action "/Index" in 1232.4174ms
2018-11-10 20:27:47.239 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 20:27:47.249 +07:00 [Debug] Connection id ""0HLI72146NJHF"" completed keep alive response.
2018-11-10 20:27:47.260 +07:00 [Information] Request finished in 9046.6162ms 200 text/html; charset=utf-8
2018-11-10 20:29:27.912 +07:00 [Debug] Connection id ""0HLI72146NJHF"" received FIN.
2018-11-10 20:29:27.917 +07:00 [Debug] Connection id ""0HLI72146NJHF"" disconnecting.
2018-11-10 20:29:27.922 +07:00 [Debug] Connection id ""0HLI72146NJHF"" sending FIN.
2018-11-10 20:29:27.922 +07:00 [Debug] Connection id ""0HLI72146NJHF"" stopped.
2018-11-10 20:33:09.879 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 20:33:09.940 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 20:33:09.949 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 20:33:09.963 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 20:33:09.974 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 20:33:09.979 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 20:33:09.981 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 20:33:09.991 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 20:33:09.998 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 20:33:10.010 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 20:33:10.013 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 20:33:10.135 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 20:33:10.161 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 20:33:10.165 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 20:33:10.166 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 20:33:10.168 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 20:33:10.170 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 20:33:10.418 +07:00 [Debug] Hosting starting
2018-11-10 20:33:10.582 +07:00 [Debug] Connection id ""0HLI7247AM3NR"" started.
2018-11-10 20:33:10.587 +07:00 [Debug] Hosting started
2018-11-10 20:33:10.589 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 20:33:10.591 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 20:33:10.592 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 20:33:10.634 +07:00 [Debug] Connection id ""0HLI7247AM3NS"" started.
2018-11-10 20:33:10.649 +07:00 [Debug] Connection id ""0HLI7247AM3NS"" reset.
2018-11-10 20:33:10.653 +07:00 [Debug] Connection id ""0HLI7247AM3NS"" disconnecting.
2018-11-10 20:33:10.668 +07:00 [Debug] Connection id ""0HLI7247AM3NS"" sending FIN.
2018-11-10 20:33:10.672 +07:00 [Debug] Connection id ""0HLI7247AM3NS"" stopped.
2018-11-10 20:33:10.768 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 20:33:10.908 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 20:33:10.983 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 20:33:11.152 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 20:33:11.207 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:33:11.224 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:33:11.232 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 20:33:11.670 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 20:33:12.776 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-10 20:33:14.409 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1627.9046ms.
2018-11-10 20:33:14.633 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-10 20:33:14.722 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 86.8302ms.
2018-11-10 20:33:14.783 +07:00 [Debug] Executing action "/Index"
2018-11-10 20:33:14.836 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 20:33:14.840 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 20:33:14.969 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-10 20:33:15.079 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-10 20:33:15.245 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 163.5512ms.
2018-11-10 20:33:15.260 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 20:33:15.265 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 20:33:15.285 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 20:33:15.288 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 20:33:15.343 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-10 20:33:15.440 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-10 20:33:15.517 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 74.7079ms.
2018-11-10 20:33:15.552 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 20:33:15.567 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 20:33:15.575 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 20:33:15.688 +07:00 [Information] Executed action "/Index" in 901.2776ms
2018-11-10 20:33:15.702 +07:00 [Debug] Connection id ""0HLI7247AM3NR"" completed keep alive response.
2018-11-10 20:33:15.709 +07:00 [Information] Request finished in 4952.7241ms 200 text/html; charset=utf-8
2018-11-10 20:33:37.786 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 20:33:37.789 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 20:33:37.792 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 20:33:37.812 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:33:37.814 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:33:37.817 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 20:33:37.819 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 20:33:37.824 +07:00 [Debug] Executing action "/Index"
2018-11-10 20:33:37.827 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 20:33:37.829 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 20:33:37.833 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-10 20:33:37.835 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 20:33:37.837 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 20:33:37.839 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 20:33:37.841 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 20:33:37.843 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-10 20:33:37.845 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 20:33:37.848 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 20:33:37.850 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 20:33:37.852 +07:00 [Information] Executed action "/Index" in 25.9059ms
2018-11-10 20:33:37.854 +07:00 [Debug] Connection id ""0HLI7247AM3NR"" completed keep alive response.
2018-11-10 20:33:37.858 +07:00 [Information] Request finished in 72.1594ms 200 text/html; charset=utf-8
2018-11-10 20:33:43.082 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 20:33:43.085 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 20:33:43.088 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 20:33:43.091 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:33:43.093 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:33:43.096 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 20:33:43.099 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 20:33:43.179 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 20:33:43.276 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 20:33:43.282 +07:00 [Information] Test log
2018-11-10 20:33:46.438 +07:00 [Debug] Connection id ""0HLI7247AM3NT"" started.
2018-11-10 20:33:46.442 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 20:33:46.444 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 20:33:46.447 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:33:46.448 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:33:46.451 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 20:33:46.457 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 20:33:46.460 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 20:33:46.467 +07:00 [Verbose] Processing discovery request.
2018-11-10 20:33:46.470 +07:00 [Debug] Start discovery request
2018-11-10 20:33:46.474 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 20:33:46.505 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 20:33:46.576 +07:00 [Debug] Connection id ""0HLI7247AM3NT"" completed keep alive response.
2018-11-10 20:33:46.578 +07:00 [Information] Request finished in 136.0106ms 200 application/json; charset=UTF-8
2018-11-10 20:33:46.619 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 20:33:46.621 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 20:33:46.623 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:33:46.625 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:33:46.627 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 20:33:46.629 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 20:33:46.631 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 20:33:46.636 +07:00 [Verbose] Processing discovery request.
2018-11-10 20:33:46.638 +07:00 [Debug] Start key discovery request
2018-11-10 20:33:46.640 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 20:33:46.650 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 20:33:46.671 +07:00 [Debug] Connection id ""0HLI7247AM3NT"" completed keep alive response.
2018-11-10 20:33:46.674 +07:00 [Information] Request finished in 55.0467ms 200 application/json; charset=UTF-8
2018-11-10 20:33:46.712 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 20:33:46.715 +07:00 [Debug] "POST" requests are not supported
2018-11-10 20:33:46.717 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:33:46.719 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:33:46.720 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 20:33:46.728 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 20:33:46.730 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 20:33:46.734 +07:00 [Verbose] Processing token request.
2018-11-10 20:33:46.741 +07:00 [Debug] Start token request.
2018-11-10 20:33:46.750 +07:00 [Debug] Start client validation
2018-11-10 20:33:46.757 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 20:33:46.760 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 20:33:46.762 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 20:33:46.771 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 20:33:46.774 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 20:33:46.786 +07:00 [Information] Secret: "no description" uses invalid hashing algorithm.
2018-11-10 20:33:46.788 +07:00 [Debug] Secret validators could not validate secret
2018-11-10 20:33:46.793 +07:00 [Error] Client secret validation failed for client: "ro.angular".
2018-11-10 20:33:46.796 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenErrorResult"
2018-11-10 20:33:46.806 +07:00 [Debug] Connection id ""0HLI7247AM3NT"" completed keep alive response.
2018-11-10 20:33:46.813 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-10 20:33:46.818 +07:00 [Debug] Connection id ""0HLI7247AM3NT"", Request id ""0HLI7247AM3NT:00000003"": started reading request body.
2018-11-10 20:33:46.833 +07:00 [Debug] Connection id ""0HLI7247AM3NT"", Request id ""0HLI7247AM3NT:00000003"": done reading request body.
2018-11-10 20:33:46.834 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 20:33:46.837 +07:00 [Information] Request finished in 124.1833ms 400 application/json; charset=UTF-8
2018-11-10 20:33:46.845 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-10 20:33:46.848 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 20:33:46.858 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 3676.857ms
2018-11-10 20:33:46.861 +07:00 [Debug] Connection id ""0HLI7247AM3NR"" completed keep alive response.
2018-11-10 20:33:46.863 +07:00 [Information] Request finished in 3781.0976ms 400 text/plain; charset=utf-8
2018-11-10 20:33:50.041 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 20:33:50.045 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 20:33:50.048 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 20:33:50.050 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:33:50.052 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:33:50.054 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 20:33:50.056 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 20:33:50.058 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 20:33:50.060 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 20:33:50.062 +07:00 [Information] Test log
2018-11-10 20:33:52.315 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 20:33:52.319 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 20:33:52.321 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:33:52.323 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:33:52.325 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 20:33:52.327 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 20:33:52.329 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 20:33:52.331 +07:00 [Verbose] Processing discovery request.
2018-11-10 20:33:52.332 +07:00 [Debug] Start discovery request
2018-11-10 20:33:52.334 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 20:33:52.336 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 20:33:52.338 +07:00 [Debug] Connection id ""0HLI7247AM3NR"" completed keep alive response.
2018-11-10 20:33:52.339 +07:00 [Information] Request finished in 23.7796ms 200 application/json; charset=UTF-8
2018-11-10 20:33:52.367 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 20:33:52.369 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 20:33:52.371 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:33:52.372 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:33:52.374 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 20:33:52.376 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 20:33:52.378 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 20:33:52.380 +07:00 [Verbose] Processing discovery request.
2018-11-10 20:33:52.382 +07:00 [Debug] Start key discovery request
2018-11-10 20:33:52.383 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 20:33:52.385 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 20:33:52.387 +07:00 [Debug] Connection id ""0HLI7247AM3NR"" completed keep alive response.
2018-11-10 20:33:52.410 +07:00 [Information] Request finished in 42.1957ms 200 application/json; charset=UTF-8
2018-11-10 20:33:52.444 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 20:33:52.446 +07:00 [Debug] "POST" requests are not supported
2018-11-10 20:33:52.448 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:33:52.453 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:33:52.455 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 20:33:52.457 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 20:33:52.459 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 20:33:52.461 +07:00 [Verbose] Processing token request.
2018-11-10 20:33:52.462 +07:00 [Debug] Start token request.
2018-11-10 20:33:52.464 +07:00 [Debug] Start client validation
2018-11-10 20:33:52.466 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 20:33:52.468 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 20:33:52.490 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 20:33:52.492 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 20:33:52.494 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 20:33:52.497 +07:00 [Information] Secret: "no description" uses invalid hashing algorithm.
2018-11-10 20:33:52.499 +07:00 [Debug] Secret validators could not validate secret
2018-11-10 20:33:52.500 +07:00 [Error] Client secret validation failed for client: "ro.angular".
2018-11-10 20:33:52.502 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenErrorResult"
2018-11-10 20:33:52.504 +07:00 [Debug] Connection id ""0HLI7247AM3NR"" completed keep alive response.
2018-11-10 20:33:52.506 +07:00 [Debug] Connection id ""0HLI7247AM3NR"", Request id ""0HLI7247AM3NR:00000006"": started reading request body.
2018-11-10 20:33:52.530 +07:00 [Debug] Connection id ""0HLI7247AM3NR"", Request id ""0HLI7247AM3NR:00000006"": done reading request body.
2018-11-10 20:33:52.530 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-10 20:33:52.553 +07:00 [Information] Request finished in 108.9199ms 400 application/json; charset=UTF-8
2018-11-10 20:33:52.555 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 20:33:52.580 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-10 20:33:52.583 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 20:33:52.586 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 2526.0612ms
2018-11-10 20:33:52.588 +07:00 [Debug] Connection id ""0HLI7247AM3NT"" completed keep alive response.
2018-11-10 20:33:52.590 +07:00 [Information] Request finished in 2548.2843ms 400 text/plain; charset=utf-8
2018-11-10 20:33:52.602 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 20:33:52.619 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 20:33:52.642 +07:00 [Debug] Connection id ""0HLI7247AM3NR"" completed keep alive response.
2018-11-10 20:33:52.644 +07:00 [Information] Request finished in 41.5121ms 200 image/x-icon
2018-11-10 20:35:31.321 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 20:35:31.375 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 20:35:31.389 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 20:35:31.403 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 20:35:31.415 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 20:35:31.419 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 20:35:31.421 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 20:35:31.432 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 20:35:31.439 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 20:35:31.450 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 20:35:31.452 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 20:35:31.601 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 20:35:31.623 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 20:35:31.626 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 20:35:31.628 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 20:35:31.630 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 20:35:31.632 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 20:35:31.872 +07:00 [Debug] Hosting starting
2018-11-10 20:35:32.029 +07:00 [Debug] Hosting started
2018-11-10 20:35:32.031 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 20:35:32.033 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 20:35:32.034 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 20:35:32.136 +07:00 [Debug] Connection id ""0HLI725HGOODU"" started.
2018-11-10 20:35:32.136 +07:00 [Debug] Connection id ""0HLI725HGOODV"" started.
2018-11-10 20:35:32.228 +07:00 [Debug] Connection id ""0HLI725HGOODV"" reset.
2018-11-10 20:35:32.231 +07:00 [Debug] Connection id ""0HLI725HGOODV"" disconnecting.
2018-11-10 20:35:32.241 +07:00 [Debug] Connection id ""0HLI725HGOODV"" sending FIN.
2018-11-10 20:35:32.246 +07:00 [Debug] Connection id ""0HLI725HGOODV"" stopped.
2018-11-10 20:35:32.365 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 20:35:32.499 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 20:35:32.582 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 20:35:32.754 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 20:35:32.810 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:35:32.827 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:35:32.835 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 20:35:33.239 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 20:35:34.453 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-10 20:35:36.078 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1620.7851ms.
2018-11-10 20:35:36.209 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-10 20:35:36.295 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 82.9746ms.
2018-11-10 20:35:36.358 +07:00 [Debug] Executing action "/Index"
2018-11-10 20:35:36.411 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 20:35:36.415 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 20:35:36.554 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-10 20:35:36.698 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-10 20:35:36.862 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 161.9862ms.
2018-11-10 20:35:36.880 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 20:35:36.885 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 20:35:36.905 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 20:35:36.907 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 20:35:36.962 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-10 20:35:37.096 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-10 20:35:37.170 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 72.1889ms.
2018-11-10 20:35:37.204 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 20:35:37.220 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 20:35:37.228 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 20:35:37.362 +07:00 [Information] Executed action "/Index" in 1000.9464ms
2018-11-10 20:35:37.379 +07:00 [Debug] Connection id ""0HLI725HGOODU"" completed keep alive response.
2018-11-10 20:35:37.388 +07:00 [Information] Request finished in 5033.9214ms 200 text/html; charset=utf-8
2018-11-10 20:35:38.688 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 20:35:38.691 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 20:35:38.693 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 20:35:38.697 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:35:38.699 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:35:38.702 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 20:35:38.706 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 20:35:38.785 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 20:35:38.892 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 20:35:38.898 +07:00 [Information] Test log
2018-11-10 20:35:43.005 +07:00 [Debug] Connection id ""0HLI725HGOOE0"" started.
2018-11-10 20:35:43.010 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 20:35:43.013 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 20:35:43.015 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:35:43.017 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:35:43.020 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 20:35:43.026 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 20:35:43.028 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 20:35:43.033 +07:00 [Verbose] Processing discovery request.
2018-11-10 20:35:43.035 +07:00 [Debug] Start discovery request
2018-11-10 20:35:43.039 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 20:35:43.069 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 20:35:43.141 +07:00 [Debug] Connection id ""0HLI725HGOOE0"" completed keep alive response.
2018-11-10 20:35:43.143 +07:00 [Information] Request finished in 132.9083ms 200 application/json; charset=UTF-8
2018-11-10 20:35:43.185 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 20:35:43.187 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 20:35:43.189 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:35:43.191 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:35:43.192 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 20:35:43.195 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 20:35:43.196 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 20:35:43.201 +07:00 [Verbose] Processing discovery request.
2018-11-10 20:35:43.204 +07:00 [Debug] Start key discovery request
2018-11-10 20:35:43.206 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 20:35:43.216 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 20:35:43.238 +07:00 [Debug] Connection id ""0HLI725HGOOE0"" completed keep alive response.
2018-11-10 20:35:43.240 +07:00 [Information] Request finished in 55.3747ms 200 application/json; charset=UTF-8
2018-11-10 20:35:45.116 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 20:35:45.119 +07:00 [Debug] "POST" requests are not supported
2018-11-10 20:35:45.121 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:35:45.122 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:35:45.125 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 20:35:45.133 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 20:35:45.135 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 20:35:45.141 +07:00 [Verbose] Processing token request.
2018-11-10 20:35:45.149 +07:00 [Debug] Start token request.
2018-11-10 20:35:45.157 +07:00 [Debug] Start client validation
2018-11-10 20:35:45.166 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 20:35:45.170 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 20:35:45.172 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 20:35:45.181 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 20:35:45.185 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 20:35:45.197 +07:00 [Information] Secret: "no description" uses invalid hashing algorithm.
2018-11-10 20:35:45.200 +07:00 [Debug] Secret validators could not validate secret
2018-11-10 20:35:45.205 +07:00 [Error] Client secret validation failed for client: "ro.angular".
2018-11-10 20:35:45.208 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenErrorResult"
2018-11-10 20:35:45.218 +07:00 [Debug] Connection id ""0HLI725HGOOE0"" completed keep alive response.
2018-11-10 20:36:14.384 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-10 20:36:14.388 +07:00 [Debug] Connection id ""0HLI725HGOOE0"", Request id ""0HLI725HGOOE0:00000003"": started reading request body.
2018-11-10 20:36:14.407 +07:00 [Debug] Connection id ""0HLI725HGOOE0"", Request id ""0HLI725HGOOE0:00000003"": done reading request body.
2018-11-10 20:36:14.410 +07:00 [Information] Request finished in 29293.9785ms 400 application/json; charset=UTF-8
2018-11-10 20:36:14.413 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 20:36:14.420 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-10 20:36:14.422 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 20:36:14.431 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 35643.6718ms
2018-11-10 20:36:14.434 +07:00 [Debug] Connection id ""0HLI725HGOODU"" completed keep alive response.
2018-11-10 20:36:14.436 +07:00 [Information] Request finished in 35748.2484ms 400 text/plain; charset=utf-8
2018-11-10 20:36:14.449 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 20:36:14.466 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 20:36:14.483 +07:00 [Debug] Connection id ""0HLI725HGOOE0"" completed keep alive response.
2018-11-10 20:36:14.486 +07:00 [Information] Request finished in 37.611ms 200 image/x-icon
2018-11-10 20:37:22.098 +07:00 [Debug] Connection id ""0HLI725HGOODU"" received FIN.
2018-11-10 20:37:22.098 +07:00 [Debug] Connection id ""0HLI725HGOOE0"" received FIN.
2018-11-10 20:37:22.131 +07:00 [Debug] Connection id ""0HLI725HGOODU"" disconnecting.
2018-11-10 20:37:22.131 +07:00 [Debug] Connection id ""0HLI725HGOOE0"" disconnecting.
2018-11-10 20:37:22.160 +07:00 [Debug] Connection id ""0HLI725HGOODU"" sending FIN.
2018-11-10 20:37:22.166 +07:00 [Debug] Connection id ""0HLI725HGOODU"" stopped.
2018-11-10 20:37:22.168 +07:00 [Debug] Connection id ""0HLI725HGOOE0"" sending FIN.
2018-11-10 20:37:22.216 +07:00 [Debug] Connection id ""0HLI725HGOOE0"" stopped.
2018-11-10 20:49:30.860 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 20:49:30.916 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 20:49:30.926 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 20:49:30.939 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 20:49:30.951 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 20:49:30.955 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 20:49:30.957 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 20:49:30.967 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 20:49:30.974 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 20:49:30.985 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 20:49:30.987 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 20:49:31.121 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 20:49:31.145 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 20:49:31.150 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 20:49:31.152 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 20:49:31.154 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 20:49:31.157 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 20:49:31.392 +07:00 [Debug] Hosting starting
2018-11-10 20:49:31.548 +07:00 [Debug] Hosting started
2018-11-10 20:49:31.550 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 20:49:31.551 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 20:49:31.553 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 20:49:31.772 +07:00 [Debug] Connection id ""0HLI72DBO54VK"" started.
2018-11-10 20:49:31.772 +07:00 [Debug] Connection id ""0HLI72DBO54VJ"" started.
2018-11-10 20:49:31.841 +07:00 [Debug] Connection id ""0HLI72DBO54VK"" reset.
2018-11-10 20:49:31.845 +07:00 [Debug] Connection id ""0HLI72DBO54VK"" disconnecting.
2018-11-10 20:49:31.855 +07:00 [Debug] Connection id ""0HLI72DBO54VK"" sending FIN.
2018-11-10 20:49:31.859 +07:00 [Debug] Connection id ""0HLI72DBO54VK"" stopped.
2018-11-10 20:49:31.965 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 20:49:32.089 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 20:49:32.163 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 20:49:32.331 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 20:49:32.387 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:49:32.405 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:49:32.413 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 20:49:32.812 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 20:49:33.889 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-10 20:49:35.408 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1514.2718ms.
2018-11-10 20:49:35.540 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-10 20:49:35.622 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 79.5783ms.
2018-11-10 20:49:35.685 +07:00 [Debug] Executing action "/Index"
2018-11-10 20:49:35.738 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 20:49:35.742 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 20:49:35.876 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-10 20:49:36.015 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-10 20:49:36.186 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 168.4042ms.
2018-11-10 20:49:36.202 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 20:49:36.208 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 20:49:36.228 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 20:49:36.230 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 20:49:36.293 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-10 20:49:36.380 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-10 20:49:36.465 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 83.5177ms.
2018-11-10 20:49:36.499 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 20:49:36.514 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 20:49:36.524 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 20:49:36.633 +07:00 [Information] Executed action "/Index" in 944.6908ms
2018-11-10 20:49:36.647 +07:00 [Debug] Connection id ""0HLI72DBO54VJ"" completed keep alive response.
2018-11-10 20:49:36.657 +07:00 [Information] Request finished in 4702.4412ms 200 text/html; charset=utf-8
2018-11-10 20:49:44.718 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 20:49:44.721 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 20:49:44.723 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 20:49:44.726 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:49:44.729 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:49:44.731 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 20:49:44.735 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 20:49:44.813 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 20:49:44.916 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 20:49:44.923 +07:00 [Information] Test log
2018-11-10 20:49:46.512 +07:00 [Debug] Connection id ""0HLI72DBO54VL"" started.
2018-11-10 20:49:46.517 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 20:49:46.519 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 20:49:46.521 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:49:46.523 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:49:46.526 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 20:49:46.532 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 20:49:46.535 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 20:49:46.540 +07:00 [Verbose] Processing discovery request.
2018-11-10 20:49:46.543 +07:00 [Debug] Start discovery request
2018-11-10 20:49:46.547 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 20:49:46.576 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 20:49:46.644 +07:00 [Debug] Connection id ""0HLI72DBO54VL"" completed keep alive response.
2018-11-10 20:49:46.646 +07:00 [Information] Request finished in 128.6333ms 200 application/json; charset=UTF-8
2018-11-10 20:49:46.692 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 20:49:46.694 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 20:49:46.696 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:49:46.698 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:49:46.699 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 20:49:46.702 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 20:49:46.704 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 20:49:46.711 +07:00 [Verbose] Processing discovery request.
2018-11-10 20:49:46.713 +07:00 [Debug] Start key discovery request
2018-11-10 20:49:46.714 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 20:49:46.724 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 20:49:46.748 +07:00 [Debug] Connection id ""0HLI72DBO54VL"" completed keep alive response.
2018-11-10 20:49:46.750 +07:00 [Information] Request finished in 57.9496ms 200 application/json; charset=UTF-8
2018-11-10 20:49:46.798 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 20:49:46.801 +07:00 [Debug] "POST" requests are not supported
2018-11-10 20:49:46.803 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:49:46.806 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:49:46.808 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 20:49:46.816 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 20:49:46.818 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 20:49:46.824 +07:00 [Verbose] Processing token request.
2018-11-10 20:49:46.832 +07:00 [Debug] Start token request.
2018-11-10 20:49:46.842 +07:00 [Debug] Start client validation
2018-11-10 20:49:46.851 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 20:49:46.854 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 20:49:46.857 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 20:49:46.870 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 20:49:46.872 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 20:49:46.887 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 20:49:46.889 +07:00 [Debug] Client validation success
2018-11-10 20:49:46.928 +07:00 [Debug] Connection id ""0HLI72DBO54VL"", Request id ""0HLI72DBO54VL:00000003"": started reading request body.
2018-11-10 20:49:46.945 +07:00 [Debug] Connection id ""0HLI72DBO54VL"", Request id ""0HLI72DBO54VL:00000003"": done reading request body.
2018-11-10 20:49:46.957 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 20:49:46.965 +07:00 [Debug] Start token request validation
2018-11-10 20:49:46.982 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 20:49:46.984 +07:00 [Error] "ro.angular" not authorized for resource owner flow, check the AllowedGrantTypes of client
2018-11-10 20:49:46.996 +07:00 [Error] "{
  \"ClientId\": \"ro.angular\",
  \"GrantType\": \"password\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 20:49:47.000 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenErrorResult"
2018-11-10 20:49:47.009 +07:00 [Debug] Connection id ""0HLI72DBO54VL"" completed keep alive response.
2018-11-10 20:49:47.015 +07:00 [Information] Request finished in 217.124ms 400 application/json; charset=UTF-8
2018-11-10 20:49:47.015 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-10 20:49:47.076 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 20:49:47.083 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-10 20:49:47.085 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 20:49:47.095 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 2280.6567ms
2018-11-10 20:49:47.097 +07:00 [Debug] Connection id ""0HLI72DBO54VJ"" completed keep alive response.
2018-11-10 20:49:47.099 +07:00 [Information] Request finished in 2381.0252ms 400 text/plain; charset=utf-8
2018-11-10 20:49:47.113 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 20:49:47.127 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 20:49:47.142 +07:00 [Debug] Connection id ""0HLI72DBO54VL"" completed keep alive response.
2018-11-10 20:49:47.143 +07:00 [Information] Request finished in 30.8267ms 200 image/x-icon
2018-11-10 20:49:50.649 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 20:49:50.652 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 20:49:50.654 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 20:49:50.657 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:49:50.659 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:49:50.662 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 20:49:50.664 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 20:49:50.668 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 20:49:50.671 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 20:49:50.673 +07:00 [Information] Test log
2018-11-10 20:49:55.570 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 20:49:55.572 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 20:49:55.574 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:49:55.575 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:49:55.577 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 20:49:55.579 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 20:49:55.580 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 20:49:55.582 +07:00 [Verbose] Processing discovery request.
2018-11-10 20:49:55.583 +07:00 [Debug] Start discovery request
2018-11-10 20:49:55.585 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 20:49:55.587 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 20:49:55.589 +07:00 [Debug] Connection id ""0HLI72DBO54VL"" completed keep alive response.
2018-11-10 20:49:55.591 +07:00 [Information] Request finished in 20.2484ms 200 application/json; charset=UTF-8
2018-11-10 20:49:55.620 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 20:49:55.622 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 20:49:55.624 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:49:55.625 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:49:55.627 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 20:49:55.629 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 20:49:55.630 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 20:49:55.632 +07:00 [Verbose] Processing discovery request.
2018-11-10 20:49:55.633 +07:00 [Debug] Start key discovery request
2018-11-10 20:49:55.635 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 20:49:55.637 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 20:49:55.638 +07:00 [Debug] Connection id ""0HLI72DBO54VL"" completed keep alive response.
2018-11-10 20:49:55.641 +07:00 [Information] Request finished in 20.2212ms 200 application/json; charset=UTF-8
2018-11-10 20:50:00.944 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 20:50:00.947 +07:00 [Debug] "POST" requests are not supported
2018-11-10 20:50:00.950 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:50:00.951 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:50:00.953 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 20:50:00.955 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 20:50:00.956 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 20:50:00.958 +07:00 [Verbose] Processing token request.
2018-11-10 20:50:00.960 +07:00 [Debug] Start token request.
2018-11-10 20:50:00.961 +07:00 [Debug] Start client validation
2018-11-10 20:50:00.963 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 20:50:00.964 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 20:50:00.966 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 20:50:00.968 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 20:50:00.969 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 20:50:00.971 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 20:50:00.973 +07:00 [Debug] Client validation success
2018-11-10 20:50:00.974 +07:00 [Debug] Connection id ""0HLI72DBO54VL"", Request id ""0HLI72DBO54VL:00000007"": started reading request body.
2018-11-10 20:50:00.976 +07:00 [Debug] Connection id ""0HLI72DBO54VL"", Request id ""0HLI72DBO54VL:00000007"": done reading request body.
2018-11-10 20:50:00.979 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 20:50:00.980 +07:00 [Debug] Start token request validation
2018-11-10 20:50:00.982 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 20:50:00.984 +07:00 [Error] "ro.angular" not authorized for resource owner flow, check the AllowedGrantTypes of client
2018-11-10 20:50:00.985 +07:00 [Error] "{
  \"ClientId\": \"ro.angular\",
  \"GrantType\": \"password\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 20:50:00.987 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenErrorResult"
2018-11-10 20:50:00.988 +07:00 [Debug] Connection id ""0HLI72DBO54VL"" completed keep alive response.
2018-11-10 20:50:00.990 +07:00 [Information] Request finished in 45.9161ms 400 application/json; charset=UTF-8
2018-11-10 20:52:14.338 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 20:52:14.389 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 20:52:14.398 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 20:52:14.411 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 20:52:14.422 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 20:52:14.426 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 20:52:14.428 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 20:52:14.437 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 20:52:14.444 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 20:52:14.455 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 20:52:14.457 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 20:52:14.578 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 20:52:14.599 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 20:52:14.603 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 20:52:14.605 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 20:52:14.608 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 20:52:14.610 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 20:52:14.840 +07:00 [Debug] Hosting starting
2018-11-10 20:52:14.985 +07:00 [Debug] Hosting started
2018-11-10 20:52:14.986 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 20:52:14.988 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 20:52:14.990 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 20:52:15.036 +07:00 [Debug] Connection id ""0HLI72ESD4NMS"" started.
2018-11-10 20:52:15.036 +07:00 [Debug] Connection id ""0HLI72ESD4NMT"" started.
2018-11-10 20:52:15.108 +07:00 [Debug] Connection id ""0HLI72ESD4NMT"" reset.
2018-11-10 20:52:15.111 +07:00 [Debug] Connection id ""0HLI72ESD4NMT"" disconnecting.
2018-11-10 20:52:15.123 +07:00 [Debug] Connection id ""0HLI72ESD4NMT"" sending FIN.
2018-11-10 20:52:15.128 +07:00 [Debug] Connection id ""0HLI72ESD4NMT"" stopped.
2018-11-10 20:52:15.236 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 20:52:15.366 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 20:52:15.439 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 20:52:15.606 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 20:52:15.662 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:52:15.678 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:52:15.686 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 20:52:16.111 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 20:52:17.167 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-10 20:52:18.775 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1603.4627ms.
2018-11-10 20:52:18.968 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-10 20:52:19.050 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 80.1428ms.
2018-11-10 20:52:19.113 +07:00 [Debug] Executing action "/Index"
2018-11-10 20:52:19.166 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 20:52:19.170 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 20:52:19.293 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-10 20:52:19.402 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-10 20:52:19.570 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 165.4879ms.
2018-11-10 20:52:19.586 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 20:52:19.592 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 20:52:19.612 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 20:52:19.614 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 20:52:19.672 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-10 20:52:19.748 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-10 20:52:19.822 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 71.7399ms.
2018-11-10 20:52:19.856 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 20:52:19.876 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 20:52:19.884 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 20:52:19.993 +07:00 [Information] Executed action "/Index" in 876.784ms
2018-11-10 20:52:20.012 +07:00 [Debug] Connection id ""0HLI72ESD4NMS"" completed keep alive response.
2018-11-10 20:52:20.021 +07:00 [Information] Request finished in 4795.228ms 200 text/html; charset=utf-8
2018-11-10 20:54:45.009 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 20:54:45.060 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 20:54:45.070 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 20:54:45.083 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 20:54:45.094 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 20:54:45.098 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 20:54:45.101 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 20:54:45.110 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 20:54:45.117 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 20:54:45.128 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 20:54:45.129 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 20:54:45.247 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 20:54:45.272 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 20:54:45.275 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 20:54:45.278 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 20:54:45.280 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 20:54:45.282 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 20:54:45.520 +07:00 [Debug] Hosting starting
2018-11-10 20:54:45.671 +07:00 [Debug] Connection id ""0HLI72G99K0KG"" started.
2018-11-10 20:54:45.674 +07:00 [Debug] Hosting started
2018-11-10 20:54:45.676 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 20:54:45.678 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 20:54:45.679 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 20:54:45.734 +07:00 [Debug] Connection id ""0HLI72G99K0KH"" started.
2018-11-10 20:54:45.738 +07:00 [Debug] Connection id ""0HLI72G99K0KH"" reset.
2018-11-10 20:54:45.741 +07:00 [Debug] Connection id ""0HLI72G99K0KH"" disconnecting.
2018-11-10 20:54:45.754 +07:00 [Debug] Connection id ""0HLI72G99K0KH"" sending FIN.
2018-11-10 20:54:45.759 +07:00 [Debug] Connection id ""0HLI72G99K0KH"" stopped.
2018-11-10 20:54:45.862 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 20:54:45.990 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 20:54:46.067 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 20:54:46.258 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 20:54:46.314 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:54:46.331 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:54:46.345 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 20:54:46.763 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 20:54:47.879 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-10 20:54:59.093 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 20:54:59.145 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 20:54:59.155 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 20:54:59.169 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 20:54:59.181 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 20:54:59.185 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 20:54:59.187 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 20:54:59.196 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 20:54:59.203 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 20:54:59.214 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 20:54:59.217 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 20:54:59.365 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 20:54:59.390 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 20:54:59.393 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 20:54:59.395 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 20:54:59.397 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 20:54:59.398 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 20:54:59.626 +07:00 [Debug] Hosting starting
2018-11-10 20:54:59.777 +07:00 [Debug] Hosting started
2018-11-10 20:54:59.779 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 20:54:59.781 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 20:54:59.784 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 20:54:59.992 +07:00 [Debug] Connection id ""0HLI72GDI9L3A"" started.
2018-11-10 20:54:59.992 +07:00 [Debug] Connection id ""0HLI72GDI9L3B"" started.
2018-11-10 20:55:00.064 +07:00 [Debug] Connection id ""0HLI72GDI9L3B"" reset.
2018-11-10 20:55:00.067 +07:00 [Debug] Connection id ""0HLI72GDI9L3B"" disconnecting.
2018-11-10 20:55:00.077 +07:00 [Debug] Connection id ""0HLI72GDI9L3B"" sending FIN.
2018-11-10 20:55:00.083 +07:00 [Debug] Connection id ""0HLI72GDI9L3B"" stopped.
2018-11-10 20:55:00.187 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 20:55:00.319 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 20:55:00.402 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 20:55:00.561 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 20:55:00.615 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:55:00.633 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:55:00.642 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 20:55:01.046 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 20:55:02.118 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-10 20:55:03.603 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1481.0644ms.
2018-11-10 20:55:03.732 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-10 20:55:03.814 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 79.0106ms.
2018-11-10 20:55:03.874 +07:00 [Debug] Executing action "/Index"
2018-11-10 20:55:03.932 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 20:55:03.936 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 20:55:04.066 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-10 20:55:04.184 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-10 20:55:04.428 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 220.6708ms.
2018-11-10 20:55:04.444 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 20:55:04.449 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 20:55:04.469 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 20:55:04.472 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 20:55:04.525 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-10 20:55:04.668 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-10 20:55:04.748 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 77.588ms.
2018-11-10 20:55:04.793 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 20:55:04.810 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 20:55:04.818 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 20:55:04.928 +07:00 [Information] Executed action "/Index" in 1050.7311ms
2018-11-10 20:55:04.942 +07:00 [Debug] Connection id ""0HLI72GDI9L3A"" completed keep alive response.
2018-11-10 20:55:04.952 +07:00 [Information] Request finished in 4774.5484ms 200 text/html; charset=utf-8
2018-11-10 20:55:15.965 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 20:55:15.968 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 20:55:15.971 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 20:55:15.977 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:55:15.980 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:55:15.984 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 20:55:15.989 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 20:55:16.065 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 20:55:16.173 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 20:55:16.179 +07:00 [Information] Test log
2018-11-10 20:55:18.020 +07:00 [Debug] Connection id ""0HLI72GDI9L3C"" started.
2018-11-10 20:55:18.025 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 20:55:18.027 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 20:55:18.029 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:55:18.031 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:55:18.036 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 20:55:18.043 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 20:55:18.047 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 20:55:18.052 +07:00 [Verbose] Processing discovery request.
2018-11-10 20:55:18.055 +07:00 [Debug] Start discovery request
2018-11-10 20:55:18.058 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 20:55:18.087 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 20:55:18.157 +07:00 [Debug] Connection id ""0HLI72GDI9L3C"" completed keep alive response.
2018-11-10 20:55:18.159 +07:00 [Information] Request finished in 134.5148ms 200 application/json; charset=UTF-8
2018-11-10 20:55:18.204 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 20:55:18.206 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 20:55:18.208 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:55:18.209 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:55:18.211 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 20:55:18.213 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 20:55:18.214 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 20:55:18.220 +07:00 [Verbose] Processing discovery request.
2018-11-10 20:55:18.222 +07:00 [Debug] Start key discovery request
2018-11-10 20:55:18.225 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 20:55:18.235 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 20:55:18.256 +07:00 [Debug] Connection id ""0HLI72GDI9L3C"" completed keep alive response.
2018-11-10 20:55:18.258 +07:00 [Information] Request finished in 53.7562ms 200 application/json; charset=UTF-8
2018-11-10 20:55:18.320 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 20:55:18.323 +07:00 [Debug] "POST" requests are not supported
2018-11-10 20:55:18.325 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:55:18.327 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:55:18.328 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 20:55:18.337 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 20:55:18.339 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 20:55:18.344 +07:00 [Verbose] Processing token request.
2018-11-10 20:55:18.351 +07:00 [Debug] Start token request.
2018-11-10 20:55:18.360 +07:00 [Debug] Start client validation
2018-11-10 20:55:18.369 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 20:55:18.372 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 20:55:18.374 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 20:55:18.385 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 20:55:18.387 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 20:55:18.400 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 20:55:18.403 +07:00 [Debug] Client validation success
2018-11-10 20:55:18.440 +07:00 [Debug] Connection id ""0HLI72GDI9L3C"", Request id ""0HLI72GDI9L3C:00000003"": started reading request body.
2018-11-10 20:55:18.468 +07:00 [Debug] Connection id ""0HLI72GDI9L3C"", Request id ""0HLI72GDI9L3C:00000003"": done reading request body.
2018-11-10 20:55:18.478 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 20:55:18.485 +07:00 [Debug] Start token request validation
2018-11-10 20:55:18.500 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 20:55:18.502 +07:00 [Error] "ro.angular" not authorized for resource owner flow, check the AllowedGrantTypes of client
2018-11-10 20:55:18.513 +07:00 [Error] "{
  \"ClientId\": \"ro.angular\",
  \"GrantType\": \"password\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 20:55:18.518 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenErrorResult"
2018-11-10 20:55:18.531 +07:00 [Debug] Connection id ""0HLI72GDI9L3C"" completed keep alive response.
2018-11-10 20:55:18.537 +07:00 [Information] Request finished in 217.5114ms 400 application/json; charset=UTF-8
2018-11-10 20:55:18.539 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-10 20:55:18.557 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 20:55:18.565 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-10 20:55:18.568 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 20:55:18.578 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 2510.5153ms
2018-11-10 20:55:18.580 +07:00 [Debug] Connection id ""0HLI72GDI9L3A"" completed keep alive response.
2018-11-10 20:55:18.582 +07:00 [Information] Request finished in 2617.0385ms 400 text/plain; charset=utf-8
2018-11-10 20:55:27.308 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 20:55:27.311 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 20:55:27.314 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 20:55:27.317 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:55:27.320 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:55:27.323 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 20:55:27.325 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 20:55:27.330 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 20:55:27.332 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 20:55:27.334 +07:00 [Information] Test log
2018-11-10 20:55:29.104 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 20:55:29.106 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 20:55:29.108 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:55:29.110 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:55:29.111 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 20:55:29.113 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 20:55:29.115 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 20:55:29.116 +07:00 [Verbose] Processing discovery request.
2018-11-10 20:55:29.118 +07:00 [Debug] Start discovery request
2018-11-10 20:55:29.119 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 20:55:29.121 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 20:55:29.123 +07:00 [Debug] Connection id ""0HLI72GDI9L3A"" completed keep alive response.
2018-11-10 20:55:29.125 +07:00 [Information] Request finished in 20.9218ms 200 application/json; charset=UTF-8
2018-11-10 20:55:29.151 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 20:55:29.153 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 20:55:29.154 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:55:29.156 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:55:29.157 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 20:55:29.159 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 20:55:29.161 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 20:55:29.163 +07:00 [Verbose] Processing discovery request.
2018-11-10 20:55:29.164 +07:00 [Debug] Start key discovery request
2018-11-10 20:55:29.166 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 20:55:29.168 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 20:55:29.169 +07:00 [Debug] Connection id ""0HLI72GDI9L3A"" completed keep alive response.
2018-11-10 20:55:29.171 +07:00 [Information] Request finished in 20.1426ms 200 application/json; charset=UTF-8
2018-11-10 20:55:30.880 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 20:55:30.882 +07:00 [Debug] "POST" requests are not supported
2018-11-10 20:55:30.884 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:55:30.886 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:55:30.888 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 20:55:30.891 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 20:55:30.894 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 20:55:30.896 +07:00 [Verbose] Processing token request.
2018-11-10 20:55:30.898 +07:00 [Debug] Start token request.
2018-11-10 20:55:30.900 +07:00 [Debug] Start client validation
2018-11-10 20:55:30.902 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 20:55:30.904 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 20:55:30.906 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 20:55:30.908 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 20:55:30.910 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 20:55:30.911 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 20:55:30.913 +07:00 [Debug] Client validation success
2018-11-10 20:55:30.915 +07:00 [Debug] Connection id ""0HLI72GDI9L3A"", Request id ""0HLI72GDI9L3A:00000005"": started reading request body.
2018-11-10 20:55:30.917 +07:00 [Debug] Connection id ""0HLI72GDI9L3A"", Request id ""0HLI72GDI9L3A:00000005"": done reading request body.
2018-11-10 20:55:30.919 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 20:55:30.921 +07:00 [Debug] Start token request validation
2018-11-10 20:55:30.922 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 20:55:30.924 +07:00 [Error] "ro.angular" not authorized for resource owner flow, check the AllowedGrantTypes of client
2018-11-10 20:55:30.926 +07:00 [Error] "{
  \"ClientId\": \"ro.angular\",
  \"GrantType\": \"password\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 20:55:30.928 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenErrorResult"
2018-11-10 20:55:30.930 +07:00 [Debug] Connection id ""0HLI72GDI9L3A"" completed keep alive response.
2018-11-10 20:55:30.931 +07:00 [Information] Request finished in 51.3291ms 400 application/json; charset=UTF-8
2018-11-10 20:56:23.130 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-10 20:56:23.139 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 20:56:23.143 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-10 20:56:23.144 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 20:56:23.146 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 55814.0895ms
2018-11-10 20:56:23.148 +07:00 [Debug] Connection id ""0HLI72GDI9L3C"" completed keep alive response.
2018-11-10 20:56:23.151 +07:00 [Information] Request finished in 55842.988ms 400 text/plain; charset=utf-8
2018-11-10 20:56:49.954 +07:00 [Debug] Connection id ""0HLI72GDI9L3A"" received FIN.
2018-11-10 20:56:49.959 +07:00 [Debug] Connection id ""0HLI72GDI9L3A"" disconnecting.
2018-11-10 20:56:49.963 +07:00 [Debug] Connection id ""0HLI72GDI9L3A"" sending FIN.
2018-11-10 20:56:49.967 +07:00 [Debug] Connection id ""0HLI72GDI9L3A"" stopped.
2018-11-10 20:58:57.506 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 20:58:57.559 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 20:58:57.569 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 20:58:57.582 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 20:58:57.593 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 20:58:57.597 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 20:58:57.599 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 20:58:57.608 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 20:58:57.615 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 20:58:57.626 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 20:58:57.629 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 20:58:57.757 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 20:58:57.781 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 20:58:57.785 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 20:58:57.788 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 20:58:57.790 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 20:58:57.792 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 20:58:58.050 +07:00 [Debug] Hosting starting
2018-11-10 20:58:58.194 +07:00 [Debug] Connection id ""0HLI72IKHS86R"" started.
2018-11-10 20:58:58.203 +07:00 [Debug] Hosting started
2018-11-10 20:58:58.205 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 20:58:58.206 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 20:58:58.208 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 20:58:58.256 +07:00 [Debug] Connection id ""0HLI72IKHS86S"" started.
2018-11-10 20:58:58.261 +07:00 [Debug] Connection id ""0HLI72IKHS86S"" reset.
2018-11-10 20:58:58.264 +07:00 [Debug] Connection id ""0HLI72IKHS86S"" disconnecting.
2018-11-10 20:58:58.279 +07:00 [Debug] Connection id ""0HLI72IKHS86S"" sending FIN.
2018-11-10 20:58:58.283 +07:00 [Debug] Connection id ""0HLI72IKHS86S"" stopped.
2018-11-10 20:58:58.377 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 20:58:58.518 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 20:58:58.591 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 20:58:58.766 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 20:58:59.361 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 20:58:59.364 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 20:58:59.391 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-10 20:58:59.410 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 20:58:59.412 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 20:58:59.416 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-10 20:58:59.756 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 20:58:59.933 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser e in DbSet<ApplicationUser>
where Property([e], \"Id\") == __get_Item_0
select [e]).FirstOrDefault()"'
2018-11-10 20:59:00.009 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser e in DbSet<ApplicationUser>
where Property([e], \"Id\") == __get_Item_0
select [e]).FirstOrDefault()"'
2018-11-10 20:59:00.201 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
                        FROM [AspNetUsers] AS [e]
                        WHERE [e].[Id] = @__get_Item_0, 
                    shaper: BufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 20:59:00.286 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 20:59:00.556 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 20:59:00.613 +07:00 [Debug] Executing DbCommand [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-11-10 20:59:00.720 +07:00 [Information] Executed DbCommand ("119"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-11-10 20:59:00.877 +07:00 [Debug] A data reader was disposed.
2018-11-10 20:59:00.880 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 20:59:00.894 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 20:59:00.910 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 20:59:01.008 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 20:59:01.018 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 20:59:01.087 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 20:59:01.091 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 20:59:01.095 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 20:59:01.097 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 20:59:01.105 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 20:59:01.110 +07:00 [Debug] A data reader was disposed.
2018-11-10 20:59:01.111 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 20:59:01.113 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 20:59:01.146 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 20:59:01.153 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 20:59:01.187 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 20:59:01.191 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 20:59:01.192 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 20:59:01.194 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 20:59:01.199 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 20:59:01.202 +07:00 [Debug] A data reader was disposed.
2018-11-10 20:59:01.204 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 20:59:01.206 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 20:59:01.224 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:59:01.243 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:59:01.248 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 20:59:01.691 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 20:59:02.862 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-10 20:59:04.535 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1668.8071ms.
2018-11-10 20:59:04.696 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-10 20:59:04.787 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 87.4648ms.
2018-11-10 20:59:04.860 +07:00 [Debug] Executing action "/Index"
2018-11-10 20:59:04.923 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 20:59:04.928 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 20:59:05.110 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-10 20:59:05.280 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-10 20:59:05.451 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 167.9601ms.
2018-11-10 20:59:05.468 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 20:59:05.474 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 20:59:05.502 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 20:59:05.507 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 20:59:05.569 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-10 20:59:05.651 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-10 20:59:05.729 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 75.0796ms.
2018-11-10 20:59:05.764 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 20:59:05.785 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 20:59:05.793 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 20:59:05.877 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 20:59:05.955 +07:00 [Information] Executed action "/Index" in 1090.7228ms
2018-11-10 20:59:05.963 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 20:59:05.974 +07:00 [Debug] Connection id ""0HLI72IKHS86R"" completed keep alive response.
2018-11-10 20:59:05.982 +07:00 [Information] Request finished in 7615.5516ms 200 text/html; charset=utf-8
2018-11-10 20:59:18.820 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 20:59:18.824 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 20:59:18.829 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 20:59:18.837 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:59:18.841 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:59:18.844 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 20:59:18.847 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 20:59:18.852 +07:00 [Debug] Executing action "/Index"
2018-11-10 20:59:18.856 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 20:59:18.858 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 20:59:18.863 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-10 20:59:18.865 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 20:59:18.867 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 20:59:18.871 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 20:59:18.873 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 20:59:18.875 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-10 20:59:18.883 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 20:59:18.885 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 20:59:18.892 +07:00 [Debug] A new antiforgery cookie token was created.
2018-11-10 20:59:18.897 +07:00 [Information] Executed action "/Index" in 41.6616ms
2018-11-10 20:59:18.902 +07:00 [Debug] Connection id ""0HLI72IKHS86R"" completed keep alive response.
2018-11-10 20:59:18.905 +07:00 [Information] Request finished in 84.4611ms 200 text/html; charset=utf-8
2018-11-10 20:59:25.924 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 20:59:25.926 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 20:59:25.928 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 20:59:25.931 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:59:25.933 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 20:59:25.935 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 20:59:25.939 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 20:59:26.003 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 20:59:26.104 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 20:59:26.110 +07:00 [Information] Test log
2018-11-10 20:59:30.663 +07:00 [Debug] Connection id ""0HLI72IKHS86T"" started.
2018-11-10 20:59:30.668 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 20:59:30.671 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 20:59:30.673 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:59:30.675 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:59:30.677 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 20:59:30.683 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 20:59:30.687 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 20:59:30.693 +07:00 [Verbose] Processing discovery request.
2018-11-10 20:59:30.696 +07:00 [Debug] Start discovery request
2018-11-10 20:59:30.700 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 20:59:30.731 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 20:59:30.801 +07:00 [Debug] Connection id ""0HLI72IKHS86T"" completed keep alive response.
2018-11-10 20:59:30.804 +07:00 [Information] Request finished in 135.3279ms 200 application/json; charset=UTF-8
2018-11-10 20:59:30.849 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 20:59:30.851 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 20:59:30.853 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:59:30.855 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:59:30.856 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 20:59:30.859 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 20:59:30.861 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 20:59:30.866 +07:00 [Verbose] Processing discovery request.
2018-11-10 20:59:30.869 +07:00 [Debug] Start key discovery request
2018-11-10 20:59:30.871 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 20:59:30.881 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 20:59:30.909 +07:00 [Debug] Connection id ""0HLI72IKHS86T"" completed keep alive response.
2018-11-10 20:59:30.911 +07:00 [Information] Request finished in 62.2777ms 200 application/json; charset=UTF-8
2018-11-10 20:59:30.973 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 20:59:30.976 +07:00 [Debug] "POST" requests are not supported
2018-11-10 20:59:30.979 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:59:30.982 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 20:59:30.984 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 20:59:30.993 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 20:59:30.995 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 20:59:31.002 +07:00 [Verbose] Processing token request.
2018-11-10 20:59:31.011 +07:00 [Debug] Start token request.
2018-11-10 20:59:31.022 +07:00 [Debug] Start client validation
2018-11-10 20:59:31.032 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 20:59:31.036 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 20:59:31.038 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 20:59:31.051 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 20:59:31.054 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 20:59:31.069 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 20:59:31.071 +07:00 [Debug] Client validation success
2018-11-10 20:59:31.117 +07:00 [Debug] Connection id ""0HLI72IKHS86T"", Request id ""0HLI72IKHS86T:00000003"": started reading request body.
2018-11-10 20:59:31.137 +07:00 [Debug] Connection id ""0HLI72IKHS86T"", Request id ""0HLI72IKHS86T:00000003"": done reading request body.
2018-11-10 20:59:31.145 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 20:59:31.159 +07:00 [Debug] Start token request validation
2018-11-10 20:59:31.176 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 20:59:31.180 +07:00 [Error] "ro.angular" not authorized for resource owner flow, check the AllowedGrantTypes of client
2018-11-10 20:59:31.193 +07:00 [Error] "{
  \"ClientId\": \"ro.angular\",
  \"GrantType\": \"password\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 20:59:31.196 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenErrorResult"
2018-11-10 20:59:31.206 +07:00 [Debug] Connection id ""0HLI72IKHS86T"" completed keep alive response.
2018-11-10 20:59:31.214 +07:00 [Information] Request finished in 240.5078ms 400 application/json; charset=UTF-8
2018-11-10 20:59:31.214 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-10 20:59:31.274 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 20:59:31.282 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-10 20:59:31.285 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 20:59:31.294 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 5288.0188ms
2018-11-10 20:59:31.296 +07:00 [Debug] Connection id ""0HLI72IKHS86R"" completed keep alive response.
2018-11-10 20:59:31.299 +07:00 [Information] Request finished in 5374.9643ms 400 text/plain; charset=utf-8
2018-11-10 20:59:31.309 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 20:59:31.324 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 20:59:31.339 +07:00 [Debug] Connection id ""0HLI72IKHS86T"" completed keep alive response.
2018-11-10 20:59:31.341 +07:00 [Information] Request finished in 32.0199ms 200 image/x-icon
2018-11-10 21:00:48.157 +07:00 [Debug] Connection id ""0HLI72IKHS86R"" received FIN.
2018-11-10 21:00:48.157 +07:00 [Debug] Connection id ""0HLI72IKHS86T"" received FIN.
2018-11-10 21:00:48.186 +07:00 [Debug] Connection id ""0HLI72IKHS86T"" disconnecting.
2018-11-10 21:00:48.186 +07:00 [Debug] Connection id ""0HLI72IKHS86R"" disconnecting.
2018-11-10 21:00:48.211 +07:00 [Debug] Connection id ""0HLI72IKHS86T"" sending FIN.
2018-11-10 21:00:48.212 +07:00 [Debug] Connection id ""0HLI72IKHS86T"" stopped.
2018-11-10 21:00:48.211 +07:00 [Debug] Connection id ""0HLI72IKHS86R"" sending FIN.
2018-11-10 21:00:48.239 +07:00 [Debug] Connection id ""0HLI72IKHS86R"" stopped.
2018-11-10 21:09:33.822 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 21:09:33.874 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 21:09:33.884 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 21:09:33.897 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 21:09:33.909 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:09:33.913 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 21:09:33.915 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:09:33.925 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 21:09:33.932 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 21:09:33.944 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 21:09:33.946 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 21:09:34.085 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 21:09:34.113 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 21:09:34.116 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 21:09:34.119 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 21:09:34.121 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 21:09:34.122 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 21:09:34.369 +07:00 [Debug] Hosting starting
2018-11-10 21:09:34.529 +07:00 [Debug] Hosting started
2018-11-10 21:09:34.530 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 21:09:34.532 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 21:09:34.534 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 21:09:34.732 +07:00 [Debug] Connection id ""0HLI72OI8FFBM"" started.
2018-11-10 21:09:34.732 +07:00 [Debug] Connection id ""0HLI72OI8FFBN"" started.
2018-11-10 21:09:34.806 +07:00 [Debug] Connection id ""0HLI72OI8FFBM"" reset.
2018-11-10 21:09:34.809 +07:00 [Debug] Connection id ""0HLI72OI8FFBM"" disconnecting.
2018-11-10 21:09:34.818 +07:00 [Debug] Connection id ""0HLI72OI8FFBM"" sending FIN.
2018-11-10 21:09:34.822 +07:00 [Debug] Connection id ""0HLI72OI8FFBM"" stopped.
2018-11-10 21:09:34.940 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 21:09:35.075 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 21:09:35.155 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:09:35.332 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 21:09:35.392 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:09:35.412 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:09:35.420 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 21:09:35.870 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 21:09:37.034 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-10 21:09:38.088 +07:00 [Debug] Connection id ""0HLI72OI8FFBO"" started.
2018-11-10 21:09:38.092 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 21:09:38.094 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 21:09:38.096 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:09:38.099 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:09:38.102 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:09:38.110 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 21:09:38.115 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 21:09:38.265 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 21:09:38.399 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 21:09:38.414 +07:00 [Information] Test log
2018-11-10 21:09:40.525 +07:00 [Debug] Connection id ""0HLI72OI8FFBP"" started.
2018-11-10 21:09:40.529 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 21:09:40.531 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 21:09:40.533 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:09:40.535 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:09:40.537 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 21:09:40.544 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 21:09:40.546 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 21:09:40.552 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:09:40.554 +07:00 [Debug] Start discovery request
2018-11-10 21:09:40.558 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:09:40.590 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 21:09:40.723 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 3683.8148ms.
2018-11-10 21:09:40.769 +07:00 [Debug] Connection id ""0HLI72OI8FFBP"" completed keep alive response.
2018-11-10 21:09:40.788 +07:00 [Information] Request finished in 243.4ms 200 application/json; charset=UTF-8
2018-11-10 21:09:40.812 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 21:09:40.815 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 21:09:40.816 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:09:40.818 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:09:40.820 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 21:09:40.822 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 21:09:40.823 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 21:09:40.831 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:09:40.833 +07:00 [Debug] Start key discovery request
2018-11-10 21:09:40.835 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:09:40.845 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 21:09:40.892 +07:00 [Debug] Connection id ""0HLI72OI8FFBP"" completed keep alive response.
2018-11-10 21:09:40.894 +07:00 [Information] Request finished in 81.9117ms 200 application/json; charset=UTF-8
2018-11-10 21:09:40.944 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-10 21:09:40.954 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 21:09:40.956 +07:00 [Debug] "POST" requests are not supported
2018-11-10 21:09:40.959 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:09:40.961 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:09:40.976 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 21:09:40.985 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 21:09:40.987 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 21:09:41.013 +07:00 [Verbose] Processing token request.
2018-11-10 21:09:41.021 +07:00 [Debug] Start token request.
2018-11-10 21:09:41.030 +07:00 [Debug] Start client validation
2018-11-10 21:09:41.038 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 21:09:41.041 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 21:09:41.043 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 21:09:41.052 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 21:09:41.054 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 21:09:41.074 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 21:09:41.077 +07:00 [Debug] Client validation success
2018-11-10 21:09:41.094 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 146.5305ms.
2018-11-10 21:09:41.105 +07:00 [Debug] Executing action "/Index"
2018-11-10 21:09:41.131 +07:00 [Debug] Connection id ""0HLI72OI8FFBP"", Request id ""0HLI72OI8FFBP:00000003"": started reading request body.
2018-11-10 21:09:41.141 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 21:09:41.144 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 21:09:41.152 +07:00 [Debug] Connection id ""0HLI72OI8FFBP"", Request id ""0HLI72OI8FFBP:00000003"": done reading request body.
2018-11-10 21:09:41.160 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 21:09:41.168 +07:00 [Debug] Start token request validation
2018-11-10 21:09:41.182 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 21:09:41.276 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-10 21:09:41.461 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-10 21:09:41.685 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 221.7052ms.
2018-11-10 21:09:41.701 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:09:41.707 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:09:41.732 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:09:41.734 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:09:41.801 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-10 21:09:41.897 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-10 21:09:41.978 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 79.464ms.
2018-11-10 21:09:42.011 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:09:42.014 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:09:42.024 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:09:42.041 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:09:42.048 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-10 21:09:42.051 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 21:09:42.070 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:09:42.073 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:09:42.078 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-10 21:09:42.126 +07:00 [Information] Executed action "/Index" in 1018.8409ms
2018-11-10 21:09:42.136 +07:00 [Debug] Connection id ""0HLI72OI8FFBN"" completed keep alive response.
2018-11-10 21:09:42.138 +07:00 [Information] Request finished in 7220.0492ms 200 text/html; charset=utf-8
2018-11-10 21:09:42.404 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 21:09:42.552 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-10 21:09:42.624 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-10 21:09:42.824 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
                        FROM [AspNetUsers] AS [u]
                        WHERE [u].[NormalizedUserName] = @__normalizedUserName_0, 
                    shaper: UnbufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 21:09:42.905 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:09:43.173 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:09:43.235 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:09:43.347 +07:00 [Information] Executed DbCommand ("127"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:09:43.476 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:09:43.480 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:09:43.493 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:09:43.509 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 21:09:43.620 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-10 21:09:43.639 +07:00 [Debug] Resource owner password token request validation success.
2018-11-10 21:09:43.641 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-10 21:09:43.655 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ro.angular\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api1\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 21:09:43.657 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-10 21:09:43.664 +07:00 [Verbose] Creating response for password request
2018-11-10 21:09:43.678 +07:00 [Verbose] Creating access token
2018-11-10 21:09:43.689 +07:00 [Debug] Getting claims for access token for client: "ro.angular"
2018-11-10 21:09:43.693 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-10 21:09:43.747 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 21:09:43.765 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 21:09:43.845 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 21:09:43.848 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:09:43.853 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:09:43.855 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 21:09:43.862 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 21:09:43.867 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:09:43.869 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:09:43.871 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:09:43.907 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 21:09:43.915 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 21:09:43.950 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 21:09:43.953 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:09:43.955 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:09:43.957 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 21:09:43.961 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 21:09:43.965 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:09:43.967 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:09:43.969 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:09:43.991 +07:00 [Verbose] Creating JWT access token
2018-11-10 21:09:44.084 +07:00 [Verbose] Access token issued for "ro.angular (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE4NTg5ODQsImV4cCI6MTU0MTg2MjU4NCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMSJdLCJjbGllbnRfaWQiOiJyby5hbmd1bGFyIiwic3ViIjoiYjk2ZTQ4YWItNTIxZC00MmMxLTk5YjYtZmM2NjAzZWJjZDdhIiwiYXV0aF90aW1lIjoxNTQxODU4OTgzLCJpZHAiOiJsb2NhbCIsImdpdmVuX25hbWUiOiJUaMOhaSBI4buTbmcgUXV54buDbiIsImVtYWlsIjoicXV5ZW50aEBnbWFpbC5jb20iLCJqdGkiOiIwN2E5YTMyNjM2ODkyYWE2NzhkMGQ5NjRkYTM5YTU0YiIsInNjb3BlIjpbImFwaTEiXSwiYW1yIjpbInB3ZCJdfQ.N2kpNyHSO9lOzhsWubSDfB8n72uCUYk-SZxuMMdZ706sm1MTZhdlad2Myrbu23Gs0DyqcE49jPtCQlN6k1v6Wm7b8Dd1PJAnUBZ0FCdSiO423Ql6CGLaSWJrNt_FneL9nrJMTxWRV6hYtWfGq4zW6qgdiiQfriiytcc-cS5Bwk13RzwqVl0CRSIoMZGOxOfd217VzOqARKKX4xzEcYM2Mg-dZImT4Gf9BMWjOC9gGMCNlKHmsCGmcft7UrPwF1X5c3ugMpH1q3j9TXm7TpThUnGMAZRH_3YaOsyLN1gbL8J7s99Ei_yM605LBvoRjLctc2Ui6q3tIFPjTjYjXIl8Fw"
2018-11-10 21:09:44.086 +07:00 [Debug] Token request success.
2018-11-10 21:09:44.088 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-10 21:09:44.102 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 21:09:44.107 +07:00 [Debug] Connection id ""0HLI72OI8FFBP"" completed keep alive response.
2018-11-10 21:09:44.112 +07:00 [Information] Request finished in 3158.3574ms 200 application/json; charset=UTF-8
2018-11-10 21:09:44.121 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 21:09:44.130 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:09:44.133 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:09:44.136 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:09:44.139 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:09:44.141 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:09:44.143 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:09:44.145 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:09:44.146 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 21:09:44.154 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:09:44.156 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:09:44.159 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:09:44.161 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:09:44.163 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:09:44.165 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:09:44.166 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:09:44.178 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-10 21:09:44.196 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 21:09:44.203 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-10 21:09:44.206 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 21:09:44.237 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 5968.6975ms
2018-11-10 21:09:44.240 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 21:09:44.242 +07:00 [Debug] Connection id ""0HLI72OI8FFBO"" completed keep alive response.
2018-11-10 21:09:44.244 +07:00 [Information] Request finished in 6152.1251ms 200 application/json; charset=utf-8
2018-11-10 21:11:24.675 +07:00 [Debug] Connection id ""0HLI72OI8FFBN"" received FIN.
2018-11-10 21:11:24.675 +07:00 [Debug] Connection id ""0HLI72OI8FFBP"" received FIN.
2018-11-10 21:11:24.675 +07:00 [Debug] Connection id ""0HLI72OI8FFBO"" received FIN.
2018-11-10 21:11:24.703 +07:00 [Debug] Connection id ""0HLI72OI8FFBP"" disconnecting.
2018-11-10 21:11:24.703 +07:00 [Debug] Connection id ""0HLI72OI8FFBN"" disconnecting.
2018-11-10 21:11:24.729 +07:00 [Debug] Connection id ""0HLI72OI8FFBP"" sending FIN.
2018-11-10 21:11:24.730 +07:00 [Debug] Connection id ""0HLI72OI8FFBO"" disconnecting.
2018-11-10 21:11:24.731 +07:00 [Debug] Connection id ""0HLI72OI8FFBP"" stopped.
2018-11-10 21:11:24.780 +07:00 [Debug] Connection id ""0HLI72OI8FFBO"" sending FIN.
2018-11-10 21:11:24.792 +07:00 [Debug] Connection id ""0HLI72OI8FFBO"" stopped.
2018-11-10 21:11:24.802 +07:00 [Debug] Connection id ""0HLI72OI8FFBN"" sending FIN.
2018-11-10 21:11:24.806 +07:00 [Debug] Connection id ""0HLI72OI8FFBN"" stopped.
2018-11-10 21:11:52.407 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 21:11:52.461 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 21:11:52.470 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 21:11:52.484 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 21:11:52.497 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:11:52.502 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 21:11:52.504 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:11:52.515 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 21:11:52.522 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 21:11:52.533 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 21:11:52.535 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 21:11:52.676 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 21:11:52.699 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 21:11:52.702 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 21:11:52.704 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 21:11:52.705 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 21:11:52.707 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 21:11:52.941 +07:00 [Debug] Hosting starting
2018-11-10 21:11:53.087 +07:00 [Debug] Hosting started
2018-11-10 21:11:53.089 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 21:11:53.090 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 21:11:53.091 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 21:11:53.349 +07:00 [Debug] Connection id ""0HLI72PRICQTN"" started.
2018-11-10 21:11:53.349 +07:00 [Debug] Connection id ""0HLI72PRICQTM"" started.
2018-11-10 21:11:53.421 +07:00 [Debug] Connection id ""0HLI72PRICQTN"" reset.
2018-11-10 21:11:53.424 +07:00 [Debug] Connection id ""0HLI72PRICQTN"" disconnecting.
2018-11-10 21:11:53.435 +07:00 [Debug] Connection id ""0HLI72PRICQTN"" sending FIN.
2018-11-10 21:11:53.440 +07:00 [Debug] Connection id ""0HLI72PRICQTN"" stopped.
2018-11-10 21:11:53.551 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 21:11:53.675 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 21:11:53.750 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:11:53.924 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 21:11:53.979 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:11:53.998 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:11:54.007 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 21:11:54.410 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 21:11:55.488 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-10 21:11:56.996 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1503.1125ms.
2018-11-10 21:11:57.144 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-10 21:11:57.226 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 79.3306ms.
2018-11-10 21:11:57.287 +07:00 [Debug] Executing action "/Index"
2018-11-10 21:11:57.340 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 21:11:57.344 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 21:11:57.470 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-10 21:11:57.583 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-10 21:11:57.757 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 171.9326ms.
2018-11-10 21:11:57.776 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:11:57.782 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:11:57.803 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:11:57.805 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:11:57.858 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-10 21:11:57.975 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-10 21:11:58.059 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 80.9625ms.
2018-11-10 21:11:58.098 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:11:58.115 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:11:58.123 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 21:11:58.247 +07:00 [Information] Executed action "/Index" in 956.4833ms
2018-11-10 21:11:58.261 +07:00 [Debug] Connection id ""0HLI72PRICQTM"" completed keep alive response.
2018-11-10 21:11:58.270 +07:00 [Information] Request finished in 4730.2004ms 200 text/html; charset=utf-8
2018-11-10 21:12:11.855 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 21:12:11.857 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 21:12:11.863 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:12:11.867 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:12:11.871 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:12:11.874 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 21:12:11.878 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 21:12:11.883 +07:00 [Debug] Executing action "/Index"
2018-11-10 21:12:11.886 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 21:12:11.888 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 21:12:11.894 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-10 21:12:11.896 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:12:11.899 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:12:11.902 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:12:11.904 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:12:11.907 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-10 21:12:11.911 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:12:11.914 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:12:11.944 +07:00 [Debug] A new antiforgery cookie token was created.
2018-11-10 21:12:11.949 +07:00 [Information] Executed action "/Index" in 63.9346ms
2018-11-10 21:12:11.952 +07:00 [Debug] Connection id ""0HLI72PRICQTM"" completed keep alive response.
2018-11-10 21:12:11.955 +07:00 [Information] Request finished in 100.065ms 200 text/html; charset=utf-8
2018-11-10 21:12:16.242 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 21:12:16.245 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 21:12:16.247 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:12:16.249 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:12:16.251 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:12:16.253 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 21:12:16.256 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 21:12:16.324 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 21:12:16.425 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 21:12:16.432 +07:00 [Information] Test log
2018-11-10 21:12:18.706 +07:00 [Debug] Connection id ""0HLI72PRICQTO"" started.
2018-11-10 21:12:18.710 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 21:12:18.713 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 21:12:18.714 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:12:18.716 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:12:18.722 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 21:12:18.728 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 21:12:18.731 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 21:12:18.736 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:12:18.739 +07:00 [Debug] Start discovery request
2018-11-10 21:12:18.743 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:12:18.773 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 21:12:18.849 +07:00 [Debug] Connection id ""0HLI72PRICQTO"" completed keep alive response.
2018-11-10 21:12:18.851 +07:00 [Information] Request finished in 140.8497ms 200 application/json; charset=UTF-8
2018-11-10 21:12:18.891 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 21:12:18.893 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 21:12:18.895 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:12:18.897 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:12:18.898 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 21:12:18.900 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 21:12:18.902 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 21:12:18.907 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:12:18.909 +07:00 [Debug] Start key discovery request
2018-11-10 21:12:18.911 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:12:18.923 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 21:12:18.944 +07:00 [Debug] Connection id ""0HLI72PRICQTO"" completed keep alive response.
2018-11-10 21:12:18.947 +07:00 [Information] Request finished in 55.9678ms 200 application/json; charset=UTF-8
2018-11-10 21:12:19.003 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 21:12:19.006 +07:00 [Debug] "POST" requests are not supported
2018-11-10 21:12:19.007 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:12:19.009 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:12:19.011 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 21:12:19.020 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 21:12:19.022 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 21:12:19.026 +07:00 [Verbose] Processing token request.
2018-11-10 21:12:19.033 +07:00 [Debug] Start token request.
2018-11-10 21:12:19.045 +07:00 [Debug] Start client validation
2018-11-10 21:12:19.053 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 21:12:19.056 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 21:12:19.057 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 21:12:19.067 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 21:12:19.070 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 21:12:19.083 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 21:12:19.086 +07:00 [Debug] Client validation success
2018-11-10 21:12:19.122 +07:00 [Debug] Connection id ""0HLI72PRICQTO"", Request id ""0HLI72PRICQTO:00000003"": started reading request body.
2018-11-10 21:12:19.139 +07:00 [Debug] Connection id ""0HLI72PRICQTO"", Request id ""0HLI72PRICQTO:00000003"": done reading request body.
2018-11-10 21:12:19.147 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 21:12:19.156 +07:00 [Debug] Start token request validation
2018-11-10 21:12:19.172 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 21:12:19.177 +07:00 [Error] "ro.angular" not authorized for resource owner flow, check the AllowedGrantTypes of client
2018-11-10 21:12:19.188 +07:00 [Error] "{
  \"ClientId\": \"ro.angular\",
  \"GrantType\": \"password\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 21:12:19.193 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenErrorResult"
2018-11-10 21:12:19.202 +07:00 [Debug] Connection id ""0HLI72PRICQTO"" completed keep alive response.
2018-11-10 21:12:19.210 +07:00 [Information] Request finished in 206.2463ms 400 application/json; charset=UTF-8
2018-11-10 21:12:19.210 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-10 21:12:19.235 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 21:12:19.242 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-10 21:12:19.244 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 21:12:19.254 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 2927.3099ms
2018-11-10 21:12:19.256 +07:00 [Debug] Connection id ""0HLI72PRICQTM"" completed keep alive response.
2018-11-10 21:12:19.259 +07:00 [Information] Request finished in 3017.0385ms 400 text/plain; charset=utf-8
2018-11-10 21:12:19.288 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 21:12:19.306 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 21:12:19.328 +07:00 [Debug] Connection id ""0HLI72PRICQTO"" completed keep alive response.
2018-11-10 21:12:19.332 +07:00 [Information] Request finished in 44.5836ms 200 image/x-icon
2018-11-10 21:13:27.129 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 21:13:27.181 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 21:13:27.191 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 21:13:27.206 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 21:13:27.217 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:13:27.221 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 21:13:27.225 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:13:27.234 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 21:13:27.241 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 21:13:27.252 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 21:13:27.253 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 21:13:27.376 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 21:13:27.401 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 21:13:27.404 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 21:13:27.406 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 21:13:27.408 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 21:13:27.410 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 21:13:27.642 +07:00 [Debug] Hosting starting
2018-11-10 21:13:27.789 +07:00 [Debug] Hosting started
2018-11-10 21:13:27.791 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 21:13:27.793 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 21:13:27.795 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 21:13:28.001 +07:00 [Debug] Connection id ""0HLI72QNP3PR2"" started.
2018-11-10 21:13:28.001 +07:00 [Debug] Connection id ""0HLI72QNP3PR1"" started.
2018-11-10 21:13:28.073 +07:00 [Debug] Connection id ""0HLI72QNP3PR1"" reset.
2018-11-10 21:13:28.077 +07:00 [Debug] Connection id ""0HLI72QNP3PR1"" disconnecting.
2018-11-10 21:13:28.086 +07:00 [Debug] Connection id ""0HLI72QNP3PR1"" sending FIN.
2018-11-10 21:13:28.091 +07:00 [Debug] Connection id ""0HLI72QNP3PR1"" stopped.
2018-11-10 21:13:28.206 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 21:13:28.340 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 21:13:28.421 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:13:28.602 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 21:13:28.660 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:13:28.679 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:13:28.687 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 21:13:29.114 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 21:13:30.242 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-10 21:13:31.867 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1619.8886ms.
2018-11-10 21:13:32.002 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-10 21:13:32.085 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 81.1071ms.
2018-11-10 21:13:32.145 +07:00 [Debug] Executing action "/Index"
2018-11-10 21:13:32.199 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 21:13:32.203 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 21:13:32.335 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-10 21:13:32.449 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-10 21:13:32.619 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 167.2859ms.
2018-11-10 21:13:32.634 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:13:32.640 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:13:32.659 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:13:32.662 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:13:32.714 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-10 21:13:32.794 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-10 21:13:32.868 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 71.067ms.
2018-11-10 21:13:32.901 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:13:32.918 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:13:32.926 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 21:13:33.041 +07:00 [Information] Executed action "/Index" in 892.1497ms
2018-11-10 21:13:33.054 +07:00 [Debug] Connection id ""0HLI72QNP3PR2"" completed keep alive response.
2018-11-10 21:13:33.062 +07:00 [Information] Request finished in 4868.8908ms 200 text/html; charset=utf-8
2018-11-10 21:17:25.112 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 21:17:25.164 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 21:17:25.174 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 21:17:25.188 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 21:17:25.200 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:17:25.205 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 21:17:25.207 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:17:25.217 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 21:17:25.224 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 21:17:25.234 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 21:17:25.236 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 21:17:25.359 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 21:17:25.380 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 21:17:25.383 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 21:17:25.385 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 21:17:25.387 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 21:17:25.388 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 21:17:25.658 +07:00 [Debug] Hosting starting
2018-11-10 21:17:25.844 +07:00 [Debug] Hosting started
2018-11-10 21:17:25.845 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 21:17:25.847 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 21:17:25.848 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 21:17:26.100 +07:00 [Debug] Connection id ""0HLI72SUNOFUR"" started.
2018-11-10 21:17:26.100 +07:00 [Debug] Connection id ""0HLI72SUNOFUS"" started.
2018-11-10 21:17:26.170 +07:00 [Debug] Connection id ""0HLI72SUNOFUR"" reset.
2018-11-10 21:17:26.173 +07:00 [Debug] Connection id ""0HLI72SUNOFUR"" disconnecting.
2018-11-10 21:17:26.183 +07:00 [Debug] Connection id ""0HLI72SUNOFUR"" sending FIN.
2018-11-10 21:17:26.187 +07:00 [Debug] Connection id ""0HLI72SUNOFUR"" stopped.
2018-11-10 21:17:26.295 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 21:17:26.428 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 21:17:26.504 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:17:26.669 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 21:17:26.726 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:17:26.744 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:17:26.751 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 21:17:27.164 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 21:17:28.246 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-10 21:17:29.767 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1516.3674ms.
2018-11-10 21:17:29.897 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-10 21:17:29.980 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 79.5211ms.
2018-11-10 21:17:30.038 +07:00 [Debug] Executing action "/Index"
2018-11-10 21:17:30.094 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 21:17:30.099 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 21:17:30.228 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-10 21:17:30.367 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-10 21:17:30.544 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 175.9779ms.
2018-11-10 21:17:30.562 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:17:30.569 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:17:30.589 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:17:30.591 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:17:30.646 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-10 21:17:30.743 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-10 21:17:30.840 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 94.1304ms.
2018-11-10 21:17:30.883 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:17:30.903 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:17:30.912 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 21:17:31.036 +07:00 [Information] Executed action "/Index" in 994.1479ms
2018-11-10 21:17:31.049 +07:00 [Debug] Connection id ""0HLI72SUNOFUS"" completed keep alive response.
2018-11-10 21:17:31.056 +07:00 [Information] Request finished in 4774.407ms 200 text/html; charset=utf-8
2018-11-10 21:17:37.350 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 21:17:37.353 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 21:17:37.356 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:17:37.359 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:17:37.362 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:17:37.365 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 21:17:37.370 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 21:17:37.443 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 21:17:37.548 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 21:17:37.555 +07:00 [Information] Test log
2018-11-10 21:17:39.432 +07:00 [Debug] Connection id ""0HLI72SUNOFUT"" started.
2018-11-10 21:17:39.436 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 21:17:39.438 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 21:17:39.440 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:17:39.442 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:17:39.451 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 21:17:39.459 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 21:17:39.462 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 21:17:39.468 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:17:39.470 +07:00 [Debug] Start discovery request
2018-11-10 21:17:39.474 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:17:39.506 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 21:17:39.575 +07:00 [Debug] Connection id ""0HLI72SUNOFUT"" completed keep alive response.
2018-11-10 21:17:39.577 +07:00 [Information] Request finished in 141.0559ms 200 application/json; charset=UTF-8
2018-11-10 21:17:39.616 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 21:17:39.619 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 21:17:39.620 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:17:39.622 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:17:39.623 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 21:17:39.625 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 21:17:39.627 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 21:17:39.633 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:17:39.634 +07:00 [Debug] Start key discovery request
2018-11-10 21:17:39.636 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:17:39.646 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 21:17:39.668 +07:00 [Debug] Connection id ""0HLI72SUNOFUT"" completed keep alive response.
2018-11-10 21:17:39.670 +07:00 [Information] Request finished in 53.2787ms 200 application/json; charset=UTF-8
2018-11-10 21:17:39.771 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 21:17:39.774 +07:00 [Debug] "POST" requests are not supported
2018-11-10 21:17:39.777 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:17:39.778 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:17:39.780 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 21:17:39.796 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 21:17:39.798 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 21:17:39.803 +07:00 [Verbose] Processing token request.
2018-11-10 21:17:39.810 +07:00 [Debug] Start token request.
2018-11-10 21:17:39.818 +07:00 [Debug] Start client validation
2018-11-10 21:17:39.826 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 21:17:39.829 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 21:17:39.831 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 21:17:39.841 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 21:17:39.844 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 21:17:39.855 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 21:17:39.857 +07:00 [Debug] Client validation success
2018-11-10 21:17:39.903 +07:00 [Debug] Connection id ""0HLI72SUNOFUT"", Request id ""0HLI72SUNOFUT:00000003"": started reading request body.
2018-11-10 21:17:39.920 +07:00 [Debug] Connection id ""0HLI72SUNOFUT"", Request id ""0HLI72SUNOFUT:00000003"": done reading request body.
2018-11-10 21:17:39.928 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 21:17:39.937 +07:00 [Debug] Start token request validation
2018-11-10 21:17:39.952 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 21:17:40.565 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:17:40.568 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:17:40.597 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-10 21:17:40.617 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:17:40.619 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:17:40.624 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-10 21:17:40.935 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 21:17:41.073 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-10 21:17:41.132 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-10 21:17:41.373 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
                        FROM [AspNetUsers] AS [u]
                        WHERE [u].[NormalizedUserName] = @__normalizedUserName_0, 
                    shaper: UnbufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 21:17:41.471 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:17:41.703 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:17:41.764 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:17:41.869 +07:00 [Information] Executed DbCommand ("119"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:17:42.019 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:17:42.022 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:17:42.036 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:17:42.052 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 21:17:42.167 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-10 21:17:42.187 +07:00 [Debug] Resource owner password token request validation success.
2018-11-10 21:17:42.189 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-10 21:17:42.202 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ro.angular\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api1\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 21:17:42.205 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-10 21:17:42.211 +07:00 [Verbose] Creating response for password request
2018-11-10 21:17:42.224 +07:00 [Verbose] Creating access token
2018-11-10 21:17:42.234 +07:00 [Debug] Getting claims for access token for client: "ro.angular"
2018-11-10 21:17:42.236 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-10 21:17:42.291 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 21:17:42.310 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 21:17:42.399 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 21:17:42.402 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:17:42.406 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:17:42.408 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 21:17:42.417 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 21:17:42.423 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:17:42.425 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:17:42.427 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:17:42.461 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 21:17:42.469 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 21:17:42.500 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 21:17:42.503 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:17:42.505 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:17:42.507 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 21:17:42.512 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 21:17:42.515 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:17:42.517 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:17:42.518 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:17:42.542 +07:00 [Verbose] Creating JWT access token
2018-11-10 21:17:42.628 +07:00 [Verbose] Access token issued for "ro.angular (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE4NTk0NjIsImV4cCI6MTU0MTg2MzA2MiwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMSJdLCJjbGllbnRfaWQiOiJyby5hbmd1bGFyIiwic3ViIjoiYjk2ZTQ4YWItNTIxZC00MmMxLTk5YjYtZmM2NjAzZWJjZDdhIiwiYXV0aF90aW1lIjoxNTQxODU5NDYyLCJpZHAiOiJsb2NhbCIsImdpdmVuX25hbWUiOiJUaMOhaSBI4buTbmcgUXV54buDbiIsImVtYWlsIjoicXV5ZW50aEBnbWFpbC5jb20iLCJqdGkiOiIyOTY2NGE4NjQwNzdiODNhNGI2NmNhMjRkOTcwOGExNyIsInNjb3BlIjpbImFwaTEiXSwiYW1yIjpbInB3ZCJdfQ.gQCOwohexRcNVFBJQBMEhV9hOcEBKkKvHHEHOuTqZlyjOl2muvWEB8FdfZFH7ZXf2Tu-2j_l1hqR_hR-n_aq0frdiiVRAZQpsIBE1DveT1R0rGJ1FuZeV9PsHeu8UIjXD4Df1LVyhHLCU5GBrobdYqo6cEzm9dvgLiHZ4cZ8RC3z7aw2eFVE8FbY9xn9nBP64yV5FpXRqxFO0Mw9I7nkJb106bipTpA-GP6tS8m1K5SHWeCYs5a1wfkmZboBvgaDUzqyk_ubMswMGwsj6TfjtB3k3LEthnchyloHLLbtVs_2Js5_iIW0R4KQMqEdk5vbEEEC8sl50Z1Rg8o3vKIynQ"
2018-11-10 21:17:42.630 +07:00 [Debug] Token request success.
2018-11-10 21:17:42.632 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-10 21:17:42.645 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 21:17:42.650 +07:00 [Debug] Connection id ""0HLI72SUNOFUT"" completed keep alive response.
2018-11-10 21:17:42.656 +07:00 [Information] Request finished in 2884.6679ms 200 application/json; charset=UTF-8
2018-11-10 21:17:42.666 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 21:17:42.673 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:17:42.675 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:17:42.679 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:17:42.682 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:17:42.684 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:17:42.686 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:17:42.688 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:17:42.690 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 21:17:42.698 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:17:42.700 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:17:42.702 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:17:42.704 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:17:42.706 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:17:42.708 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:17:42.710 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:17:42.723 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-10 21:17:42.740 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 21:17:42.748 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-10 21:17:42.751 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 21:17:42.786 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 5340.8853ms
2018-11-10 21:17:42.789 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 21:17:42.791 +07:00 [Debug] Connection id ""0HLI72SUNOFUS"" completed keep alive response.
2018-11-10 21:17:42.793 +07:00 [Information] Request finished in 5443.5163ms 200 application/json; charset=utf-8
2018-11-10 21:17:42.816 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 21:17:42.831 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 21:17:42.846 +07:00 [Debug] Connection id ""0HLI72SUNOFUT"" completed keep alive response.
2018-11-10 21:17:42.848 +07:00 [Information] Request finished in 32.0061ms 200 image/x-icon
2018-11-10 21:18:54.002 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 21:18:54.050 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 21:18:54.059 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 21:18:54.072 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 21:18:54.084 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:18:54.088 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 21:18:54.092 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:18:54.112 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 21:18:54.119 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 21:18:54.130 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 21:18:54.131 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 21:18:54.200 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 21:18:54.224 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 21:18:54.226 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 21:18:54.227 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 21:18:54.227 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 21:18:54.228 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 21:18:54.494 +07:00 [Debug] Hosting starting
2018-11-10 21:18:54.601 +07:00 [Debug] Hosting started
2018-11-10 21:18:54.602 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 21:18:54.602 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 21:18:54.602 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 21:18:54.702 +07:00 [Debug] Connection id ""0HLI72TP4OTLO"" started.
2018-11-10 21:18:54.855 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 21:18:54.948 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 21:18:55.038 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:18:55.197 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 21:18:55.251 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:18:55.266 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:18:55.273 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 21:18:55.624 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 21:18:56.642 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-10 21:18:58.019 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1374.2944ms.
2018-11-10 21:18:58.161 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-10 21:18:58.223 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 61.3544ms.
2018-11-10 21:18:58.259 +07:00 [Debug] Executing action "/Index"
2018-11-10 21:18:58.307 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 21:18:58.308 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 21:18:58.424 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-10 21:18:58.554 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-10 21:18:58.714 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 160.2343ms.
2018-11-10 21:18:58.728 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:18:58.731 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:18:58.747 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:18:58.747 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:18:58.794 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-10 21:18:58.868 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-10 21:18:58.926 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 58.2816ms.
2018-11-10 21:18:58.955 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:18:58.968 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:18:58.972 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 21:18:59.069 +07:00 [Information] Executed action "/Index" in 808.5458ms
2018-11-10 21:18:59.078 +07:00 [Debug] Connection id ""0HLI72TP4OTLO"" completed keep alive response.
2018-11-10 21:18:59.083 +07:00 [Information] Request finished in 4239.1423ms 200 text/html; charset=utf-8
2018-11-10 21:19:55.682 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 21:19:55.682 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 21:19:55.682 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:19:55.683 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:19:55.684 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:19:55.684 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 21:19:55.686 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 21:19:55.751 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 21:19:55.853 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 21:19:55.857 +07:00 [Information] Test log
2018-11-10 21:19:55.922 +07:00 [Debug] Connection id ""0HLI72TP4OTLP"" started.
2018-11-10 21:19:55.924 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 21:19:55.924 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 21:19:55.924 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:19:55.925 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:19:55.925 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 21:19:55.929 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 21:19:55.929 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 21:19:55.933 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:19:55.934 +07:00 [Debug] Start discovery request
2018-11-10 21:19:55.935 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:19:55.961 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 21:19:56.024 +07:00 [Debug] Connection id ""0HLI72TP4OTLP"" completed keep alive response.
2018-11-10 21:19:56.024 +07:00 [Information] Request finished in 100.5733ms 200 application/json; charset=UTF-8
2018-11-10 21:19:56.044 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 21:19:56.044 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 21:19:56.044 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:19:56.044 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:19:56.044 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 21:19:56.045 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 21:19:56.045 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 21:19:56.048 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:19:56.049 +07:00 [Debug] Start key discovery request
2018-11-10 21:19:56.049 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:19:56.056 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 21:19:56.074 +07:00 [Debug] Connection id ""0HLI72TP4OTLP"" completed keep alive response.
2018-11-10 21:19:56.075 +07:00 [Information] Request finished in 30.7513ms 200 application/json; charset=UTF-8
2018-11-10 21:19:56.103 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 21:19:56.104 +07:00 [Debug] "POST" requests are not supported
2018-11-10 21:19:56.104 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:19:56.104 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:19:56.104 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 21:19:56.125 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 21:19:56.125 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 21:19:56.128 +07:00 [Verbose] Processing token request.
2018-11-10 21:19:56.133 +07:00 [Debug] Start token request.
2018-11-10 21:19:56.139 +07:00 [Debug] Start client validation
2018-11-10 21:19:56.145 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 21:19:56.145 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 21:19:56.145 +07:00 [Debug] Secret id found: "ro.angular"
2018-11-10 21:19:56.152 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 21:19:56.153 +07:00 [Debug] client configuration validation for client "ro.angular" succeeded.
2018-11-10 21:19:56.162 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 21:19:56.162 +07:00 [Debug] Client validation success
2018-11-10 21:19:56.196 +07:00 [Debug] Connection id ""0HLI72TP4OTLP"", Request id ""0HLI72TP4OTLP:00000003"": started reading request body.
2018-11-10 21:19:56.211 +07:00 [Debug] Connection id ""0HLI72TP4OTLP"", Request id ""0HLI72TP4OTLP:00000003"": done reading request body.
2018-11-10 21:19:56.216 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 21:19:56.221 +07:00 [Debug] Start token request validation
2018-11-10 21:19:56.234 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 21:19:56.251 +07:00 [Error] Requested scope not allowed: "api1"
2018-11-10 21:19:56.261 +07:00 [Error] "{
  \"ClientId\": \"ro.angular\",
  \"GrantType\": \"password\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 21:19:56.262 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenErrorResult"
2018-11-10 21:19:56.269 +07:00 [Debug] Connection id ""0HLI72TP4OTLP"" completed keep alive response.
2018-11-10 21:19:56.272 +07:00 [Information] Request finished in 168.6215ms 400 application/json; charset=UTF-8
2018-11-10 21:19:56.273 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-10 21:19:56.287 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 21:19:56.292 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-10 21:19:56.292 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 21:19:56.300 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 548.245ms
2018-11-10 21:19:56.300 +07:00 [Debug] Connection id ""0HLI72TP4OTLO"" completed keep alive response.
2018-11-10 21:19:56.300 +07:00 [Information] Request finished in 618.5249ms 400 text/plain; charset=utf-8
2018-11-10 21:19:56.315 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 21:19:56.326 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 21:19:56.337 +07:00 [Debug] Connection id ""0HLI72TP4OTLP"" completed keep alive response.
2018-11-10 21:19:56.337 +07:00 [Information] Request finished in 21.9526ms 200 image/x-icon
2018-11-10 21:21:56.505 +07:00 [Debug] Connection id ""0HLI72TP4OTLO"" disconnecting.
2018-11-10 21:21:56.526 +07:00 [Debug] Connection id ""0HLI72TP4OTLO"" sending FIN.
2018-11-10 21:21:56.531 +07:00 [Debug] Connection id ""0HLI72TP4OTLO"" stopped.
2018-11-10 21:21:57.502 +07:00 [Debug] Connection id ""0HLI72TP4OTLP"" disconnecting.
2018-11-10 21:21:57.503 +07:00 [Debug] Connection id ""0HLI72TP4OTLP"" stopped.
2018-11-10 21:21:57.503 +07:00 [Debug] Connection id ""0HLI72TP4OTLP"" sending FIN.
2018-11-10 21:24:29.302 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 21:24:29.351 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 21:24:29.378 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 21:24:29.390 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 21:24:29.401 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:24:29.405 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 21:24:29.407 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:24:29.416 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 21:24:29.423 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 21:24:29.434 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 21:24:29.436 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 21:24:29.502 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 21:24:29.520 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 21:24:29.522 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 21:24:29.522 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 21:24:29.522 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 21:24:29.522 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 21:24:29.724 +07:00 [Debug] Hosting starting
2018-11-10 21:24:29.827 +07:00 [Debug] Hosting started
2018-11-10 21:24:29.827 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 21:24:29.827 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 21:24:29.827 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 21:24:29.932 +07:00 [Debug] Connection id ""0HLI730T1P1SN"" started.
2018-11-10 21:24:30.080 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 21:24:30.176 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 21:24:30.268 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:24:30.406 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 21:24:30.457 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:24:30.472 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:24:30.477 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 21:24:30.813 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 21:24:31.786 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-10 21:24:33.139 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1350.476ms.
2018-11-10 21:24:33.249 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-10 21:24:33.310 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 60.47ms.
2018-11-10 21:24:33.363 +07:00 [Debug] Executing action "/Index"
2018-11-10 21:24:33.424 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 21:24:33.426 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 21:24:33.556 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-10 21:24:33.721 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-10 21:24:33.867 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 145.7067ms.
2018-11-10 21:24:33.879 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:24:33.882 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:24:33.898 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:24:33.898 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:24:33.944 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-10 21:24:34.018 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-10 21:24:34.074 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 55.3444ms.
2018-11-10 21:24:34.117 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:24:34.128 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:24:34.133 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 21:24:34.231 +07:00 [Information] Executed action "/Index" in 867.5641ms
2018-11-10 21:24:34.242 +07:00 [Debug] Connection id ""0HLI730T1P1SN"" completed keep alive response.
2018-11-10 21:24:34.249 +07:00 [Information] Request finished in 4178.7584ms 200 text/html; charset=utf-8
2018-11-10 21:25:08.492 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 21:25:08.492 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 21:25:08.493 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:25:08.494 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:25:08.494 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:25:08.494 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 21:25:08.496 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 21:25:08.565 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 21:25:08.657 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 21:25:08.661 +07:00 [Information] Test log
2018-11-10 21:25:08.734 +07:00 [Debug] Connection id ""0HLI730T1P1SO"" started.
2018-11-10 21:25:08.736 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 21:25:08.736 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 21:25:08.736 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:25:08.737 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:25:08.737 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 21:25:08.741 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 21:25:08.741 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 21:25:08.745 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:25:08.745 +07:00 [Debug] Start discovery request
2018-11-10 21:25:08.747 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:25:08.772 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 21:25:08.835 +07:00 [Debug] Connection id ""0HLI730T1P1SO"" completed keep alive response.
2018-11-10 21:25:08.835 +07:00 [Information] Request finished in 99.0217ms 200 application/json; charset=UTF-8
2018-11-10 21:25:08.855 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 21:25:08.855 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 21:25:08.855 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:25:08.855 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:25:08.855 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 21:25:08.856 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 21:25:08.856 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 21:25:08.860 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:25:08.860 +07:00 [Debug] Start key discovery request
2018-11-10 21:25:08.860 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:25:08.868 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 21:25:08.887 +07:00 [Debug] Connection id ""0HLI730T1P1SO"" completed keep alive response.
2018-11-10 21:25:08.887 +07:00 [Information] Request finished in 32.3935ms 200 application/json; charset=UTF-8
2018-11-10 21:25:08.915 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 21:25:08.916 +07:00 [Debug] "POST" requests are not supported
2018-11-10 21:25:08.916 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:25:08.916 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:25:08.916 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 21:25:08.922 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 21:25:08.922 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 21:25:08.924 +07:00 [Verbose] Processing token request.
2018-11-10 21:25:08.929 +07:00 [Debug] Start token request.
2018-11-10 21:25:08.935 +07:00 [Debug] Start client validation
2018-11-10 21:25:08.940 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 21:25:08.941 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 21:25:08.941 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-10 21:25:08.948 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 21:25:08.949 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-10 21:25:08.957 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 21:25:08.957 +07:00 [Debug] Client validation success
2018-11-10 21:25:08.991 +07:00 [Debug] Connection id ""0HLI730T1P1SO"", Request id ""0HLI730T1P1SO:00000003"": started reading request body.
2018-11-10 21:25:09.005 +07:00 [Debug] Connection id ""0HLI730T1P1SO"", Request id ""0HLI730T1P1SO:00000003"": done reading request body.
2018-11-10 21:25:09.010 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 21:25:09.016 +07:00 [Debug] Start token request validation
2018-11-10 21:25:09.028 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 21:25:09.048 +07:00 [Error] Requested scope not allowed: "api2"
2018-11-10 21:25:09.057 +07:00 [Error] "{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api2\"
  }
}"
2018-11-10 21:25:09.058 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenErrorResult"
2018-11-10 21:25:09.066 +07:00 [Debug] Connection id ""0HLI730T1P1SO"" completed keep alive response.
2018-11-10 21:25:09.068 +07:00 [Information] Request finished in 152.6293ms 400 application/json; charset=UTF-8
2018-11-10 21:25:09.069 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-10 21:25:09.082 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 21:25:09.087 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-10 21:25:09.087 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 21:25:09.095 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 529.6986ms
2018-11-10 21:25:09.095 +07:00 [Debug] Connection id ""0HLI730T1P1SN"" completed keep alive response.
2018-11-10 21:25:09.095 +07:00 [Information] Request finished in 602.904ms 400 text/plain; charset=utf-8
2018-11-10 21:25:09.107 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 21:25:09.118 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 21:25:09.130 +07:00 [Debug] Connection id ""0HLI730T1P1SO"" completed keep alive response.
2018-11-10 21:25:09.130 +07:00 [Information] Request finished in 23.7541ms 200 image/x-icon
2018-11-10 21:25:32.675 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 21:25:32.719 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 21:25:32.727 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 21:25:32.739 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 21:25:32.751 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:25:32.755 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 21:25:32.757 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:25:32.766 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 21:25:32.773 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 21:25:32.783 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 21:25:32.785 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 21:25:32.844 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 21:25:32.859 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 21:25:32.860 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 21:25:32.860 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 21:25:32.860 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 21:25:32.861 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 21:25:33.072 +07:00 [Debug] Hosting starting
2018-11-10 21:25:33.198 +07:00 [Debug] Hosting started
2018-11-10 21:25:33.198 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 21:25:33.198 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 21:25:33.198 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 21:25:33.423 +07:00 [Debug] Connection id ""0HLI731FV8TN8"" started.
2018-11-10 21:25:33.586 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 21:25:33.665 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 21:25:33.732 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:25:33.865 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 21:25:33.919 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:25:33.936 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:25:33.943 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 21:25:34.341 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 21:25:35.326 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-10 21:25:36.769 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1440.1703ms.
2018-11-10 21:25:36.894 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-10 21:25:36.955 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 60.8408ms.
2018-11-10 21:25:36.991 +07:00 [Debug] Executing action "/Index"
2018-11-10 21:25:37.036 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 21:25:37.038 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 21:25:37.153 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-10 21:25:37.290 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-10 21:25:37.429 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 139.3535ms.
2018-11-10 21:25:37.441 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:25:37.444 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:25:37.459 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:25:37.459 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:25:37.504 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-10 21:25:37.576 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-10 21:25:37.633 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 56.7559ms.
2018-11-10 21:25:37.662 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:25:37.675 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:25:37.679 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 21:25:37.776 +07:00 [Information] Executed action "/Index" in 783.9933ms
2018-11-10 21:25:37.785 +07:00 [Debug] Connection id ""0HLI731FV8TN8"" completed keep alive response.
2018-11-10 21:25:37.792 +07:00 [Information] Request finished in 4215.8085ms 200 text/html; charset=utf-8
2018-11-10 21:25:59.319 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 21:25:59.319 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 21:25:59.320 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:25:59.321 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:25:59.321 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:25:59.321 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 21:25:59.321 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 21:25:59.324 +07:00 [Debug] Executing action "/Index"
2018-11-10 21:25:59.325 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 21:25:59.325 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 21:25:59.328 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-10 21:25:59.328 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:25:59.328 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:25:59.328 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:25:59.328 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:25:59.329 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-10 21:25:59.329 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:25:59.330 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:25:59.330 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 21:25:59.331 +07:00 [Information] Executed action "/Index" in 6.9476ms
2018-11-10 21:25:59.331 +07:00 [Debug] Connection id ""0HLI731FV8TN8"" completed keep alive response.
2018-11-10 21:25:59.332 +07:00 [Information] Request finished in 12.8456ms 200 text/html; charset=utf-8
2018-11-10 21:26:01.419 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 21:26:01.419 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 21:26:01.419 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:26:01.419 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:26:01.419 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:26:01.419 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 21:26:01.419 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 21:26:01.419 +07:00 [Debug] Executing action "/Index"
2018-11-10 21:26:01.420 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 21:26:01.420 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 21:26:01.420 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-10 21:26:01.420 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:26:01.420 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:26:01.420 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:26:01.420 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:26:01.420 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-10 21:26:01.420 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:26:01.420 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:26:01.420 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 21:26:01.421 +07:00 [Information] Executed action "/Index" in 1.2749ms
2018-11-10 21:26:01.421 +07:00 [Debug] Connection id ""0HLI731FV8TN8"" completed keep alive response.
2018-11-10 21:26:01.421 +07:00 [Information] Request finished in 2.461ms 200 text/html; charset=utf-8
2018-11-10 21:26:01.462 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 21:26:01.476 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 21:26:01.497 +07:00 [Debug] Connection id ""0HLI731FV8TN8"" completed keep alive response.
2018-11-10 21:26:01.497 +07:00 [Information] Request finished in 34.9594ms 200 image/x-icon
2018-11-10 21:26:06.754 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 21:26:06.754 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 21:26:06.754 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:26:06.755 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:26:06.755 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:26:06.755 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 21:26:06.756 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 21:26:06.816 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 21:26:06.907 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 21:26:06.911 +07:00 [Information] Test log
2018-11-10 21:26:06.975 +07:00 [Debug] Connection id ""0HLI731FV8TN9"" started.
2018-11-10 21:26:06.977 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 21:26:06.977 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 21:26:06.978 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:26:06.978 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:26:06.979 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 21:26:06.982 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 21:26:06.982 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 21:26:06.986 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:26:06.986 +07:00 [Debug] Start discovery request
2018-11-10 21:26:06.987 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:26:07.030 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 21:26:07.093 +07:00 [Debug] Connection id ""0HLI731FV8TN9"" completed keep alive response.
2018-11-10 21:26:07.093 +07:00 [Information] Request finished in 116.6386ms 200 application/json; charset=UTF-8
2018-11-10 21:26:07.113 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 21:26:07.113 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 21:26:07.113 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:26:07.113 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:26:07.114 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 21:26:07.114 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 21:26:07.114 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 21:26:07.118 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:26:07.118 +07:00 [Debug] Start key discovery request
2018-11-10 21:26:07.118 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:26:07.125 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 21:26:07.142 +07:00 [Debug] Connection id ""0HLI731FV8TN9"" completed keep alive response.
2018-11-10 21:26:07.143 +07:00 [Information] Request finished in 29.5228ms 200 application/json; charset=UTF-8
2018-11-10 21:26:07.171 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 21:26:07.172 +07:00 [Debug] "POST" requests are not supported
2018-11-10 21:26:07.172 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:26:07.172 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:26:07.172 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 21:26:07.190 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 21:26:07.190 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 21:26:07.193 +07:00 [Verbose] Processing token request.
2018-11-10 21:26:07.198 +07:00 [Debug] Start token request.
2018-11-10 21:26:07.204 +07:00 [Debug] Start client validation
2018-11-10 21:26:07.209 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 21:26:07.209 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 21:26:07.210 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-10 21:26:07.217 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 21:26:07.217 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-10 21:26:07.226 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 21:26:07.226 +07:00 [Debug] Client validation success
2018-11-10 21:26:07.259 +07:00 [Debug] Connection id ""0HLI731FV8TN9"", Request id ""0HLI731FV8TN9:00000003"": started reading request body.
2018-11-10 21:26:07.273 +07:00 [Debug] Connection id ""0HLI731FV8TN9"", Request id ""0HLI731FV8TN9:00000003"": done reading request body.
2018-11-10 21:26:07.279 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 21:26:07.284 +07:00 [Debug] Start token request validation
2018-11-10 21:26:07.296 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 21:26:07.320 +07:00 [Error] Requested scope not allowed: "api1"
2018-11-10 21:26:07.330 +07:00 [Error] "{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 21:26:07.331 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenErrorResult"
2018-11-10 21:26:07.339 +07:00 [Debug] Connection id ""0HLI731FV8TN9"" completed keep alive response.
2018-11-10 21:26:07.341 +07:00 [Information] Request finished in 170.1824ms 400 application/json; charset=UTF-8
2018-11-10 21:26:07.342 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-10 21:26:07.358 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 21:26:07.363 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-10 21:26:07.363 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 21:26:07.371 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 554.9807ms
2018-11-10 21:26:07.371 +07:00 [Debug] Connection id ""0HLI731FV8TN8"" completed keep alive response.
2018-11-10 21:26:07.371 +07:00 [Information] Request finished in 617.4396ms 400 text/plain; charset=utf-8
2018-11-10 21:26:07.388 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 21:26:07.389 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 21:26:07.389 +07:00 [Debug] Connection id ""0HLI731FV8TN9"" completed keep alive response.
2018-11-10 21:26:07.389 +07:00 [Information] Request finished in 1.2191ms 200 image/x-icon
2018-11-10 21:26:23.201 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 21:26:23.255 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 21:26:23.265 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 21:26:23.278 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 21:26:23.290 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:26:23.294 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 21:26:23.297 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:26:23.306 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 21:26:23.312 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 21:26:23.323 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 21:26:23.325 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 21:26:23.541 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 21:26:23.567 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 21:26:23.570 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 21:26:23.572 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 21:26:23.575 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 21:26:23.577 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 21:26:23.817 +07:00 [Debug] Hosting starting
2018-11-10 21:26:23.988 +07:00 [Debug] Hosting started
2018-11-10 21:26:23.990 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 21:26:23.992 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 21:26:23.993 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 21:26:24.103 +07:00 [Debug] Connection id ""0HLI731V2J498"" started.
2018-11-10 21:26:24.103 +07:00 [Debug] Connection id ""0HLI731V2J499"" started.
2018-11-10 21:26:24.176 +07:00 [Debug] Connection id ""0HLI731V2J499"" reset.
2018-11-10 21:26:24.180 +07:00 [Debug] Connection id ""0HLI731V2J499"" disconnecting.
2018-11-10 21:26:24.191 +07:00 [Debug] Connection id ""0HLI731V2J499"" sending FIN.
2018-11-10 21:26:24.195 +07:00 [Debug] Connection id ""0HLI731V2J499"" stopped.
2018-11-10 21:26:24.304 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 21:26:24.452 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 21:26:24.529 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:26:24.702 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 21:26:24.761 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:26:24.777 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:26:24.785 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 21:26:25.186 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 21:26:26.265 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-10 21:26:27.805 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1534.8835ms.
2018-11-10 21:26:27.935 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-10 21:26:28.019 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 81.7261ms.
2018-11-10 21:26:28.082 +07:00 [Debug] Executing action "/Index"
2018-11-10 21:26:28.139 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 21:26:28.145 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 21:26:28.349 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-10 21:26:28.527 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-10 21:26:28.705 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 175.5254ms.
2018-11-10 21:26:28.721 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:26:28.727 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:26:28.748 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:26:28.750 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:26:28.808 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-10 21:26:28.886 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-10 21:26:28.967 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 77.1551ms.
2018-11-10 21:26:29.003 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:26:29.022 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:26:29.030 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 21:26:29.141 +07:00 [Information] Executed action "/Index" in 1055.1561ms
2018-11-10 21:26:29.153 +07:00 [Debug] Connection id ""0HLI731V2J498"" completed keep alive response.
2018-11-10 21:26:29.162 +07:00 [Information] Request finished in 4868.831ms 200 text/html; charset=utf-8
2018-11-10 21:26:35.168 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 21:26:35.171 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 21:26:35.174 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:26:35.177 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:26:35.183 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:26:35.186 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 21:26:35.191 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 21:26:35.261 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 21:26:35.364 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 21:26:35.371 +07:00 [Information] Test log
2018-11-10 21:26:40.474 +07:00 [Debug] Connection id ""0HLI731V2J49A"" started.
2018-11-10 21:26:40.479 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 21:26:40.481 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 21:26:40.483 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:26:40.485 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:26:40.492 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 21:26:40.499 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 21:26:40.501 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 21:26:40.508 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:26:40.512 +07:00 [Debug] Start discovery request
2018-11-10 21:26:40.516 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:26:40.563 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 21:26:40.642 +07:00 [Debug] Connection id ""0HLI731V2J49A"" completed keep alive response.
2018-11-10 21:26:40.645 +07:00 [Information] Request finished in 166.0475ms 200 application/json; charset=UTF-8
2018-11-10 21:26:40.684 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 21:26:40.687 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 21:26:40.689 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:26:40.691 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:26:40.693 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 21:26:40.695 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 21:26:40.697 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 21:26:40.702 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:26:40.704 +07:00 [Debug] Start key discovery request
2018-11-10 21:26:40.706 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:26:40.715 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 21:26:40.739 +07:00 [Debug] Connection id ""0HLI731V2J49A"" completed keep alive response.
2018-11-10 21:26:40.741 +07:00 [Information] Request finished in 56.6251ms 200 application/json; charset=UTF-8
2018-11-10 21:26:44.356 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 21:26:44.359 +07:00 [Debug] "POST" requests are not supported
2018-11-10 21:26:44.361 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:26:44.363 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:26:44.365 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 21:26:44.373 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 21:26:44.376 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 21:26:44.381 +07:00 [Verbose] Processing token request.
2018-11-10 21:26:44.388 +07:00 [Debug] Start token request.
2018-11-10 21:26:44.397 +07:00 [Debug] Start client validation
2018-11-10 21:26:44.405 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 21:26:44.409 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 21:26:44.411 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-10 21:26:44.420 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 21:26:44.424 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-10 21:26:44.435 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 21:26:44.438 +07:00 [Debug] Client validation success
2018-11-10 21:26:44.475 +07:00 [Debug] Connection id ""0HLI731V2J49A"", Request id ""0HLI731V2J49A:00000003"": started reading request body.
2018-11-10 21:26:44.493 +07:00 [Debug] Connection id ""0HLI731V2J49A"", Request id ""0HLI731V2J49A:00000003"": done reading request body.
2018-11-10 21:26:44.502 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 21:26:44.511 +07:00 [Debug] Start token request validation
2018-11-10 21:26:44.527 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 21:26:44.548 +07:00 [Error] Requested scope not allowed: "api1"
2018-11-10 21:26:44.562 +07:00 [Error] "{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 21:26:44.567 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenErrorResult"
2018-11-10 21:26:44.577 +07:00 [Debug] Connection id ""0HLI731V2J49A"" completed keep alive response.
2018-11-10 21:26:44.599 +07:00 [Information] Request finished in 243.3143ms 400 application/json; charset=UTF-8
2018-11-10 21:27:42.279 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-10 21:27:42.304 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 21:27:42.312 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-10 21:27:42.314 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 21:27:42.324 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 67059.76ms
2018-11-10 21:27:42.326 +07:00 [Debug] Connection id ""0HLI731V2J498"" completed keep alive response.
2018-11-10 21:27:42.329 +07:00 [Information] Request finished in 67160.3864ms 400 text/plain; charset=utf-8
2018-11-10 21:27:42.342 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 21:27:42.356 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 21:27:42.372 +07:00 [Debug] Connection id ""0HLI731V2J49A"" completed keep alive response.
2018-11-10 21:27:42.374 +07:00 [Information] Request finished in 31.8379ms 200 image/x-icon
2018-11-10 21:27:44.787 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 21:27:44.790 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 21:27:44.792 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:27:44.794 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:27:44.796 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:27:44.798 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 21:27:44.800 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 21:27:44.803 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 21:27:44.806 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 21:27:44.808 +07:00 [Information] Test log
2018-11-10 21:27:48.553 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 21:27:48.575 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 21:27:48.581 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:27:48.587 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:27:48.592 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 21:27:48.597 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 21:27:48.601 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 21:27:48.604 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:27:48.606 +07:00 [Debug] Start discovery request
2018-11-10 21:27:48.608 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:27:48.610 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 21:27:48.612 +07:00 [Debug] Connection id ""0HLI731V2J49A"" completed keep alive response.
2018-11-10 21:27:48.614 +07:00 [Information] Request finished in 60.91ms 200 application/json; charset=UTF-8
2018-11-10 21:27:48.641 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 21:27:48.644 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 21:27:48.646 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:27:48.648 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:27:48.649 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 21:27:48.651 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 21:27:48.653 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 21:27:48.655 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:27:48.656 +07:00 [Debug] Start key discovery request
2018-11-10 21:27:48.658 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:27:48.659 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 21:27:48.661 +07:00 [Debug] Connection id ""0HLI731V2J49A"" completed keep alive response.
2018-11-10 21:27:48.663 +07:00 [Information] Request finished in 21.9892ms 200 application/json; charset=UTF-8
2018-11-10 21:27:48.698 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 21:27:48.700 +07:00 [Debug] "POST" requests are not supported
2018-11-10 21:27:48.702 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:27:48.706 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:27:48.707 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 21:27:48.709 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 21:27:48.711 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 21:27:48.714 +07:00 [Verbose] Processing token request.
2018-11-10 21:27:48.716 +07:00 [Debug] Start token request.
2018-11-10 21:27:48.718 +07:00 [Debug] Start client validation
2018-11-10 21:27:48.720 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 21:27:48.722 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 21:27:48.724 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-10 21:27:48.726 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 21:27:48.728 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-10 21:27:48.730 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 21:27:48.732 +07:00 [Debug] Client validation success
2018-11-10 21:27:48.734 +07:00 [Debug] Connection id ""0HLI731V2J49A"", Request id ""0HLI731V2J49A:00000007"": started reading request body.
2018-11-10 21:27:48.736 +07:00 [Debug] Connection id ""0HLI731V2J49A"", Request id ""0HLI731V2J49A:00000007"": done reading request body.
2018-11-10 21:27:48.738 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 21:27:48.740 +07:00 [Debug] Start token request validation
2018-11-10 21:27:48.741 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 21:27:48.747 +07:00 [Error] Requested scope not allowed: "api2"
2018-11-10 21:27:48.749 +07:00 [Error] "{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api2\"
  }
}"
2018-11-10 21:27:48.751 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenErrorResult"
2018-11-10 21:27:48.753 +07:00 [Debug] Connection id ""0HLI731V2J49A"" completed keep alive response.
2018-11-10 21:27:48.775 +07:00 [Information] Request finished in 76.8307ms 400 application/json; charset=UTF-8
2018-11-10 21:27:48.778 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-10 21:27:48.802 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 21:27:48.825 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-10 21:27:48.827 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 21:27:48.829 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 4023.2235ms
2018-11-10 21:27:48.831 +07:00 [Debug] Connection id ""0HLI731V2J498"" completed keep alive response.
2018-11-10 21:27:48.833 +07:00 [Information] Request finished in 4045.7572ms 400 text/plain; charset=utf-8
2018-11-10 21:27:48.848 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 21:27:48.850 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 21:27:48.858 +07:00 [Debug] Connection id ""0HLI731V2J49A"" completed keep alive response.
2018-11-10 21:27:48.861 +07:00 [Information] Request finished in 12.9134ms 200 image/x-icon
2018-11-10 21:28:04.274 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 21:28:04.324 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 21:28:04.334 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 21:28:04.347 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 21:28:04.358 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:28:04.362 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 21:28:04.365 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:28:04.374 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 21:28:04.381 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 21:28:04.392 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 21:28:04.394 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 21:28:04.511 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 21:28:04.535 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 21:28:04.538 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 21:28:04.539 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 21:28:04.541 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 21:28:04.542 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 21:28:04.787 +07:00 [Debug] Hosting starting
2018-11-10 21:28:04.937 +07:00 [Debug] Hosting started
2018-11-10 21:28:04.939 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 21:28:04.940 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 21:28:04.941 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 21:28:05.059 +07:00 [Debug] Connection id ""0HLI732T5BKPU"" started.
2018-11-10 21:28:05.059 +07:00 [Debug] Connection id ""0HLI732T5BKPT"" started.
2018-11-10 21:28:05.142 +07:00 [Debug] Connection id ""0HLI732T5BKPT"" reset.
2018-11-10 21:28:05.145 +07:00 [Debug] Connection id ""0HLI732T5BKPT"" disconnecting.
2018-11-10 21:28:05.160 +07:00 [Debug] Connection id ""0HLI732T5BKPT"" sending FIN.
2018-11-10 21:28:05.165 +07:00 [Debug] Connection id ""0HLI732T5BKPT"" stopped.
2018-11-10 21:28:05.290 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 21:28:05.425 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 21:28:05.502 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:28:05.666 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 21:28:05.723 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:28:05.740 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:28:05.748 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 21:28:06.160 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 21:28:07.231 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-10 21:28:08.795 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1559.0041ms.
2018-11-10 21:28:08.925 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-10 21:28:09.006 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 78.9772ms.
2018-11-10 21:28:09.068 +07:00 [Debug] Executing action "/Index"
2018-11-10 21:28:09.129 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 21:28:09.133 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 21:28:09.259 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-10 21:28:09.377 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-10 21:28:09.600 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 199.3581ms.
2018-11-10 21:28:09.621 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:28:09.626 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:28:09.647 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:28:09.649 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:28:09.702 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-10 21:28:09.868 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-10 21:28:09.947 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 75.7553ms.
2018-11-10 21:28:09.983 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:28:09.999 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:28:10.006 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 21:28:10.115 +07:00 [Information] Executed action "/Index" in 1042.8932ms
2018-11-10 21:28:10.130 +07:00 [Debug] Connection id ""0HLI732T5BKPU"" completed keep alive response.
2018-11-10 21:28:10.140 +07:00 [Information] Request finished in 4863.1436ms 200 text/html; charset=utf-8
2018-11-10 21:28:16.046 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 21:28:16.048 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 21:28:16.051 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:28:16.054 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:28:16.056 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:28:16.059 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 21:28:16.063 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 21:28:16.141 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 21:28:16.241 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 21:28:16.247 +07:00 [Information] Test log
2018-11-10 21:28:18.992 +07:00 [Debug] Connection id ""0HLI732T5BKPV"" started.
2018-11-10 21:28:18.997 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 21:28:18.999 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 21:28:19.001 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:28:19.003 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:28:19.006 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 21:28:19.012 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 21:28:19.015 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 21:28:19.021 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:28:19.023 +07:00 [Debug] Start discovery request
2018-11-10 21:28:19.027 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:28:19.056 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 21:28:19.126 +07:00 [Debug] Connection id ""0HLI732T5BKPV"" completed keep alive response.
2018-11-10 21:28:19.129 +07:00 [Information] Request finished in 132.2158ms 200 application/json; charset=UTF-8
2018-11-10 21:28:19.173 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 21:28:19.175 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 21:28:19.177 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:28:19.178 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:28:19.180 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 21:28:19.182 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 21:28:19.183 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 21:28:19.188 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:28:19.191 +07:00 [Debug] Start key discovery request
2018-11-10 21:28:19.192 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:28:19.201 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 21:28:19.223 +07:00 [Debug] Connection id ""0HLI732T5BKPV"" completed keep alive response.
2018-11-10 21:28:19.225 +07:00 [Information] Request finished in 52.3095ms 200 application/json; charset=UTF-8
2018-11-10 21:28:21.699 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 21:28:21.702 +07:00 [Debug] "POST" requests are not supported
2018-11-10 21:28:21.704 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:28:21.706 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:28:21.708 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 21:28:21.716 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 21:28:21.718 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 21:28:21.723 +07:00 [Verbose] Processing token request.
2018-11-10 21:28:21.730 +07:00 [Debug] Start token request.
2018-11-10 21:28:21.739 +07:00 [Debug] Start client validation
2018-11-10 21:28:21.747 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 21:28:21.751 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 21:28:21.753 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-10 21:28:21.762 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 21:28:21.765 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-10 21:28:21.775 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 21:28:21.779 +07:00 [Debug] Client validation success
2018-11-10 21:28:21.816 +07:00 [Debug] Connection id ""0HLI732T5BKPV"", Request id ""0HLI732T5BKPV:00000003"": started reading request body.
2018-11-10 21:28:21.836 +07:00 [Debug] Connection id ""0HLI732T5BKPV"", Request id ""0HLI732T5BKPV:00000003"": done reading request body.
2018-11-10 21:28:21.845 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 21:28:21.854 +07:00 [Debug] Start token request validation
2018-11-10 21:28:21.869 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 21:28:21.893 +07:00 [Error] Requested scope not allowed: "api2"
2018-11-10 21:28:21.906 +07:00 [Error] "{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api2\"
  }
}"
2018-11-10 21:28:21.910 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenErrorResult"
2018-11-10 21:28:21.920 +07:00 [Debug] Connection id ""0HLI732T5BKPV"" completed keep alive response.
2018-11-10 21:28:21.937 +07:00 [Information] Request finished in 237.792ms 400 application/json; charset=UTF-8
2018-11-10 21:29:05.799 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-10 21:29:05.819 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 21:29:05.827 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-10 21:29:05.829 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 21:29:05.840 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 49696.7297ms
2018-11-10 21:29:05.842 +07:00 [Debug] Connection id ""0HLI732T5BKPU"" completed keep alive response.
2018-11-10 21:29:05.844 +07:00 [Information] Request finished in 49798.1937ms 400 text/plain; charset=utf-8
2018-11-10 21:29:05.860 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 21:29:05.877 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 21:29:05.891 +07:00 [Debug] Connection id ""0HLI732T5BKPV"" completed keep alive response.
2018-11-10 21:29:05.893 +07:00 [Information] Request finished in 32.9615ms 200 image/x-icon
2018-11-10 21:31:34.133 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 21:31:34.184 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 21:31:34.194 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 21:31:34.207 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 21:31:34.218 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:31:34.222 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 21:31:34.225 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:31:34.234 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 21:31:34.242 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 21:31:34.253 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 21:31:34.255 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 21:31:34.381 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 21:31:34.411 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 21:31:34.414 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 21:31:34.416 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 21:31:34.418 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 21:31:34.421 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 21:31:34.655 +07:00 [Debug] Hosting starting
2018-11-10 21:31:34.802 +07:00 [Debug] Hosting started
2018-11-10 21:31:34.804 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 21:31:34.806 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 21:31:34.808 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 21:31:34.890 +07:00 [Debug] Connection id ""0HLI734RMCTH0"" started.
2018-11-10 21:31:34.890 +07:00 [Debug] Connection id ""0HLI734RMCTGV"" started.
2018-11-10 21:31:34.962 +07:00 [Debug] Connection id ""0HLI734RMCTGV"" reset.
2018-11-10 21:31:34.965 +07:00 [Debug] Connection id ""0HLI734RMCTGV"" disconnecting.
2018-11-10 21:31:34.974 +07:00 [Debug] Connection id ""0HLI734RMCTGV"" sending FIN.
2018-11-10 21:31:34.979 +07:00 [Debug] Connection id ""0HLI734RMCTGV"" stopped.
2018-11-10 21:31:35.085 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 21:31:35.217 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 21:31:35.292 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:31:35.464 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 21:31:36.117 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:31:36.120 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:31:36.155 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-10 21:31:36.178 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:31:36.181 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:31:36.187 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-10 21:31:36.492 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 21:31:36.660 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser e in DbSet<ApplicationUser>
where Property([e], \"Id\") == __get_Item_0
select [e]).FirstOrDefault()"'
2018-11-10 21:31:36.734 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser e in DbSet<ApplicationUser>
where Property([e], \"Id\") == __get_Item_0
select [e]).FirstOrDefault()"'
2018-11-10 21:31:36.934 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
                        FROM [AspNetUsers] AS [e]
                        WHERE [e].[Id] = @__get_Item_0, 
                    shaper: BufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 21:31:37.023 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:31:37.271 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:31:37.330 +07:00 [Debug] Executing DbCommand [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-11-10 21:31:37.448 +07:00 [Information] Executed DbCommand ("131"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-11-10 21:31:37.571 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:31:37.575 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:31:37.588 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:31:37.603 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 21:31:37.708 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 21:31:37.719 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 21:31:37.795 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 21:31:37.797 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:31:37.802 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:31:37.804 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 21:31:37.813 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 21:31:37.817 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:31:37.818 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:31:37.820 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:31:37.850 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 21:31:37.857 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 21:31:37.900 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 21:31:37.902 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:31:37.904 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:31:37.906 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 21:31:37.910 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 21:31:37.913 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:31:37.915 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:31:37.916 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:31:37.934 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:31:37.952 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:31:37.957 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 21:31:38.397 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 21:31:39.570 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-10 21:31:41.261 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1685.503ms.
2018-11-10 21:31:41.411 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-10 21:31:41.506 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 92.0892ms.
2018-11-10 21:31:41.571 +07:00 [Debug] Executing action "/Index"
2018-11-10 21:31:41.627 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 21:31:41.631 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 21:31:41.768 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-10 21:31:41.937 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-10 21:31:42.120 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 180.3627ms.
2018-11-10 21:31:42.136 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:31:42.142 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:31:42.162 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:31:42.165 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:31:42.221 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-10 21:31:42.299 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-10 21:31:42.375 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 74.4067ms.
2018-11-10 21:31:42.410 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:31:42.427 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:31:42.435 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 21:31:42.518 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:31:42.589 +07:00 [Information] Executed action "/Index" in 1015.3111ms
2018-11-10 21:31:42.599 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 21:31:42.610 +07:00 [Debug] Connection id ""0HLI734RMCTH0"" completed keep alive response.
2018-11-10 21:31:42.618 +07:00 [Information] Request finished in 7544.2966ms 200 text/html; charset=utf-8
2018-11-10 21:31:45.812 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 21:31:45.815 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 21:31:45.818 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:31:45.822 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:31:45.825 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:31:45.828 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 21:31:45.832 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 21:31:45.895 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 21:31:46.000 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 21:31:46.006 +07:00 [Information] Test log
2018-11-10 21:31:49.304 +07:00 [Debug] Connection id ""0HLI734RMCTH1"" started.
2018-11-10 21:31:49.309 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 21:31:49.312 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 21:31:49.313 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:31:49.315 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:31:49.318 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 21:31:49.324 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 21:31:49.327 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 21:31:49.332 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:31:49.335 +07:00 [Debug] Start discovery request
2018-11-10 21:31:49.340 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:31:49.370 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 21:31:49.439 +07:00 [Debug] Connection id ""0HLI734RMCTH1"" completed keep alive response.
2018-11-10 21:31:49.441 +07:00 [Information] Request finished in 132.0431ms 200 application/json; charset=UTF-8
2018-11-10 21:31:49.490 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 21:31:49.492 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 21:31:49.494 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:31:49.496 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:31:49.497 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 21:31:49.500 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 21:31:49.501 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 21:31:49.506 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:31:49.509 +07:00 [Debug] Start key discovery request
2018-11-10 21:31:49.511 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:31:49.521 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 21:31:49.544 +07:00 [Debug] Connection id ""0HLI734RMCTH1"" completed keep alive response.
2018-11-10 21:31:49.546 +07:00 [Information] Request finished in 56.0084ms 200 application/json; charset=UTF-8
2018-11-10 21:31:51.233 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 21:31:51.235 +07:00 [Debug] "POST" requests are not supported
2018-11-10 21:31:51.237 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:31:51.238 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:31:51.240 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 21:31:51.248 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 21:31:51.251 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 21:31:51.256 +07:00 [Verbose] Processing token request.
2018-11-10 21:31:51.263 +07:00 [Debug] Start token request.
2018-11-10 21:31:51.271 +07:00 [Debug] Start client validation
2018-11-10 21:31:51.281 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 21:31:51.285 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 21:31:51.287 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-10 21:31:51.297 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 21:31:51.300 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-10 21:31:51.311 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 21:31:51.315 +07:00 [Debug] Client validation success
2018-11-10 21:31:51.352 +07:00 [Debug] Connection id ""0HLI734RMCTH1"", Request id ""0HLI734RMCTH1:00000003"": started reading request body.
2018-11-10 21:31:51.370 +07:00 [Debug] Connection id ""0HLI734RMCTH1"", Request id ""0HLI734RMCTH1:00000003"": done reading request body.
2018-11-10 21:31:51.379 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 21:31:51.388 +07:00 [Debug] Start token request validation
2018-11-10 21:31:51.422 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 21:31:51.452 +07:00 [Error] Requested scope not allowed: "api1"
2018-11-10 21:31:51.465 +07:00 [Error] "{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 21:31:51.470 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenErrorResult"
2018-11-10 21:31:51.480 +07:00 [Debug] Connection id ""0HLI734RMCTH1"" completed keep alive response.
2018-11-10 21:31:51.501 +07:00 [Information] Request finished in 267.7945ms 400 application/json; charset=UTF-8
2018-11-10 21:32:20.653 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-10 21:32:20.670 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 21:32:20.677 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-10 21:32:20.680 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 21:32:20.690 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 34792.3189ms
2018-11-10 21:32:20.692 +07:00 [Debug] Connection id ""0HLI734RMCTH0"" completed keep alive response.
2018-11-10 21:32:20.694 +07:00 [Information] Request finished in 34882.0587ms 400 text/plain; charset=utf-8
2018-11-10 21:32:20.707 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 21:32:20.724 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 21:32:20.740 +07:00 [Debug] Connection id ""0HLI734RMCTH1"" completed keep alive response.
2018-11-10 21:32:20.742 +07:00 [Information] Request finished in 35.6586ms 200 image/x-icon
2018-11-10 21:33:24.850 +07:00 [Debug] Connection id ""0HLI734RMCTH0"" received FIN.
2018-11-10 21:33:24.850 +07:00 [Debug] Connection id ""0HLI734RMCTH1"" received FIN.
2018-11-10 21:33:24.883 +07:00 [Debug] Connection id ""0HLI734RMCTH0"" disconnecting.
2018-11-10 21:33:24.883 +07:00 [Debug] Connection id ""0HLI734RMCTH1"" disconnecting.
2018-11-10 21:33:24.916 +07:00 [Debug] Connection id ""0HLI734RMCTH0"" sending FIN.
2018-11-10 21:33:24.917 +07:00 [Debug] Connection id ""0HLI734RMCTH1"" sending FIN.
2018-11-10 21:33:24.917 +07:00 [Debug] Connection id ""0HLI734RMCTH0"" stopped.
2018-11-10 21:33:24.919 +07:00 [Debug] Connection id ""0HLI734RMCTH1"" stopped.
2018-11-10 21:33:36.929 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 21:33:36.987 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 21:33:36.996 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 21:33:37.009 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 21:33:37.020 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:33:37.024 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 21:33:37.026 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:33:37.036 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 21:33:37.043 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 21:33:37.054 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 21:33:37.056 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 21:33:37.122 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 21:33:37.138 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 21:33:37.139 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 21:33:37.140 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 21:33:37.140 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 21:33:37.140 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 21:33:37.351 +07:00 [Debug] Hosting starting
2018-11-10 21:33:37.461 +07:00 [Debug] Hosting started
2018-11-10 21:33:37.462 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 21:33:37.462 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 21:33:37.462 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 21:33:37.602 +07:00 [Debug] Connection id ""0HLI73608OI7N"" started.
2018-11-10 21:33:37.769 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 21:33:37.857 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 21:33:37.926 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:33:38.063 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 21:33:38.118 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:33:38.133 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:33:38.139 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 21:33:38.503 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 21:33:39.527 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-10 21:33:40.902 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1372.4715ms.
2018-11-10 21:33:41.023 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-10 21:33:41.085 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 62.1189ms.
2018-11-10 21:33:41.125 +07:00 [Debug] Executing action "/Index"
2018-11-10 21:33:41.189 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 21:33:41.191 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 21:33:41.347 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-10 21:33:41.471 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-10 21:33:41.630 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 159.282ms.
2018-11-10 21:33:41.643 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:33:41.646 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:33:41.674 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:33:41.674 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:33:41.727 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-10 21:33:41.869 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-10 21:33:41.926 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 57.5448ms.
2018-11-10 21:33:41.955 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:33:41.968 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:33:41.973 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 21:33:42.075 +07:00 [Information] Executed action "/Index" in 948.5571ms
2018-11-10 21:33:42.084 +07:00 [Debug] Connection id ""0HLI73608OI7N"" completed keep alive response.
2018-11-10 21:33:42.090 +07:00 [Information] Request finished in 4331.7814ms 200 text/html; charset=utf-8
2018-11-10 21:33:43.558 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 21:33:43.559 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 21:33:43.559 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:33:43.560 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:33:43.561 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:33:43.561 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 21:33:43.563 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 21:33:43.629 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 21:33:43.738 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 21:33:43.742 +07:00 [Information] Test log
2018-11-10 21:33:43.815 +07:00 [Debug] Connection id ""0HLI73608OI7O"" started.
2018-11-10 21:33:43.816 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 21:33:43.817 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 21:33:43.817 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:33:43.817 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:33:43.818 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 21:33:43.822 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 21:33:43.822 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 21:33:43.828 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:33:43.828 +07:00 [Debug] Start discovery request
2018-11-10 21:33:43.831 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:33:43.870 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 21:33:43.944 +07:00 [Debug] Connection id ""0HLI73608OI7O"" completed keep alive response.
2018-11-10 21:33:43.944 +07:00 [Information] Request finished in 127.5864ms 200 application/json; charset=UTF-8
2018-11-10 21:33:43.965 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 21:33:43.965 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 21:33:43.965 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:33:43.965 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:33:43.965 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 21:33:43.966 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 21:33:43.966 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 21:33:43.970 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:33:43.970 +07:00 [Debug] Start key discovery request
2018-11-10 21:33:43.970 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:33:43.978 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 21:33:43.998 +07:00 [Debug] Connection id ""0HLI73608OI7O"" completed keep alive response.
2018-11-10 21:33:43.998 +07:00 [Information] Request finished in 32.9191ms 200 application/json; charset=UTF-8
2018-11-10 21:33:44.028 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 21:33:44.028 +07:00 [Debug] "POST" requests are not supported
2018-11-10 21:33:44.028 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:33:44.028 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:33:44.029 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 21:33:44.034 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 21:33:44.034 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 21:33:44.038 +07:00 [Verbose] Processing token request.
2018-11-10 21:33:44.043 +07:00 [Debug] Start token request.
2018-11-10 21:33:44.049 +07:00 [Debug] Start client validation
2018-11-10 21:33:44.054 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 21:33:44.055 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 21:33:44.055 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-10 21:33:44.062 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 21:33:44.062 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-10 21:33:44.072 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 21:33:44.072 +07:00 [Debug] Client validation success
2018-11-10 21:33:44.106 +07:00 [Debug] Connection id ""0HLI73608OI7O"", Request id ""0HLI73608OI7O:00000003"": started reading request body.
2018-11-10 21:33:44.122 +07:00 [Debug] Connection id ""0HLI73608OI7O"", Request id ""0HLI73608OI7O:00000003"": done reading request body.
2018-11-10 21:33:44.127 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 21:33:44.133 +07:00 [Debug] Start token request validation
2018-11-10 21:33:44.146 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 21:33:44.690 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:33:44.690 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:33:44.714 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-10 21:33:44.731 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:33:44.731 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:33:44.735 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-10 21:33:45.008 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 21:33:45.137 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-10 21:33:45.193 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-10 21:33:45.370 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
                        FROM [AspNetUsers] AS [u]
                        WHERE [u].[NormalizedUserName] = @__normalizedUserName_0, 
                    shaper: UnbufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 21:33:45.436 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:33:45.633 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:33:45.705 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:33:45.808 +07:00 [Information] Executed DbCommand ("131"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:33:45.910 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:33:45.912 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:33:45.923 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:33:45.934 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 21:33:46.027 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-10 21:33:46.041 +07:00 [Debug] Resource owner password token request validation success.
2018-11-10 21:33:46.041 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-10 21:33:46.051 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api1\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 21:33:46.051 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-10 21:33:46.054 +07:00 [Verbose] Creating response for password request
2018-11-10 21:33:46.065 +07:00 [Verbose] Creating access token
2018-11-10 21:33:46.072 +07:00 [Debug] Getting claims for access token for client: "ApiApplication"
2018-11-10 21:33:46.073 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-10 21:33:46.122 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 21:33:46.136 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 21:33:46.202 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 21:33:46.203 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:33:46.205 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:33:46.205 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 21:33:46.212 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 21:33:46.214 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:33:46.214 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:33:46.214 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:33:46.241 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 21:33:46.245 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 21:33:46.274 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 21:33:46.274 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:33:46.275 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:33:46.275 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 21:33:46.277 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 21:33:46.278 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:33:46.278 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:33:46.278 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:33:46.298 +07:00 [Verbose] Creating JWT access token
2018-11-10 21:33:46.358 +07:00 [Verbose] Access token issued for "ApiApplication (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE4NjA0MjYsImV4cCI6MTU0MTg2NDAyNiwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMSJdLCJjbGllbnRfaWQiOiJBcGlBcHBsaWNhdGlvbiIsInN1YiI6ImI5NmU0OGFiLTUyMWQtNDJjMS05OWI2LWZjNjYwM2ViY2Q3YSIsImF1dGhfdGltZSI6MTU0MTg2MDQyNiwiaWRwIjoibG9jYWwiLCJnaXZlbl9uYW1lIjoiVGjDoWkgSOG7k25nIFF1eeG7g24iLCJlbWFpbCI6InF1eWVudGhAZ21haWwuY29tIiwianRpIjoiYWJjNjdkOTJmNWY4ZTlhZDYwZDg5ZWM1ZjQxYzU0ZTgiLCJzY29wZSI6WyJhcGkxIl0sImFtciI6WyJwd2QiXX0.DRKgHSKYvsyI1oGHrNEdyXoJgWNZzv6tfkHKxQK-8UJWzYMtOdEwKw6sX3qnUXVLPXzdpQVxyyhGgnCi-YPAESL4jSskIRr72GYK8xO-boLaZ3yDvI9yD_w9ICQnMA9wKAOvuAOw3jqz6iMtsfjNIZeEKInUeBD15muMkDRxrxgsFlN8gH8xdCcpPZB6fFmmDmlUZ8PZeRx2yITLXw3iswpoaMdGfriDiCaXq792qptpXS2cF_ViX3j9-JFJf8VVXBlQheQHyT7MK1d8tId33zMyoOS3gnj1Lj3VcSpyxDmUB0WH9XbVbvdX_-ER0G3-DZiEpn8-vh-S7G9OEgv9og"
2018-11-10 21:33:46.358 +07:00 [Debug] Token request success.
2018-11-10 21:33:46.359 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-10 21:33:46.367 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 21:33:46.371 +07:00 [Debug] Connection id ""0HLI73608OI7O"" completed keep alive response.
2018-11-10 21:33:46.374 +07:00 [Information] Request finished in 2346.5374ms 200 application/json; charset=UTF-8
2018-11-10 21:33:46.380 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 21:33:46.389 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:33:46.389 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:33:46.390 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:33:46.391 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:33:46.391 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:33:46.391 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:33:46.391 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:33:46.392 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 21:33:46.399 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:33:46.399 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:33:46.399 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:33:46.400 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:33:46.400 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:33:46.400 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:33:46.400 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:33:46.411 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-10 21:33:46.427 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 21:33:46.432 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-10 21:33:46.433 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 21:33:46.462 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 2832.9001ms
2018-11-10 21:33:46.462 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 21:33:46.462 +07:00 [Debug] Connection id ""0HLI73608OI7N"" completed keep alive response.
2018-11-10 21:33:46.463 +07:00 [Information] Request finished in 2904.3724ms 200 application/json; charset=utf-8
2018-11-10 21:33:46.491 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 21:33:46.507 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 21:33:46.522 +07:00 [Debug] Connection id ""0HLI73608OI7O"" completed keep alive response.
2018-11-10 21:33:46.522 +07:00 [Information] Request finished in 30.5661ms 200 image/x-icon
2018-11-10 21:34:54.599 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 21:34:54.642 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 21:34:54.650 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 21:34:54.662 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 21:34:54.674 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:34:54.678 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 21:34:54.680 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:34:54.689 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 21:34:54.696 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 21:34:54.706 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 21:34:54.708 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 21:34:54.768 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 21:34:54.783 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 21:34:54.784 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 21:34:54.785 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 21:34:54.785 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 21:34:54.785 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 21:34:54.998 +07:00 [Debug] Hosting starting
2018-11-10 21:34:55.105 +07:00 [Debug] Hosting started
2018-11-10 21:34:55.105 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 21:34:55.105 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 21:34:55.105 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 21:34:55.130 +07:00 [Debug] Connection id ""0HLI736NC4DV8"" started.
2018-11-10 21:34:55.280 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 21:34:55.364 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 21:34:55.433 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:34:55.559 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 21:34:55.613 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:34:55.629 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:34:55.634 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 21:34:55.974 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 21:34:56.078 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 21:34:56.188 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 21:34:56.192 +07:00 [Information] Test log
2018-11-10 21:34:56.268 +07:00 [Debug] Connection id ""0HLI736NC4DV9"" started.
2018-11-10 21:34:56.270 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 21:34:56.270 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 21:34:56.271 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:34:56.271 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:34:56.272 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 21:34:56.277 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 21:34:56.277 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 21:34:56.296 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:34:56.297 +07:00 [Debug] Start discovery request
2018-11-10 21:34:56.312 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:34:56.338 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 21:34:56.452 +07:00 [Debug] Connection id ""0HLI736NC4DV9"" completed keep alive response.
2018-11-10 21:34:56.459 +07:00 [Information] Request finished in 182.9228ms 200 application/json; charset=UTF-8
2018-11-10 21:34:56.471 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 21:34:56.471 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 21:34:56.471 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:34:56.471 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:34:56.471 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 21:34:56.472 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 21:34:56.472 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 21:34:56.476 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:34:56.476 +07:00 [Debug] Start key discovery request
2018-11-10 21:34:56.476 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:34:56.483 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 21:34:56.501 +07:00 [Debug] Connection id ""0HLI736NC4DV9"" completed keep alive response.
2018-11-10 21:34:56.501 +07:00 [Information] Request finished in 30.5491ms 200 application/json; charset=UTF-8
2018-11-10 21:34:56.531 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 21:34:56.532 +07:00 [Debug] "POST" requests are not supported
2018-11-10 21:34:56.532 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:34:56.532 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:34:56.532 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 21:34:56.538 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 21:34:56.538 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 21:34:56.541 +07:00 [Verbose] Processing token request.
2018-11-10 21:34:56.546 +07:00 [Debug] Start token request.
2018-11-10 21:34:56.552 +07:00 [Debug] Start client validation
2018-11-10 21:34:56.557 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 21:34:56.558 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 21:34:56.558 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-10 21:34:56.565 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 21:34:56.565 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-10 21:34:56.574 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 21:34:56.574 +07:00 [Debug] Client validation success
2018-11-10 21:34:56.607 +07:00 [Debug] Connection id ""0HLI736NC4DV9"", Request id ""0HLI736NC4DV9:00000003"": started reading request body.
2018-11-10 21:34:56.623 +07:00 [Debug] Connection id ""0HLI736NC4DV9"", Request id ""0HLI736NC4DV9:00000003"": done reading request body.
2018-11-10 21:34:56.628 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 21:34:56.634 +07:00 [Debug] Start token request validation
2018-11-10 21:34:56.646 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 21:34:57.167 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:34:57.168 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:34:57.191 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-10 21:34:57.206 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:34:57.206 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:34:57.209 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-10 21:34:57.471 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 21:34:57.596 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-10 21:34:57.651 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-10 21:34:57.827 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
                        FROM [AspNetUsers] AS [u]
                        WHERE [u].[NormalizedUserName] = @__normalizedUserName_0, 
                    shaper: UnbufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 21:34:57.899 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:34:58.104 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:34:58.157 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:34:58.254 +07:00 [Information] Executed DbCommand ("110"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:34:58.356 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:34:58.357 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:34:58.367 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:34:58.379 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 21:34:58.471 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-10 21:34:58.485 +07:00 [Debug] Resource owner password token request validation success.
2018-11-10 21:34:58.485 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-10 21:34:58.495 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api1\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 21:34:58.496 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-10 21:34:58.499 +07:00 [Verbose] Creating response for password request
2018-11-10 21:34:58.511 +07:00 [Verbose] Creating access token
2018-11-10 21:34:58.518 +07:00 [Debug] Getting claims for access token for client: "ApiApplication"
2018-11-10 21:34:58.519 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-10 21:34:58.569 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 21:34:58.584 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 21:34:58.650 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 21:34:58.651 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:34:58.653 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:34:58.653 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 21:34:58.658 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 21:34:58.660 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:34:58.660 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:34:58.660 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:34:58.689 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 21:34:58.693 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 21:34:58.720 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 21:34:58.721 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:34:58.721 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:34:58.721 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 21:34:58.724 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 21:34:58.725 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:34:58.725 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:34:58.725 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:34:58.745 +07:00 [Verbose] Creating JWT access token
2018-11-10 21:34:58.806 +07:00 [Verbose] Access token issued for "ApiApplication (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE4NjA0OTgsImV4cCI6MTU0MTg2NDA5OCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMSJdLCJjbGllbnRfaWQiOiJBcGlBcHBsaWNhdGlvbiIsInN1YiI6ImI5NmU0OGFiLTUyMWQtNDJjMS05OWI2LWZjNjYwM2ViY2Q3YSIsImF1dGhfdGltZSI6MTU0MTg2MDQ5OCwiaWRwIjoibG9jYWwiLCJnaXZlbl9uYW1lIjoiVGjDoWkgSOG7k25nIFF1eeG7g24iLCJlbWFpbCI6InF1eWVudGhAZ21haWwuY29tIiwianRpIjoiZjAwYTNhYzIwNDE3Zjc3ZjZkMzE4NDYwZTBjZGU3ZDMiLCJzY29wZSI6WyJhcGkxIl0sImFtciI6WyJwd2QiXX0.j3jTJMfnc-z0qkMmXV6b6YcpDXNaLn1HELDFNo2bcoTsTrcXK7PeVPj_GBW8kso9_BN_b4K_noH4P6g1jjkIJFzeDKMLkGsHxD8gwudmnhq1zjYrYx-cJtjdM0uz-bTRONkk5H7BFhjrTKuNxyL0kCpTEiT2KtV7UTpB1s8QdgH-TzADdMOXxNG1I02YBS_AcV0wTuLOx6d7f0r4i_DFjsQpsZAVXL_IFbZZFfBqrAM_oBm3Cyz7_7Dl4uVn676c04Bdn2HlBVGjBFOYTg4SlwAmesCAGgA8BwVpJ6_FPZk3zuhGBC-c2So-mYiMPJy3pUa7LbYEgw0-Ss3mk3YOxg"
2018-11-10 21:34:58.806 +07:00 [Debug] Token request success.
2018-11-10 21:34:58.807 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-10 21:34:58.815 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 21:34:58.818 +07:00 [Debug] Connection id ""0HLI736NC4DV9"" completed keep alive response.
2018-11-10 21:34:58.820 +07:00 [Information] Request finished in 2288.5539ms 200 application/json; charset=UTF-8
2018-11-10 21:34:58.828 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 21:34:58.834 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:34:58.834 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:34:58.835 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:34:58.836 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:34:58.836 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:34:58.836 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:34:58.836 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:34:58.837 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 21:34:58.843 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:34:58.843 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:34:58.843 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:34:58.843 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:34:58.844 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:34:58.844 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:34:58.844 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:34:58.853 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-10 21:34:58.873 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 21:34:58.878 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-10 21:34:58.879 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 21:34:58.925 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 2843.0397ms
2018-11-10 21:34:58.927 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 21:34:58.927 +07:00 [Debug] Connection id ""0HLI736NC4DV8"" completed keep alive response.
2018-11-10 21:34:58.927 +07:00 [Information] Request finished in 3661.6234ms 200 application/json; charset=utf-8
2018-11-10 21:34:58.938 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 21:34:58.950 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 21:34:58.963 +07:00 [Debug] Connection id ""0HLI736NC4DV9"" completed keep alive response.
2018-11-10 21:34:58.963 +07:00 [Information] Request finished in 25.4454ms 200 image/x-icon
2018-11-10 21:35:00.814 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 21:35:00.814 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 21:35:00.814 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:35:00.815 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:35:00.815 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:35:00.815 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 21:35:00.815 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 21:35:00.817 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 21:35:00.817 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 21:35:00.817 +07:00 [Information] Test log
2018-11-10 21:35:00.827 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 21:35:00.827 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 21:35:00.828 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:35:00.828 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:35:00.828 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 21:35:00.828 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 21:35:00.829 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 21:35:00.829 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:35:00.829 +07:00 [Debug] Start discovery request
2018-11-10 21:35:00.829 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:35:00.830 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 21:35:00.830 +07:00 [Debug] Connection id ""0HLI736NC4DV9"" completed keep alive response.
2018-11-10 21:35:00.830 +07:00 [Information] Request finished in 3.3745ms 200 application/json; charset=UTF-8
2018-11-10 21:35:00.835 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 21:35:00.835 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 21:35:00.835 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:35:00.835 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:35:00.835 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 21:35:00.836 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 21:35:00.836 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 21:35:00.836 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:35:00.836 +07:00 [Debug] Start key discovery request
2018-11-10 21:35:00.836 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:35:00.836 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 21:35:00.837 +07:00 [Debug] Connection id ""0HLI736NC4DV9"" completed keep alive response.
2018-11-10 21:35:00.837 +07:00 [Information] Request finished in 2.1875ms 200 application/json; charset=UTF-8
2018-11-10 21:35:00.850 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 21:35:00.851 +07:00 [Debug] "POST" requests are not supported
2018-11-10 21:35:00.851 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:35:00.851 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:35:00.851 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 21:35:00.852 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 21:35:00.852 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 21:35:00.852 +07:00 [Verbose] Processing token request.
2018-11-10 21:35:00.852 +07:00 [Debug] Start token request.
2018-11-10 21:35:00.852 +07:00 [Debug] Start client validation
2018-11-10 21:35:00.852 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 21:35:00.852 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 21:35:00.852 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-10 21:35:00.852 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 21:35:00.853 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-10 21:35:00.853 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 21:35:00.853 +07:00 [Debug] Client validation success
2018-11-10 21:35:00.853 +07:00 [Debug] Connection id ""0HLI736NC4DV9"", Request id ""0HLI736NC4DV9:00000007"": started reading request body.
2018-11-10 21:35:00.853 +07:00 [Debug] Connection id ""0HLI736NC4DV9"", Request id ""0HLI736NC4DV9:00000007"": done reading request body.
2018-11-10 21:35:00.853 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 21:35:00.853 +07:00 [Debug] Start token request validation
2018-11-10 21:35:00.854 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 21:35:00.854 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 21:35:00.854 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:00.855 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:00.855 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:35:00.856 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:35:00.856 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:35:00.856 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:00.856 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:00.856 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 21:35:00.869 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-10 21:35:00.869 +07:00 [Debug] Resource owner password token request validation success.
2018-11-10 21:35:00.869 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-10 21:35:00.869 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api1\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 21:35:00.869 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-10 21:35:00.870 +07:00 [Verbose] Creating response for password request
2018-11-10 21:35:00.870 +07:00 [Verbose] Creating access token
2018-11-10 21:35:00.870 +07:00 [Debug] Getting claims for access token for client: "ApiApplication"
2018-11-10 21:35:00.870 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-10 21:35:00.871 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:00.871 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:00.871 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 21:35:00.872 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 21:35:00.872 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:35:00.872 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:00.872 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:00.874 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:00.874 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:00.874 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 21:35:00.875 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 21:35:00.875 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:35:00.875 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:00.875 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:00.875 +07:00 [Verbose] Creating JWT access token
2018-11-10 21:35:00.879 +07:00 [Verbose] Access token issued for "ApiApplication (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE4NjA1MDAsImV4cCI6MTU0MTg2NDEwMCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMSJdLCJjbGllbnRfaWQiOiJBcGlBcHBsaWNhdGlvbiIsInN1YiI6ImI5NmU0OGFiLTUyMWQtNDJjMS05OWI2LWZjNjYwM2ViY2Q3YSIsImF1dGhfdGltZSI6MTU0MTg2MDUwMCwiaWRwIjoibG9jYWwiLCJnaXZlbl9uYW1lIjoiVGjDoWkgSOG7k25nIFF1eeG7g24iLCJlbWFpbCI6InF1eWVudGhAZ21haWwuY29tIiwianRpIjoiYTMxYzhkMWIyY2UyZDljOWIwZDFhYWYxZjk4YzMyYTEiLCJzY29wZSI6WyJhcGkxIl0sImFtciI6WyJwd2QiXX0.LOFpMxNVGCTML-4F3H1XoTqZrwK--mINDkxPYtyEacmMDyiy4-UlCHkJH_tr21MiG7gyNtLAtfPD8Wr8P4gRg2JzoEIOqyGxCWnoNrSYzRzw_KeU4EYHNQdWf1jah5pDi1fTFn36-T3oUx_PIet5sz_s__x5K6Q4QZ8DtTJWDluTyb3E-iumGbuF9ay3QQ3Jv0XN2M9ojF6Mg2LEWe_eHyeIrODCLQpKYl8gJiQxkkH04vwrFdZLRrg10H6qnBr6ObrtkzblQ0yzYlqX258tA7wAwnU0CNNZydU1v0xQwUq_Kg7Rw8DbI-ve1F4zbXh4GnNGkqdrXKiedjFbdKMwuA"
2018-11-10 21:35:00.879 +07:00 [Debug] Token request success.
2018-11-10 21:35:00.879 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-10 21:35:00.879 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 21:35:00.880 +07:00 [Debug] Connection id ""0HLI736NC4DV9"" completed keep alive response.
2018-11-10 21:35:00.880 +07:00 [Information] Request finished in 29.2996ms 200 application/json; charset=UTF-8
2018-11-10 21:35:00.881 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 21:35:00.881 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:00.881 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:00.881 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:35:00.882 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:35:00.882 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:35:00.882 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:00.882 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:00.882 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 21:35:00.882 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:00.882 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:00.882 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:35:00.883 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:35:00.883 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:35:00.883 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:00.883 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:00.892 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-10 21:35:00.892 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 21:35:00.892 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-10 21:35:00.892 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 21:35:00.893 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 76.0333ms
2018-11-10 21:35:00.893 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 21:35:00.893 +07:00 [Debug] Connection id ""0HLI736NC4DV8"" completed keep alive response.
2018-11-10 21:35:00.893 +07:00 [Information] Request finished in 78.9691ms 200 application/json; charset=utf-8
2018-11-10 21:35:00.922 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 21:35:00.922 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 21:35:00.922 +07:00 [Debug] Connection id ""0HLI736NC4DV9"" completed keep alive response.
2018-11-10 21:35:00.923 +07:00 [Information] Request finished in 0.9505ms 200 image/x-icon
2018-11-10 21:35:15.906 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 21:35:15.906 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 21:35:15.906 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:35:15.907 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:35:15.907 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:35:15.907 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 21:35:15.907 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 21:35:15.907 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 21:35:15.907 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 21:35:15.907 +07:00 [Information] Test log
2018-11-10 21:35:15.915 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 21:35:15.916 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 21:35:15.916 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:35:15.916 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:35:15.916 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 21:35:15.916 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 21:35:15.916 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 21:35:15.916 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:35:15.916 +07:00 [Debug] Start discovery request
2018-11-10 21:35:15.916 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:35:15.917 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 21:35:15.917 +07:00 [Debug] Connection id ""0HLI736NC4DV9"" completed keep alive response.
2018-11-10 21:35:15.917 +07:00 [Information] Request finished in 1.4119ms 200 application/json; charset=UTF-8
2018-11-10 21:35:15.919 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 21:35:15.919 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 21:35:15.920 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:35:15.920 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:35:15.920 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 21:35:15.920 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 21:35:15.920 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 21:35:15.920 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:35:15.920 +07:00 [Debug] Start key discovery request
2018-11-10 21:35:15.920 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:35:15.920 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 21:35:15.920 +07:00 [Debug] Connection id ""0HLI736NC4DV9"" completed keep alive response.
2018-11-10 21:35:15.920 +07:00 [Information] Request finished in 1.1905ms 200 application/json; charset=UTF-8
2018-11-10 21:35:15.929 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 21:35:15.929 +07:00 [Debug] "POST" requests are not supported
2018-11-10 21:35:15.929 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:35:15.930 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:35:15.930 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 21:35:15.930 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 21:35:15.930 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 21:35:15.930 +07:00 [Verbose] Processing token request.
2018-11-10 21:35:15.930 +07:00 [Debug] Start token request.
2018-11-10 21:35:15.930 +07:00 [Debug] Start client validation
2018-11-10 21:35:15.930 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 21:35:15.930 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 21:35:15.930 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-10 21:35:15.930 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 21:35:15.930 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-10 21:35:15.930 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 21:35:15.930 +07:00 [Debug] Client validation success
2018-11-10 21:35:15.931 +07:00 [Debug] Connection id ""0HLI736NC4DV9"", Request id ""0HLI736NC4DV9:0000000B"": started reading request body.
2018-11-10 21:35:15.931 +07:00 [Debug] Connection id ""0HLI736NC4DV9"", Request id ""0HLI736NC4DV9:0000000B"": done reading request body.
2018-11-10 21:35:15.931 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 21:35:15.931 +07:00 [Debug] Start token request validation
2018-11-10 21:35:15.931 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 21:35:15.931 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 21:35:15.932 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:15.932 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:15.932 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:35:15.932 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:35:15.933 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:35:15.933 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:15.933 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:15.933 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 21:35:15.944 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-10 21:35:15.944 +07:00 [Debug] Resource owner password token request validation success.
2018-11-10 21:35:15.944 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-10 21:35:15.944 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api1\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 21:35:15.944 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-10 21:35:15.944 +07:00 [Verbose] Creating response for password request
2018-11-10 21:35:15.944 +07:00 [Verbose] Creating access token
2018-11-10 21:35:15.944 +07:00 [Debug] Getting claims for access token for client: "ApiApplication"
2018-11-10 21:35:15.945 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-10 21:35:15.945 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:15.945 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:15.945 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 21:35:15.946 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 21:35:15.946 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:35:15.946 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:15.946 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:15.946 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:15.947 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:15.947 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 21:35:15.947 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 21:35:15.947 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:35:15.947 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:15.947 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:15.947 +07:00 [Verbose] Creating JWT access token
2018-11-10 21:35:15.952 +07:00 [Verbose] Access token issued for "ApiApplication (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE4NjA1MTUsImV4cCI6MTU0MTg2NDExNSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMSJdLCJjbGllbnRfaWQiOiJBcGlBcHBsaWNhdGlvbiIsInN1YiI6ImI5NmU0OGFiLTUyMWQtNDJjMS05OWI2LWZjNjYwM2ViY2Q3YSIsImF1dGhfdGltZSI6MTU0MTg2MDUxNSwiaWRwIjoibG9jYWwiLCJnaXZlbl9uYW1lIjoiVGjDoWkgSOG7k25nIFF1eeG7g24iLCJlbWFpbCI6InF1eWVudGhAZ21haWwuY29tIiwianRpIjoiNzg0YmQzNGQ2OGRiYjFmODA0ODZhMTMxYTc1N2U4MDEiLCJzY29wZSI6WyJhcGkxIl0sImFtciI6WyJwd2QiXX0.LwSwg8GixP7Y-IvXO-s3YYSu2_W_vL5Brq6eL7usdHTCjzurdPoa9Lf0vvSB4WHILIsPRzQpFOyMvczgvUJBWbHcIqRvy2wOz3FjT3IxAWhlb_A9U7PfvvcGUpNqUr0VCm_PEtx6tpIez4ltM9vV-zvA23sIfWN7Y38W5hEy6d2_568LbOIcDKU2dHJgIFdlAZ1qxrMpZ5FgqSd59C_Oju_VCBaM2UFNB9eGT4fgJTqj7EXALdo224B2c7UHb2727OnN0FuBWWkZsX3fiM3NHqna6Swc3fxMyHlZxwJT63Ecw7-7-CbsFG7FNNrSEpfBKU_qQAG2MbIDjN91SGlzeQ"
2018-11-10 21:35:15.952 +07:00 [Debug] Token request success.
2018-11-10 21:35:15.952 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-10 21:35:15.952 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 21:35:15.952 +07:00 [Debug] Connection id ""0HLI736NC4DV9"" completed keep alive response.
2018-11-10 21:35:15.952 +07:00 [Information] Request finished in 22.8955ms 200 application/json; charset=UTF-8
2018-11-10 21:35:15.953 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 21:35:15.953 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:15.953 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:15.953 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:35:15.954 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:35:15.954 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:35:15.954 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:15.954 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:15.954 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 21:35:15.954 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:15.955 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:15.955 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:35:15.955 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:35:15.955 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:35:15.955 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:15.955 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:35:15.965 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-10 21:35:15.965 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 21:35:15.966 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-10 21:35:15.966 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 21:35:15.966 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 58.6359ms
2018-11-10 21:35:15.966 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 21:35:15.966 +07:00 [Debug] Connection id ""0HLI736NC4DV8"" completed keep alive response.
2018-11-10 21:35:15.966 +07:00 [Information] Request finished in 60.0612ms 200 application/json; charset=utf-8
2018-11-10 21:35:15.988 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 21:35:15.988 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 21:35:15.989 +07:00 [Debug] Connection id ""0HLI736NC4DV9"" completed keep alive response.
2018-11-10 21:35:15.989 +07:00 [Information] Request finished in 0.8849ms 200 image/x-icon
2018-11-10 21:36:45.103 +07:00 [Debug] Connection id ""0HLI736NC4DV9"" received FIN.
2018-11-10 21:36:45.103 +07:00 [Debug] Connection id ""0HLI736NC4DV8"" received FIN.
2018-11-10 21:36:45.110 +07:00 [Debug] Connection id ""0HLI736NC4DV9"" disconnecting.
2018-11-10 21:36:45.110 +07:00 [Debug] Connection id ""0HLI736NC4DV8"" disconnecting.
2018-11-10 21:36:45.112 +07:00 [Debug] Connection id ""0HLI736NC4DV9"" sending FIN.
2018-11-10 21:36:45.112 +07:00 [Debug] Connection id ""0HLI736NC4DV8"" sending FIN.
2018-11-10 21:36:45.121 +07:00 [Debug] Connection id ""0HLI736NC4DV8"" stopped.
2018-11-10 21:36:45.122 +07:00 [Debug] Connection id ""0HLI736NC4DV9"" stopped.
2018-11-10 21:40:19.321 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 21:40:19.366 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 21:40:19.374 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 21:40:19.389 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 21:40:19.400 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:40:19.404 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 21:40:19.406 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:40:19.415 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 21:40:19.421 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 21:40:19.432 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 21:40:19.434 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 21:40:19.492 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 21:40:19.507 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 21:40:19.508 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 21:40:19.509 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 21:40:19.509 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 21:40:19.509 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 21:40:19.723 +07:00 [Debug] Hosting starting
2018-11-10 21:40:19.839 +07:00 [Debug] Hosting started
2018-11-10 21:40:19.839 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 21:40:19.839 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 21:40:19.839 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 21:40:20.025 +07:00 [Debug] Connection id ""0HLI739O6IC4E"" started.
2018-11-10 21:40:20.193 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 21:40:20.275 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 21:40:20.339 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:40:20.467 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 21:40:20.526 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:40:20.540 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:40:20.546 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 21:40:20.901 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 21:40:21.877 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-10 21:40:23.233 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1353.5524ms.
2018-11-10 21:40:23.346 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-10 21:40:23.415 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 69.4636ms.
2018-11-10 21:40:23.466 +07:00 [Debug] Executing action "/Index"
2018-11-10 21:40:23.520 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 21:40:23.522 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 21:40:23.645 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-10 21:40:23.750 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-10 21:40:23.933 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 183.3481ms.
2018-11-10 21:40:23.950 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:40:23.953 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:40:23.969 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:40:23.969 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:40:24.021 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-10 21:40:24.092 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-10 21:40:24.155 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 62.9823ms.
2018-11-10 21:40:24.183 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:40:24.196 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:40:24.200 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 21:40:24.299 +07:00 [Information] Executed action "/Index" in 830.5904ms
2018-11-10 21:40:24.308 +07:00 [Debug] Connection id ""0HLI739O6IC4E"" completed keep alive response.
2018-11-10 21:40:24.315 +07:00 [Information] Request finished in 4130.9636ms 200 text/html; charset=utf-8
2018-11-10 21:40:24.806 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 21:40:24.806 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 21:40:24.807 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:40:24.808 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:40:24.808 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:40:24.808 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 21:40:24.811 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 21:40:24.876 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 21:40:24.972 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 21:40:24.976 +07:00 [Information] Test log
2018-11-10 21:40:25.040 +07:00 [Debug] Connection id ""0HLI739O6IC4F"" started.
2018-11-10 21:40:25.042 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 21:40:25.042 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 21:40:25.042 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:40:25.042 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:40:25.043 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 21:40:25.047 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 21:40:25.047 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 21:40:25.051 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:40:25.051 +07:00 [Debug] Start discovery request
2018-11-10 21:40:25.054 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:40:25.096 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 21:40:25.163 +07:00 [Debug] Connection id ""0HLI739O6IC4F"" completed keep alive response.
2018-11-10 21:40:25.163 +07:00 [Information] Request finished in 121.2885ms 200 application/json; charset=UTF-8
2018-11-10 21:40:25.184 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 21:40:25.184 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 21:40:25.184 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:40:25.184 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:40:25.184 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 21:40:25.185 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 21:40:25.185 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 21:40:25.189 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:40:25.189 +07:00 [Debug] Start key discovery request
2018-11-10 21:40:25.189 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:40:25.196 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 21:40:25.215 +07:00 [Debug] Connection id ""0HLI739O6IC4F"" completed keep alive response.
2018-11-10 21:40:25.216 +07:00 [Information] Request finished in 31.7656ms 200 application/json; charset=UTF-8
2018-11-10 21:40:25.244 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 21:40:25.244 +07:00 [Debug] "POST" requests are not supported
2018-11-10 21:40:25.244 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:40:25.245 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:40:25.245 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 21:40:25.262 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 21:40:25.262 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 21:40:25.265 +07:00 [Verbose] Processing token request.
2018-11-10 21:40:25.270 +07:00 [Debug] Start token request.
2018-11-10 21:40:25.277 +07:00 [Debug] Start client validation
2018-11-10 21:40:25.281 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 21:40:25.282 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 21:40:25.282 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-10 21:40:25.289 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 21:40:25.290 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-10 21:40:25.298 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 21:40:25.298 +07:00 [Debug] Client validation success
2018-11-10 21:40:25.332 +07:00 [Debug] Connection id ""0HLI739O6IC4F"", Request id ""0HLI739O6IC4F:00000003"": started reading request body.
2018-11-10 21:40:25.350 +07:00 [Debug] Connection id ""0HLI739O6IC4F"", Request id ""0HLI739O6IC4F:00000003"": done reading request body.
2018-11-10 21:40:25.356 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 21:40:25.361 +07:00 [Debug] Start token request validation
2018-11-10 21:40:25.373 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 21:40:25.911 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:40:25.912 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:40:25.937 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-10 21:40:25.954 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:40:25.954 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:40:25.957 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-10 21:40:26.228 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 21:40:26.354 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-10 21:40:26.410 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-10 21:40:26.591 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
                        FROM [AspNetUsers] AS [u]
                        WHERE [u].[NormalizedUserName] = @__normalizedUserName_0, 
                    shaper: UnbufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 21:40:26.660 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:26.874 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:26.937 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:40:27.036 +07:00 [Information] Executed DbCommand ("120"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:40:27.141 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:40:27.142 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:27.153 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:27.165 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 21:40:27.259 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-10 21:40:27.272 +07:00 [Debug] Resource owner password token request validation success.
2018-11-10 21:40:27.272 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-10 21:40:27.282 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api1\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 21:40:27.282 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-10 21:40:27.286 +07:00 [Verbose] Creating response for password request
2018-11-10 21:40:27.296 +07:00 [Verbose] Creating access token
2018-11-10 21:40:27.303 +07:00 [Debug] Getting claims for access token for client: "ApiApplication"
2018-11-10 21:40:27.304 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-10 21:40:27.353 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 21:40:27.368 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 21:40:27.435 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 21:40:27.438 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:27.440 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:27.440 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 21:40:27.445 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 21:40:27.447 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:40:27.447 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:27.447 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:27.475 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 21:40:27.479 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 21:40:27.506 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 21:40:27.507 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:27.507 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:27.507 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 21:40:27.510 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 21:40:27.511 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:40:27.511 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:27.511 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:27.531 +07:00 [Verbose] Creating JWT access token
2018-11-10 21:40:27.594 +07:00 [Verbose] Access token issued for "ApiApplication (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE4NjA4MjcsImV4cCI6MTU0MTg2NDQyNywiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMiJdLCJjbGllbnRfaWQiOiJBcGlBcHBsaWNhdGlvbiIsInN1YiI6ImI5NmU0OGFiLTUyMWQtNDJjMS05OWI2LWZjNjYwM2ViY2Q3YSIsImF1dGhfdGltZSI6MTU0MTg2MDgyNywiaWRwIjoibG9jYWwiLCJnaXZlbl9uYW1lIjoiVGjDoWkgSOG7k25nIFF1eeG7g24iLCJlbWFpbCI6InF1eWVudGhAZ21haWwuY29tIiwianRpIjoiMTMwOTQwMjdjYmZmZmY3NTI0OTU3YTQwNmE1ZGE1NTYiLCJzY29wZSI6WyJhcGkxIl0sImFtciI6WyJwd2QiXX0.j794czIwiLlu-Hipxi4Yhn7qJ7JiIypbCzlVzkgtqyGuiyM5XBwHrDucv1J7EKzV-9s4GXIZLyXXN9u2BqVryvBKnEghfMA1898nJBRtc5VG5HG8Q-u5wdJPZUgIKO8Jv-VFmOOIZ0XDxIyHoeloWZVO3cdGTRuNSewjNVe8kVDoyrVlEOgNdaBsCLjr7dGZatJiBjFRAFwu7zjVy-Tg_M7EZgNn9w6kZfDVng6tq2skyU_ezdS9yjYV5UvnrZWbBCYZz-jxCJhsCizdOuLnwIR-exT6SQ7gPxFv8cHcHpojH338J1jO6rLMEPs82MN112oOelcMQYL0fJ48WU5OiA"
2018-11-10 21:40:27.594 +07:00 [Debug] Token request success.
2018-11-10 21:40:27.594 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-10 21:40:27.603 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 21:40:27.605 +07:00 [Debug] Connection id ""0HLI739O6IC4F"" completed keep alive response.
2018-11-10 21:40:27.608 +07:00 [Information] Request finished in 2363.7023ms 200 application/json; charset=UTF-8
2018-11-10 21:40:27.629 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 21:40:27.635 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:27.635 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:27.636 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:40:27.637 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:40:27.637 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:40:27.637 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:27.637 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:27.637 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 21:40:27.643 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:27.643 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:27.643 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:40:27.644 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:40:27.644 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:40:27.644 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:27.644 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:27.654 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-10 21:40:27.667 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 21:40:27.672 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-10 21:40:27.673 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 21:40:27.699 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 2822.5798ms
2018-11-10 21:40:27.699 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 21:40:27.699 +07:00 [Debug] Connection id ""0HLI739O6IC4E"" completed keep alive response.
2018-11-10 21:40:27.699 +07:00 [Information] Request finished in 2893.4295ms 200 application/json; charset=utf-8
2018-11-10 21:40:27.717 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 21:40:27.730 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 21:40:27.741 +07:00 [Debug] Connection id ""0HLI739O6IC4F"" completed keep alive response.
2018-11-10 21:40:27.741 +07:00 [Information] Request finished in 24.3566ms 200 image/x-icon
2018-11-10 21:40:30.278 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 21:40:30.278 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 21:40:30.279 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:40:30.279 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:40:30.279 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:40:30.279 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 21:40:30.279 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 21:40:30.280 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 21:40:30.281 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 21:40:30.281 +07:00 [Information] Test log
2018-11-10 21:40:30.289 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 21:40:30.289 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 21:40:30.289 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:40:30.289 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:40:30.290 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 21:40:30.290 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 21:40:30.290 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 21:40:30.290 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:40:30.290 +07:00 [Debug] Start discovery request
2018-11-10 21:40:30.290 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:40:30.290 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 21:40:30.291 +07:00 [Debug] Connection id ""0HLI739O6IC4F"" completed keep alive response.
2018-11-10 21:40:30.291 +07:00 [Information] Request finished in 1.8818ms 200 application/json; charset=UTF-8
2018-11-10 21:40:30.294 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 21:40:30.294 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 21:40:30.294 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:40:30.294 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:40:30.294 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 21:40:30.294 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 21:40:30.294 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 21:40:30.294 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:40:30.295 +07:00 [Debug] Start key discovery request
2018-11-10 21:40:30.295 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:40:30.295 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 21:40:30.295 +07:00 [Debug] Connection id ""0HLI739O6IC4F"" completed keep alive response.
2018-11-10 21:40:30.295 +07:00 [Information] Request finished in 1.3704ms 200 application/json; charset=UTF-8
2018-11-10 21:40:30.306 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 21:40:30.306 +07:00 [Debug] "POST" requests are not supported
2018-11-10 21:40:30.307 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:40:30.307 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:40:30.307 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 21:40:30.307 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 21:40:30.307 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 21:40:30.307 +07:00 [Verbose] Processing token request.
2018-11-10 21:40:30.307 +07:00 [Debug] Start token request.
2018-11-10 21:40:30.308 +07:00 [Debug] Start client validation
2018-11-10 21:40:30.308 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 21:40:30.308 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 21:40:30.308 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-10 21:40:30.308 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 21:40:30.308 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-10 21:40:30.308 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 21:40:30.308 +07:00 [Debug] Client validation success
2018-11-10 21:40:30.308 +07:00 [Debug] Connection id ""0HLI739O6IC4F"", Request id ""0HLI739O6IC4F:00000007"": started reading request body.
2018-11-10 21:40:30.308 +07:00 [Debug] Connection id ""0HLI739O6IC4F"", Request id ""0HLI739O6IC4F:00000007"": done reading request body.
2018-11-10 21:40:30.309 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 21:40:30.309 +07:00 [Debug] Start token request validation
2018-11-10 21:40:30.309 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 21:40:30.309 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 21:40:30.309 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:30.310 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:30.310 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:40:30.310 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:40:30.311 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:40:30.311 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:30.311 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:30.311 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 21:40:30.324 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-10 21:40:30.324 +07:00 [Debug] Resource owner password token request validation success.
2018-11-10 21:40:30.324 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-10 21:40:30.324 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api1\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 21:40:30.324 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-10 21:40:30.324 +07:00 [Verbose] Creating response for password request
2018-11-10 21:40:30.324 +07:00 [Verbose] Creating access token
2018-11-10 21:40:30.324 +07:00 [Debug] Getting claims for access token for client: "ApiApplication"
2018-11-10 21:40:30.324 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-10 21:40:30.325 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:30.325 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:30.325 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 21:40:30.326 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 21:40:30.326 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:40:30.326 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:30.326 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:30.328 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:30.328 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:30.328 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 21:40:30.329 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 21:40:30.329 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:40:30.329 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:30.329 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:30.329 +07:00 [Verbose] Creating JWT access token
2018-11-10 21:40:30.333 +07:00 [Verbose] Access token issued for "ApiApplication (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE4NjA4MzAsImV4cCI6MTU0MTg2NDQzMCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMiJdLCJjbGllbnRfaWQiOiJBcGlBcHBsaWNhdGlvbiIsInN1YiI6ImI5NmU0OGFiLTUyMWQtNDJjMS05OWI2LWZjNjYwM2ViY2Q3YSIsImF1dGhfdGltZSI6MTU0MTg2MDgzMCwiaWRwIjoibG9jYWwiLCJnaXZlbl9uYW1lIjoiVGjDoWkgSOG7k25nIFF1eeG7g24iLCJlbWFpbCI6InF1eWVudGhAZ21haWwuY29tIiwianRpIjoiMmJhYTMzNTg0ODczZjRhNmViZDJjZDFkNTE1OTI2ZmYiLCJzY29wZSI6WyJhcGkxIl0sImFtciI6WyJwd2QiXX0.BazWJNMvlAGnCmIn9r3AGKfCBlJzlwJoIQK1TQi0twH4ZOp_kIL-Ok-UAI8sdzFTFPLSJBxoUQkiHFQx_ygJ869V3C7ydOeVnEYZz5tab6yTQ-77ZK2EqWC5UeB4rHmRG6Rc-b386cxZiEO2QrTM9Mfhby1MB_9l_O3RADSnb7rm_1Rpmxxe1xx9VLB8USzIeOlxpXlY-baRTRx4CQpFwLkFwL4-yq4Mi8Kn1XxOTm8W4MVZjB4DCjosBRjOXHyrQXCL2ROEDXvfY-yX03_sNSMhPJH5CuFRw_JjuFXgWPxFQ7BgKnBaRsm3aM3CrFfE-HIZa-llb1LkPY8_Qks46w"
2018-11-10 21:40:30.333 +07:00 [Debug] Token request success.
2018-11-10 21:40:30.333 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-10 21:40:30.333 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 21:40:30.334 +07:00 [Debug] Connection id ""0HLI739O6IC4F"" completed keep alive response.
2018-11-10 21:40:30.334 +07:00 [Information] Request finished in 27.3995ms 200 application/json; charset=UTF-8
2018-11-10 21:40:30.335 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 21:40:30.335 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:30.335 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:30.335 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:40:30.336 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:40:30.336 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:40:30.336 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:30.336 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:30.336 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 21:40:30.336 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:30.337 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:30.337 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:40:30.337 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:40:30.337 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:40:30.337 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:30.337 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:40:30.346 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-10 21:40:30.347 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 21:40:30.347 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-10 21:40:30.347 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 21:40:30.347 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 66.5822ms
2018-11-10 21:40:30.347 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 21:40:30.347 +07:00 [Debug] Connection id ""0HLI739O6IC4E"" completed keep alive response.
2018-11-10 21:40:30.347 +07:00 [Information] Request finished in 69.0941ms 200 application/json; charset=utf-8
2018-11-10 21:40:30.372 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 21:40:30.372 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 21:40:30.373 +07:00 [Debug] Connection id ""0HLI739O6IC4F"" completed keep alive response.
2018-11-10 21:40:30.373 +07:00 [Information] Request finished in 0.9415ms 200 image/x-icon
2018-11-10 21:40:44.681 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 21:40:44.734 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 21:40:44.743 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 21:40:44.759 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 21:40:44.792 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:40:44.795 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 21:40:44.798 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:40:44.807 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 21:40:44.814 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 21:40:44.824 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 21:40:44.826 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 21:40:44.886 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 21:40:44.902 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 21:40:44.903 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 21:40:44.904 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 21:40:44.904 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 21:40:44.904 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 21:40:45.104 +07:00 [Debug] Hosting starting
2018-11-10 21:40:45.209 +07:00 [Debug] Hosting started
2018-11-10 21:40:45.209 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 21:40:45.209 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 21:40:45.209 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 21:40:45.418 +07:00 [Debug] Connection id ""0HLI739VONP29"" started.
2018-11-10 21:40:45.586 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-10 21:40:45.675 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-10 21:40:45.744 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:40:45.875 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 21:40:45.927 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:40:45.942 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:40:45.947 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-10 21:40:46.311 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-10 21:40:47.251 +07:00 [Debug] Connection id ""0HLI739VONP2A"" started.
2018-11-10 21:40:47.251 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 21:40:47.252 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 21:40:47.253 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:40:47.254 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:40:47.254 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:40:47.254 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 21:40:47.256 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 21:40:47.314 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-10 21:40:47.364 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 21:40:47.487 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 21:40:47.491 +07:00 [Information] Test log
2018-11-10 21:40:47.565 +07:00 [Debug] Connection id ""0HLI739VONP2B"" started.
2018-11-10 21:40:47.566 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 21:40:47.566 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 21:40:47.567 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:40:47.567 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:40:47.567 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 21:40:47.571 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 21:40:47.572 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 21:40:47.575 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:40:47.575 +07:00 [Debug] Start discovery request
2018-11-10 21:40:47.577 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:40:47.604 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 21:40:47.746 +07:00 [Debug] Connection id ""0HLI739VONP2B"" completed keep alive response.
2018-11-10 21:40:47.757 +07:00 [Information] Request finished in 181.4636ms 200 application/json; charset=UTF-8
2018-11-10 21:40:47.770 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 21:40:47.771 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 21:40:47.771 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:40:47.771 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:40:47.771 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 21:40:47.771 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 21:40:47.771 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 21:40:47.775 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:40:47.775 +07:00 [Debug] Start key discovery request
2018-11-10 21:40:47.775 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:40:47.783 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 21:40:47.803 +07:00 [Debug] Connection id ""0HLI739VONP2B"" completed keep alive response.
2018-11-10 21:40:47.803 +07:00 [Information] Request finished in 32.5666ms 200 application/json; charset=UTF-8
2018-11-10 21:40:47.833 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 21:40:47.833 +07:00 [Debug] "POST" requests are not supported
2018-11-10 21:40:47.833 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:40:47.833 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:40:47.833 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 21:40:47.841 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 21:40:47.841 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 21:40:47.844 +07:00 [Verbose] Processing token request.
2018-11-10 21:40:47.849 +07:00 [Debug] Start token request.
2018-11-10 21:40:47.856 +07:00 [Debug] Start client validation
2018-11-10 21:40:47.861 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 21:40:47.862 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 21:40:47.862 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-10 21:40:47.869 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 21:40:47.870 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-10 21:40:47.879 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 21:40:47.879 +07:00 [Debug] Client validation success
2018-11-10 21:40:47.915 +07:00 [Debug] Connection id ""0HLI739VONP2B"", Request id ""0HLI739VONP2B:00000003"": started reading request body.
2018-11-10 21:40:47.932 +07:00 [Debug] Connection id ""0HLI739VONP2B"", Request id ""0HLI739VONP2B:00000003"": done reading request body.
2018-11-10 21:40:47.937 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 21:40:47.943 +07:00 [Debug] Start token request validation
2018-11-10 21:40:47.956 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 21:40:47.974 +07:00 [Error] Requested scope not allowed: "api1"
2018-11-10 21:40:47.984 +07:00 [Error] "{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 21:40:47.986 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenErrorResult"
2018-11-10 21:40:47.994 +07:00 [Debug] Connection id ""0HLI739VONP2B"" completed keep alive response.
2018-11-10 21:40:47.996 +07:00 [Information] Request finished in 163.8663ms 400 application/json; charset=UTF-8
2018-11-10 21:40:47.997 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-10 21:40:48.019 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 21:40:48.026 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-10 21:40:48.026 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 21:40:48.045 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 676.0555ms
2018-11-10 21:40:48.046 +07:00 [Debug] Connection id ""0HLI739VONP2A"" completed keep alive response.
2018-11-10 21:40:48.046 +07:00 [Information] Request finished in 794.6121ms 400 text/plain; charset=utf-8
2018-11-10 21:40:48.072 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 21:40:48.084 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 21:40:48.101 +07:00 [Debug] Connection id ""0HLI739VONP2B"" completed keep alive response.
2018-11-10 21:40:48.101 +07:00 [Information] Request finished in 28.8775ms 200 image/x-icon
2018-11-10 21:40:48.798 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1484.0007ms.
2018-11-10 21:40:48.934 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-10 21:40:48.997 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 62.9194ms.
2018-11-10 21:40:49.005 +07:00 [Debug] Executing action "/Index"
2018-11-10 21:40:49.031 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-10 21:40:49.031 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-10 21:40:49.132 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-10 21:40:49.231 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-10 21:40:49.377 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 145.9874ms.
2018-11-10 21:40:49.389 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:40:49.391 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:40:49.407 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-10 21:40:49.407 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-10 21:40:49.462 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-10 21:40:49.544 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-10 21:40:49.607 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 63.1251ms.
2018-11-10 21:40:49.640 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:40:49.653 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-10 21:40:49.657 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-10 21:40:49.704 +07:00 [Information] Executed action "/Index" in 699.2554ms
2018-11-10 21:40:49.706 +07:00 [Debug] Connection id ""0HLI739VONP29"" completed keep alive response.
2018-11-10 21:40:49.706 +07:00 [Information] Request finished in 4135.422ms 200 text/html; charset=utf-8
2018-11-10 21:42:35.387 +07:00 [Debug] Connection id ""0HLI739VONP2A"" received FIN.
2018-11-10 21:42:35.387 +07:00 [Debug] Connection id ""0HLI739VONP29"" received FIN.
2018-11-10 21:42:35.387 +07:00 [Debug] Connection id ""0HLI739VONP2B"" received FIN.
2018-11-10 21:42:35.392 +07:00 [Debug] Connection id ""0HLI739VONP2A"" disconnecting.
2018-11-10 21:42:35.393 +07:00 [Debug] Connection id ""0HLI739VONP29"" disconnecting.
2018-11-10 21:42:35.393 +07:00 [Debug] Connection id ""0HLI739VONP2B"" disconnecting.
2018-11-10 21:42:35.400 +07:00 [Debug] Connection id ""0HLI739VONP2A"" sending FIN.
2018-11-10 21:42:35.400 +07:00 [Debug] Connection id ""0HLI739VONP2B"" sending FIN.
2018-11-10 21:42:35.400 +07:00 [Debug] Connection id ""0HLI739VONP29"" sending FIN.
2018-11-10 21:42:35.407 +07:00 [Debug] Connection id ""0HLI739VONP2A"" stopped.
2018-11-10 21:42:35.407 +07:00 [Debug] Connection id ""0HLI739VONP2B"" stopped.
2018-11-10 21:42:35.407 +07:00 [Debug] Connection id ""0HLI739VONP29"" stopped.
2018-11-10 21:45:26.958 +07:00 [Debug] Connection id ""0HLI739VONP2C"" started.
2018-11-10 21:45:26.959 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 21:45:26.959 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 21:45:26.959 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:45:26.959 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:45:26.959 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:45:26.959 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 21:45:26.960 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 21:45:26.961 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 21:45:26.961 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 21:45:26.961 +07:00 [Information] Test log
2018-11-10 21:45:26.973 +07:00 [Debug] Connection id ""0HLI739VONP2D"" started.
2018-11-10 21:45:26.973 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 21:45:26.973 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 21:45:26.973 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:45:26.973 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:45:26.973 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 21:45:26.974 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 21:45:26.974 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 21:45:26.974 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:45:26.974 +07:00 [Debug] Start discovery request
2018-11-10 21:45:26.974 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:45:26.974 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 21:45:26.974 +07:00 [Debug] Connection id ""0HLI739VONP2D"" completed keep alive response.
2018-11-10 21:45:26.974 +07:00 [Information] Request finished in 1.5667ms 200 application/json; charset=UTF-8
2018-11-10 21:45:26.977 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 21:45:26.977 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 21:45:26.977 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:45:26.977 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:45:26.978 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 21:45:26.978 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 21:45:26.978 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 21:45:26.978 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:45:26.978 +07:00 [Debug] Start key discovery request
2018-11-10 21:45:26.978 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:45:26.978 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 21:45:26.978 +07:00 [Debug] Connection id ""0HLI739VONP2D"" completed keep alive response.
2018-11-10 21:45:26.978 +07:00 [Information] Request finished in 1.3623ms 200 application/json; charset=UTF-8
2018-11-10 21:45:26.991 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 21:45:26.991 +07:00 [Debug] "POST" requests are not supported
2018-11-10 21:45:26.992 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:45:26.992 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:45:26.992 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 21:45:26.992 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 21:45:26.993 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 21:45:26.993 +07:00 [Verbose] Processing token request.
2018-11-10 21:45:26.993 +07:00 [Debug] Start token request.
2018-11-10 21:45:26.993 +07:00 [Debug] Start client validation
2018-11-10 21:45:26.993 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 21:45:26.993 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 21:45:26.993 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-10 21:45:26.993 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 21:45:26.994 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-10 21:45:26.994 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 21:45:26.994 +07:00 [Debug] Client validation success
2018-11-10 21:45:26.994 +07:00 [Debug] Connection id ""0HLI739VONP2D"", Request id ""0HLI739VONP2D:00000003"": started reading request body.
2018-11-10 21:45:26.995 +07:00 [Debug] Connection id ""0HLI739VONP2D"", Request id ""0HLI739VONP2D:00000003"": done reading request body.
2018-11-10 21:45:26.995 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 21:45:26.995 +07:00 [Debug] Start token request validation
2018-11-10 21:45:26.995 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 21:45:26.995 +07:00 [Error] Requested scope not allowed: "api1"
2018-11-10 21:45:26.996 +07:00 [Error] "{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 21:45:26.996 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenErrorResult"
2018-11-10 21:45:26.996 +07:00 [Debug] Connection id ""0HLI739VONP2D"" completed keep alive response.
2018-11-10 21:45:26.996 +07:00 [Information] Request finished in 5.2041ms 400 application/json; charset=UTF-8
2018-11-10 21:45:26.997 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-10 21:45:26.997 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 21:45:26.998 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-10 21:45:26.998 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 21:45:26.998 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 36.9737ms
2018-11-10 21:45:26.998 +07:00 [Debug] Connection id ""0HLI739VONP2C"" completed keep alive response.
2018-11-10 21:45:26.998 +07:00 [Information] Request finished in 39.7106ms 400 text/plain; charset=utf-8
2018-11-10 21:45:51.925 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 21:45:51.969 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 21:45:51.978 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 21:45:51.990 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 21:45:52.001 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:45:52.005 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 21:45:52.007 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:45:52.016 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 21:45:52.023 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 21:45:52.033 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 21:45:52.035 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 21:45:52.092 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 21:45:52.106 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 21:45:52.108 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 21:45:52.108 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 21:45:52.108 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 21:45:52.109 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 21:45:52.334 +07:00 [Debug] Hosting starting
2018-11-10 21:45:52.437 +07:00 [Debug] Hosting started
2018-11-10 21:45:52.437 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 21:45:52.437 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 21:45:52.437 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 21:45:52.446 +07:00 [Debug] Connection id ""0HLI73CR8P9NT"" started.
2018-11-10 21:45:52.590 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 21:45:52.669 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 21:45:52.732 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:45:52.868 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 21:45:52.919 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:45:52.934 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:45:52.940 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 21:45:53.278 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 21:45:53.386 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 21:45:53.498 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 21:45:53.503 +07:00 [Information] Test log
2018-11-10 21:45:53.572 +07:00 [Debug] Connection id ""0HLI73CR8P9NU"" started.
2018-11-10 21:45:53.573 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 21:45:53.574 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 21:45:53.574 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:45:53.574 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:45:53.575 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 21:45:53.580 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 21:45:53.580 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 21:45:53.585 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:45:53.585 +07:00 [Debug] Start discovery request
2018-11-10 21:45:53.586 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:45:53.612 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 21:45:53.726 +07:00 [Debug] Connection id ""0HLI73CR8P9NU"" completed keep alive response.
2018-11-10 21:45:53.734 +07:00 [Information] Request finished in 154.392ms 200 application/json; charset=UTF-8
2018-11-10 21:45:53.746 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 21:45:53.746 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 21:45:53.746 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:45:53.746 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:45:53.746 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 21:45:53.747 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 21:45:53.747 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 21:45:53.750 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:45:53.751 +07:00 [Debug] Start key discovery request
2018-11-10 21:45:53.751 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:45:53.758 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 21:45:53.776 +07:00 [Debug] Connection id ""0HLI73CR8P9NU"" completed keep alive response.
2018-11-10 21:45:53.776 +07:00 [Information] Request finished in 29.7771ms 200 application/json; charset=UTF-8
2018-11-10 21:45:53.806 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 21:45:53.806 +07:00 [Debug] "POST" requests are not supported
2018-11-10 21:45:53.806 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:45:53.806 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:45:53.807 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 21:45:53.812 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 21:45:53.812 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 21:45:53.815 +07:00 [Verbose] Processing token request.
2018-11-10 21:45:53.820 +07:00 [Debug] Start token request.
2018-11-10 21:45:53.826 +07:00 [Debug] Start client validation
2018-11-10 21:45:53.831 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 21:45:53.831 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 21:45:53.831 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-10 21:45:53.839 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 21:45:53.840 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-10 21:45:53.849 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 21:45:53.849 +07:00 [Debug] Client validation success
2018-11-10 21:45:53.884 +07:00 [Debug] Connection id ""0HLI73CR8P9NU"", Request id ""0HLI73CR8P9NU:00000003"": started reading request body.
2018-11-10 21:45:53.898 +07:00 [Debug] Connection id ""0HLI73CR8P9NU"", Request id ""0HLI73CR8P9NU:00000003"": done reading request body.
2018-11-10 21:45:53.904 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 21:45:53.909 +07:00 [Debug] Start token request validation
2018-11-10 21:45:53.921 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 21:45:54.465 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:45:54.466 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:45:54.490 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-10 21:45:54.506 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:45:54.506 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:45:54.509 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-10 21:45:54.789 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 21:45:54.919 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-10 21:45:54.976 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-10 21:45:55.156 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
                        FROM [AspNetUsers] AS [u]
                        WHERE [u].[NormalizedUserName] = @__normalizedUserName_0, 
                    shaper: UnbufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 21:45:55.229 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:45:55.425 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:45:55.479 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:45:55.577 +07:00 [Information] Executed DbCommand ("111"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:45:55.681 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:45:55.683 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:45:55.693 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:45:55.705 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 21:45:55.798 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-10 21:45:55.811 +07:00 [Debug] Resource owner password token request validation success.
2018-11-10 21:45:55.811 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-10 21:45:55.821 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api1\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 21:45:55.821 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-10 21:45:55.825 +07:00 [Verbose] Creating response for password request
2018-11-10 21:45:55.837 +07:00 [Verbose] Creating access token
2018-11-10 21:45:55.843 +07:00 [Debug] Getting claims for access token for client: "ApiApplication"
2018-11-10 21:45:55.844 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-10 21:45:55.893 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 21:45:55.908 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 21:45:55.975 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 21:45:55.976 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:45:55.977 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:45:55.978 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 21:45:55.985 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 21:45:55.987 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:45:55.987 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:45:55.987 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:45:56.014 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 21:45:56.018 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 21:45:56.045 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 21:45:56.046 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:45:56.046 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:45:56.046 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 21:45:56.049 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 21:45:56.050 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:45:56.050 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:45:56.050 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:45:56.069 +07:00 [Verbose] Creating JWT access token
2018-11-10 21:45:56.129 +07:00 [Verbose] Access token issued for "ApiApplication (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE4NjExNTYsImV4cCI6MTU0MTg2NDc1NiwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMiJdLCJjbGllbnRfaWQiOiJBcGlBcHBsaWNhdGlvbiIsInN1YiI6ImI5NmU0OGFiLTUyMWQtNDJjMS05OWI2LWZjNjYwM2ViY2Q3YSIsImF1dGhfdGltZSI6MTU0MTg2MTE1NSwiaWRwIjoibG9jYWwiLCJnaXZlbl9uYW1lIjoiVGjDoWkgSOG7k25nIFF1eeG7g24iLCJlbWFpbCI6InF1eWVudGhAZ21haWwuY29tIiwianRpIjoiYWYzYmM4MTYwZTg3YzY4MjA1OGEyNmFlNDdkOTFkOTAiLCJzY29wZSI6WyJhcGkxIl0sImFtciI6WyJwd2QiXX0.T8NfewBd1OLy167LsQupSlukVpl_s42PoJb14a2FYcf_Evs4fIDul01u81zYG_yQcLEWjeyHSAs3X0nnmFbUVMnmhslku1SoEvmpPW9jxeDCzAtvBpAhBO6iQAzjwqc0iB980vXVF9VP56lRvJf1wbOYjImq6RQ9UbEsngOORO1BaCvoRd1X-mlpvYczFvvFIn_dGUW3aPNUByUzYjP7rJ5icNq50bZjR8WX2TTxgHW-E27VlHbH6T3k2tSsReZuiEz31z4wcjCZv3B6QdDiehuHro0Mvoll-MdJYpSdqd6y4jQxXKu2KayVlHUeMNFxDjVYdjfLBrBFlJ60A5y5CA"
2018-11-10 21:45:56.129 +07:00 [Debug] Token request success.
2018-11-10 21:45:56.129 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-10 21:45:56.138 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 21:45:56.141 +07:00 [Debug] Connection id ""0HLI73CR8P9NU"" completed keep alive response.
2018-11-10 21:45:56.143 +07:00 [Information] Request finished in 2337.3273ms 200 application/json; charset=UTF-8
2018-11-10 21:45:56.156 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 21:45:56.161 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:45:56.161 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:45:56.162 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:45:56.163 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:45:56.163 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:45:56.163 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:45:56.163 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:45:56.164 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 21:45:56.170 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:45:56.170 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:45:56.170 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:45:56.171 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:45:56.171 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:45:56.171 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:45:56.171 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:45:56.180 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-10 21:45:56.201 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 21:45:56.206 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-10 21:45:56.206 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 21:45:56.246 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 2856.1335ms
2018-11-10 21:45:56.247 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 21:45:56.248 +07:00 [Debug] Connection id ""0HLI73CR8P9NT"" completed keep alive response.
2018-11-10 21:45:56.248 +07:00 [Information] Request finished in 3672.1999ms 200 application/json; charset=utf-8
2018-11-10 21:45:56.264 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 21:45:56.276 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 21:45:56.289 +07:00 [Debug] Connection id ""0HLI73CR8P9NU"" completed keep alive response.
2018-11-10 21:45:56.290 +07:00 [Information] Request finished in 25.5596ms 200 image/x-icon
2018-11-10 21:46:19.689 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 21:46:19.689 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 21:46:19.689 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:46:19.689 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:46:19.689 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 21:46:19.690 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 21:46:19.690 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 21:46:19.690 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:46:19.690 +07:00 [Debug] Start discovery request
2018-11-10 21:46:19.690 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:46:19.690 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 21:46:19.690 +07:00 [Debug] Connection id ""0HLI73CR8P9NT"" completed keep alive response.
2018-11-10 21:46:19.690 +07:00 [Information] Request finished in 1.4038ms 200 application/json; charset=UTF-8
2018-11-10 21:46:19.908 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 21:46:19.908 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 21:46:19.908 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:46:19.908 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:46:19.908 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 21:46:19.909 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 21:46:19.909 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 21:46:19.909 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:46:19.909 +07:00 [Debug] Start key discovery request
2018-11-10 21:46:19.909 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:46:19.909 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 21:46:19.909 +07:00 [Debug] Connection id ""0HLI73CR8P9NU"" completed keep alive response.
2018-11-10 21:46:19.909 +07:00 [Information] Request finished in 1.0919ms 200 application/json; charset=UTF-8
2018-11-10 21:46:59.918 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 21:46:59.964 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 21:46:59.973 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 21:46:59.986 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 21:46:59.998 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:47:00.003 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 21:47:00.006 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:47:00.018 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 21:47:00.026 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 21:47:00.037 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 21:47:00.040 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 21:47:00.100 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 21:47:00.114 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 21:47:00.116 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 21:47:00.116 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 21:47:00.116 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 21:47:00.116 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 21:47:00.309 +07:00 [Debug] Hosting starting
2018-11-10 21:47:00.410 +07:00 [Debug] Hosting started
2018-11-10 21:47:00.411 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 21:47:00.411 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 21:47:00.411 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 21:47:00.596 +07:00 [Debug] Connection id ""0HLI73DFILTCC"" started.
2018-11-10 21:47:00.742 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 21:47:00.809 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 21:47:00.860 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:47:00.874 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:47:00.879 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 21:47:00.988 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 21:47:01.031 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 21:47:01.031 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 21:47:01.034 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:47:01.035 +07:00 [Debug] Start discovery request
2018-11-10 21:47:01.036 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:47:01.061 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 21:47:01.172 +07:00 [Debug] Connection id ""0HLI73DFILTCC"" completed keep alive response.
2018-11-10 21:47:01.179 +07:00 [Information] Request finished in 443.5783ms 200 application/json; charset=UTF-8
2018-11-10 21:47:01.331 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 21:47:01.332 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 21:47:01.332 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:47:01.332 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:47:01.332 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 21:47:01.333 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 21:47:01.333 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 21:47:01.338 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:47:01.338 +07:00 [Debug] Start key discovery request
2018-11-10 21:47:01.338 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:47:01.346 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 21:47:01.364 +07:00 [Debug] Connection id ""0HLI73DFILTCC"" completed keep alive response.
2018-11-10 21:47:01.364 +07:00 [Information] Request finished in 32.5559ms 200 application/json; charset=UTF-8
2018-11-10 21:47:19.837 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-10 21:47:19.842 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-10 21:47:19.853 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-10 21:47:19.875 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:47:19.876 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-10 21:47:19.876 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-10 21:47:20.237 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-10 21:47:20.348 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-10 21:47:20.461 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-10 21:47:20.465 +07:00 [Information] Test log
2018-11-10 21:47:20.529 +07:00 [Debug] Connection id ""0HLI73DFILTCD"" started.
2018-11-10 21:47:20.530 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 21:47:20.530 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 21:47:20.530 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:47:20.530 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:47:20.530 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 21:47:20.530 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 21:47:20.530 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 21:47:20.531 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:47:20.531 +07:00 [Debug] Start discovery request
2018-11-10 21:47:20.531 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:47:20.531 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 21:47:20.531 +07:00 [Debug] Connection id ""0HLI73DFILTCD"" completed keep alive response.
2018-11-10 21:47:20.531 +07:00 [Information] Request finished in 1.3516ms 200 application/json; charset=UTF-8
2018-11-10 21:47:20.561 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 21:47:20.562 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 21:47:20.562 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:47:20.562 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:47:20.562 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 21:47:20.562 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 21:47:20.562 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 21:47:20.562 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:47:20.563 +07:00 [Debug] Start key discovery request
2018-11-10 21:47:20.563 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:47:20.563 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 21:47:20.563 +07:00 [Debug] Connection id ""0HLI73DFILTCD"" completed keep alive response.
2018-11-10 21:47:20.563 +07:00 [Information] Request finished in 1.7051ms 200 application/json; charset=UTF-8
2018-11-10 21:47:20.595 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-10 21:47:20.596 +07:00 [Debug] "POST" requests are not supported
2018-11-10 21:47:20.596 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:47:20.596 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:47:20.596 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-10 21:47:20.601 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-10 21:47:20.601 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-10 21:47:20.604 +07:00 [Verbose] Processing token request.
2018-11-10 21:47:20.610 +07:00 [Debug] Start token request.
2018-11-10 21:47:20.617 +07:00 [Debug] Start client validation
2018-11-10 21:47:20.622 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-10 21:47:20.622 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-10 21:47:20.622 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-10 21:47:20.629 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-10 21:47:20.629 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-10 21:47:20.638 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-10 21:47:20.638 +07:00 [Debug] Client validation success
2018-11-10 21:47:20.672 +07:00 [Debug] Connection id ""0HLI73DFILTCD"", Request id ""0HLI73DFILTCD:00000003"": started reading request body.
2018-11-10 21:47:20.688 +07:00 [Debug] Connection id ""0HLI73DFILTCD"", Request id ""0HLI73DFILTCD:00000003"": done reading request body.
2018-11-10 21:47:20.693 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-10 21:47:20.698 +07:00 [Debug] Start token request validation
2018-11-10 21:47:20.709 +07:00 [Debug] Start resource owner password token request validation
2018-11-10 21:47:21.281 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:47:21.282 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:47:21.305 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-10 21:47:21.321 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:47:21.321 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-10 21:47:21.324 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-10 21:47:21.588 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 21:47:21.723 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-10 21:47:21.780 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-10 21:47:21.964 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
                        FROM [AspNetUsers] AS [u]
                        WHERE [u].[NormalizedUserName] = @__normalizedUserName_0, 
                    shaper: UnbufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 21:47:22.038 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:47:22.232 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:47:22.285 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:47:22.382 +07:00 [Information] Executed DbCommand ("109"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:47:22.489 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:47:22.490 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:47:22.501 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:47:22.513 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 21:47:22.609 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-10 21:47:22.622 +07:00 [Debug] Resource owner password token request validation success.
2018-11-10 21:47:22.623 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-10 21:47:22.632 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api1\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-10 21:47:22.632 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-10 21:47:22.636 +07:00 [Verbose] Creating response for password request
2018-11-10 21:47:22.647 +07:00 [Verbose] Creating access token
2018-11-10 21:47:22.654 +07:00 [Debug] Getting claims for access token for client: "ApiApplication"
2018-11-10 21:47:22.654 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-10 21:47:22.704 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 21:47:22.718 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-10 21:47:22.786 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 21:47:22.787 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:47:22.788 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:47:22.789 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 21:47:22.795 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-10 21:47:22.797 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:47:22.797 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:47:22.797 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:47:22.824 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 21:47:22.829 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-10 21:47:22.855 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-10 21:47:22.856 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:47:22.856 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:47:22.856 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 21:47:22.859 +07:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-10 21:47:22.859 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:47:22.860 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:47:22.860 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:47:22.879 +07:00 [Verbose] Creating JWT access token
2018-11-10 21:47:22.938 +07:00 [Verbose] Access token issued for "ApiApplication (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE4NjEyNDIsImV4cCI6MTU0MTg2NDg0MiwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMiJdLCJjbGllbnRfaWQiOiJBcGlBcHBsaWNhdGlvbiIsInN1YiI6ImI5NmU0OGFiLTUyMWQtNDJjMS05OWI2LWZjNjYwM2ViY2Q3YSIsImF1dGhfdGltZSI6MTU0MTg2MTI0MiwiaWRwIjoibG9jYWwiLCJnaXZlbl9uYW1lIjoiVGjDoWkgSOG7k25nIFF1eeG7g24iLCJlbWFpbCI6InF1eWVudGhAZ21haWwuY29tIiwianRpIjoiYjQzNDQwMTNhMTlkODUzZDlhYWYzNDYwMWI4Y2ZiOGYiLCJzY29wZSI6WyJhcGkxIl0sImFtciI6WyJwd2QiXX0.hfJc7ctP0LPqXf78qyT1UyxsEpX_UkPVporDA_PzMiD7lvaDOZK6avhfZnfmpQeG_ydR-eGKJWcnbI1xuy6rvVW3JeR8iC0WMceSxN8Wv4An69iYu33cc_pqK7uhaRaCyJbLaZgZzuNUM087Vu8TccDTJ2awpH2934ymR7HA-ddbVhDp1FMMlPG7eJAkaqKjUONOmEK2Z0uGBQ6LaVgHlcIj22YaQswHrLiPWDOCmm856lE1uxJPX-HamrrRep0t87k_l6K8h3F5mbUkE1ZVkF7TDpT3ylTjJScJI-5MdFnaiKgUW1X7FzGBdWi4pQkvv8xUzkXKETtLkU2Q4caLeA"
2018-11-10 21:47:22.938 +07:00 [Debug] Token request success.
2018-11-10 21:47:22.938 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-10 21:47:22.947 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 21:47:22.949 +07:00 [Debug] Connection id ""0HLI73DFILTCD"" completed keep alive response.
2018-11-10 21:47:22.952 +07:00 [Information] Request finished in 2356.4169ms 200 application/json; charset=UTF-8
2018-11-10 21:47:22.959 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-10 21:47:22.965 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:47:22.965 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:47:22.966 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:47:22.967 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:47:22.967 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:47:22.967 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:47:22.967 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:47:22.967 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-10 21:47:22.973 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:47:22.973 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:47:22.974 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:47:22.974 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-10 21:47:22.974 +07:00 [Debug] A data reader was disposed.
2018-11-10 21:47:22.974 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:47:22.974 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-10 21:47:22.984 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-10 21:47:23.004 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-10 21:47:23.008 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-10 21:47:23.008 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-10 21:47:23.050 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 2697.8944ms
2018-11-10 21:47:23.052 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-10 21:47:23.052 +07:00 [Debug] Connection id ""0HLI73DFILTCC"" completed keep alive response.
2018-11-10 21:47:23.052 +07:00 [Information] Request finished in 3214.6215ms 200 application/json; charset=utf-8
2018-11-10 21:47:23.069 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-10 21:47:23.082 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-10 21:47:23.097 +07:00 [Debug] Connection id ""0HLI73DFILTCD"" completed keep alive response.
2018-11-10 21:47:23.097 +07:00 [Information] Request finished in 27.8498ms 200 image/x-icon
2018-11-10 21:48:03.828 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 21:48:03.872 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 21:48:03.879 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 21:48:03.891 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 21:48:03.902 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:48:03.905 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 21:48:03.907 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:48:03.916 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 21:48:03.922 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 21:48:03.932 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 21:48:03.933 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 21:48:03.988 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 21:48:04.002 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 21:48:04.004 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 21:48:04.004 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 21:48:04.004 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 21:48:04.004 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 21:48:04.196 +07:00 [Debug] Hosting starting
2018-11-10 21:48:04.293 +07:00 [Debug] Hosting started
2018-11-10 21:48:04.293 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 21:48:04.293 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 21:48:04.293 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 21:48:04.501 +07:00 [Debug] Connection id ""0HLI73E2K3MIG"" started.
2018-11-10 21:48:04.645 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 21:48:04.711 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 21:48:04.763 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:48:04.775 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:48:04.781 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 21:48:04.904 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 21:48:04.950 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 21:48:04.951 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 21:48:04.954 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:48:04.954 +07:00 [Debug] Start discovery request
2018-11-10 21:48:04.956 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:48:04.981 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 21:48:05.091 +07:00 [Debug] Connection id ""0HLI73E2K3MIG"" completed keep alive response.
2018-11-10 21:48:05.098 +07:00 [Information] Request finished in 460.3264ms 200 application/json; charset=UTF-8
2018-11-10 21:48:05.256 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 21:48:05.256 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 21:48:05.257 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:48:05.257 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:48:05.257 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 21:48:05.258 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 21:48:05.258 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 21:48:05.262 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:48:05.263 +07:00 [Debug] Start key discovery request
2018-11-10 21:48:05.263 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:48:05.270 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 21:48:05.288 +07:00 [Debug] Connection id ""0HLI73E2K3MIG"" completed keep alive response.
2018-11-10 21:48:05.288 +07:00 [Information] Request finished in 31.8049ms 200 application/json; charset=UTF-8
2018-11-10 21:48:23.025 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-10 21:48:23.066 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-10 21:48:23.073 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-10 21:48:23.085 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-10 21:48:23.095 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:48:23.099 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-10 21:48:23.101 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-10 21:48:23.109 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-10 21:48:23.116 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-10 21:48:23.126 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-10 21:48:23.127 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-10 21:48:23.199 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-10 21:48:23.212 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-10 21:48:23.213 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-10 21:48:23.214 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-10 21:48:23.214 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-10 21:48:23.214 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-10 21:48:23.402 +07:00 [Debug] Hosting starting
2018-11-10 21:48:23.511 +07:00 [Debug] Hosting started
2018-11-10 21:48:23.511 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-10 21:48:23.511 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-10 21:48:23.511 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-10 21:48:23.653 +07:00 [Debug] Connection id ""0HLI73E8AQ3EP"" started.
2018-11-10 21:48:23.809 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-10 21:48:23.876 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-10 21:48:23.928 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:48:23.941 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:48:23.946 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-10 21:48:24.054 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-10 21:48:24.097 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-10 21:48:24.098 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-10 21:48:24.101 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:48:24.101 +07:00 [Debug] Start discovery request
2018-11-10 21:48:24.103 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:48:24.127 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-10 21:48:24.237 +07:00 [Debug] Connection id ""0HLI73E8AQ3EP"" completed keep alive response.
2018-11-10 21:48:24.250 +07:00 [Information] Request finished in 442.3185ms 200 application/json; charset=UTF-8
2018-11-10 21:48:24.402 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-10 21:48:24.402 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-10 21:48:24.402 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:48:24.402 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-10 21:48:24.402 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-10 21:48:24.403 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-10 21:48:24.403 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-10 21:48:24.408 +07:00 [Verbose] Processing discovery request.
2018-11-10 21:48:24.408 +07:00 [Debug] Start key discovery request
2018-11-10 21:48:24.408 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-10 21:48:24.416 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-10 21:48:24.434 +07:00 [Debug] Connection id ""0HLI73E8AQ3EP"" completed keep alive response.
2018-11-10 21:48:24.434 +07:00 [Information] Request finished in 32.1654ms 200 application/json; charset=UTF-8
2018-11-10 21:50:13.630 +07:00 [Debug] Connection id ""0HLI73E8AQ3EP"" received FIN.
2018-11-10 21:50:13.633 +07:00 [Debug] Connection id ""0HLI73E8AQ3EP"" disconnecting.
2018-11-10 21:50:13.639 +07:00 [Debug] Connection id ""0HLI73E8AQ3EP"" sending FIN.
2018-11-10 21:50:13.641 +07:00 [Debug] Connection id ""0HLI73E8AQ3EP"" stopped.
