2018-11-11 08:51:40.097 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 08:51:40.145 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 08:51:40.158 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 08:51:40.175 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 08:51:40.188 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 08:51:40.192 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 08:51:40.194 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 08:51:40.203 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 08:51:40.210 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 08:51:40.232 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 08:51:40.236 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 08:51:40.361 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 08:51:40.377 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 08:51:40.378 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 08:51:40.378 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 08:51:40.379 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 08:51:40.379 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 08:51:40.610 +07:00 [Debug] Hosting starting
2018-11-11 08:51:40.715 +07:00 [Debug] Hosting started
2018-11-11 08:51:40.715 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 08:51:40.715 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 08:51:40.715 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 08:51:40.783 +07:00 [Debug] Connection id ""0HLI7F0SPQA9K"" started.
2018-11-11 08:51:40.934 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 08:51:41.047 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 08:51:41.127 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 08:51:41.283 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 08:51:42.059 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 08:51:42.060 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 08:51:42.095 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-11 08:51:42.113 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 08:51:42.113 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 08:51:42.117 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-11 08:51:42.431 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 08:51:42.579 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser e in DbSet<ApplicationUser>
where Property([e], \"Id\") == __get_Item_0
select [e]).FirstOrDefault()"'
2018-11-11 08:51:42.649 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser e in DbSet<ApplicationUser>
where Property([e], \"Id\") == __get_Item_0
select [e]).FirstOrDefault()"'
2018-11-11 08:51:42.845 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
                        FROM [AspNetUsers] AS [e]
                        WHERE [e].[Id] = @__get_Item_0, 
                    shaper: BufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 08:51:42.980 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:51:43.344 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:51:43.402 +07:00 [Debug] Executing DbCommand [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-11-11 08:51:43.535 +07:00 [Information] Executed DbCommand ("133"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-11-11 08:51:43.677 +07:00 [Debug] A data reader was disposed.
2018-11-11 08:51:43.678 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:51:43.688 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:51:43.700 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 08:51:43.790 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 08:51:43.797 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 08:51:43.860 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 08:51:43.860 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:51:43.862 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:51:43.863 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 08:51:43.875 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 08:51:43.877 +07:00 [Debug] A data reader was disposed.
2018-11-11 08:51:43.877 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:51:43.877 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:51:43.912 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 08:51:43.929 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 08:51:43.979 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 08:51:43.979 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:51:43.979 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:51:43.980 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 08:51:43.983 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 08:51:43.984 +07:00 [Debug] A data reader was disposed.
2018-11-11 08:51:43.984 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:51:43.985 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:51:44.006 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 08:51:44.025 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 08:51:44.027 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 08:51:44.811 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 08:51:46.079 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-11 08:51:47.781 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1697.3245ms.
2018-11-11 08:51:47.952 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 08:51:48.011 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 58.6716ms.
2018-11-11 08:51:48.052 +07:00 [Debug] Executing action "/Index"
2018-11-11 08:51:48.102 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 08:51:48.104 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 08:51:48.221 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 08:51:48.348 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 08:51:48.509 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 160.9085ms.
2018-11-11 08:51:48.524 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 08:51:48.527 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 08:51:48.547 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 08:51:48.547 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 08:51:48.603 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 08:51:48.687 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 08:51:48.752 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 64.6834ms.
2018-11-11 08:51:48.802 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 08:51:48.817 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 08:51:48.821 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 08:51:48.903 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 08:51:48.970 +07:00 [Information] Executed action "/Index" in 915.9516ms
2018-11-11 08:51:48.975 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 08:51:48.980 +07:00 [Debug] Connection id ""0HLI7F0SPQA9L"" started.
2018-11-11 08:51:48.980 +07:00 [Debug] Connection id ""0HLI7F0SPQA9N"" started.
2018-11-11 08:51:48.980 +07:00 [Debug] Connection id ""0HLI7F0SPQA9M"" started.
2018-11-11 08:51:48.981 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/lib/bootstrap/dist/css/bootstrap.css  
2018-11-11 08:51:48.981 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/lib/jquery/dist/jquery.js  
2018-11-11 08:51:48.981 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/css/site.css  
2018-11-11 08:51:48.983 +07:00 [Debug] Connection id ""0HLI7F0SPQA9K"" completed keep alive response.
2018-11-11 08:51:48.990 +07:00 [Information] Request finished in 8067.1213ms 200 text/html; charset=utf-8
2018-11-11 08:51:49.006 +07:00 [Information] The file "/lib/jquery/dist/jquery.js" was not modified
2018-11-11 08:51:49.006 +07:00 [Information] The file "/lib/bootstrap/dist/css/bootstrap.css" was not modified
2018-11-11 08:51:49.006 +07:00 [Information] The file "/css/site.css" was not modified
2018-11-11 08:51:49.012 +07:00 [Debug] Handled. Status code: 304 File: "/css/site.css"
2018-11-11 08:51:49.012 +07:00 [Debug] Handled. Status code: 304 File: "/lib/jquery/dist/jquery.js"
2018-11-11 08:51:49.012 +07:00 [Debug] Handled. Status code: 304 File: "/lib/bootstrap/dist/css/bootstrap.css"
2018-11-11 08:51:49.015 +07:00 [Debug] Connection id ""0HLI7F0SPQA9L"" completed keep alive response.
2018-11-11 08:51:49.015 +07:00 [Debug] Connection id ""0HLI7F0SPQA9M"" completed keep alive response.
2018-11-11 08:51:49.015 +07:00 [Debug] Connection id ""0HLI7F0SPQA9N"" completed keep alive response.
2018-11-11 08:51:49.015 +07:00 [Information] Request finished in 34.419ms 304 text/css
2018-11-11 08:51:49.015 +07:00 [Information] Request finished in 34.4252ms 304 text/css
2018-11-11 08:51:49.015 +07:00 [Information] Request finished in 34.4797ms 304 application/javascript
2018-11-11 08:51:49.023 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/lib/bootstrap/dist/js/bootstrap.js  
2018-11-11 08:51:49.024 +07:00 [Information] The file "/lib/bootstrap/dist/js/bootstrap.js" was not modified
2018-11-11 08:51:49.024 +07:00 [Debug] Handled. Status code: 304 File: "/lib/bootstrap/dist/js/bootstrap.js"
2018-11-11 08:51:49.024 +07:00 [Debug] Connection id ""0HLI7F0SPQA9K"" completed keep alive response.
2018-11-11 08:51:49.024 +07:00 [Information] Request finished in 0.7305ms 304 application/javascript
2018-11-11 08:51:49.027 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/js/site.js?v=EWaMeWsJBYWmL2g_KkgXZQ5nPe-a3Ichp0LEgzXczKo  
2018-11-11 08:51:49.027 +07:00 [Information] The file "/js/site.js" was not modified
2018-11-11 08:51:49.027 +07:00 [Debug] Handled. Status code: 304 File: "/js/site.js"
2018-11-11 08:51:49.027 +07:00 [Debug] Connection id ""0HLI7F0SPQA9L"" completed keep alive response.
2018-11-11 08:51:49.027 +07:00 [Information] Request finished in 0.6131ms 304 application/javascript
2018-11-11 08:51:49.037 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/images/banner1.svg  
2018-11-11 08:51:49.037 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/images/banner3.svg  
2018-11-11 08:51:49.037 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/images/banner2.svg  
2018-11-11 08:51:49.037 +07:00 [Information] The file "/images/banner1.svg" was not modified
2018-11-11 08:51:49.037 +07:00 [Information] The file "/images/banner3.svg" was not modified
2018-11-11 08:51:49.037 +07:00 [Information] The file "/images/banner2.svg" was not modified
2018-11-11 08:51:49.037 +07:00 [Debug] Handled. Status code: 304 File: "/images/banner1.svg"
2018-11-11 08:51:49.037 +07:00 [Debug] Handled. Status code: 304 File: "/images/banner3.svg"
2018-11-11 08:51:49.037 +07:00 [Debug] Handled. Status code: 304 File: "/images/banner2.svg"
2018-11-11 08:51:49.037 +07:00 [Debug] Connection id ""0HLI7F0SPQA9N"" completed keep alive response.
2018-11-11 08:51:49.037 +07:00 [Debug] Connection id ""0HLI7F0SPQA9K"" completed keep alive response.
2018-11-11 08:51:49.037 +07:00 [Debug] Connection id ""0HLI7F0SPQA9M"" completed keep alive response.
2018-11-11 08:51:49.037 +07:00 [Information] Request finished in 0.6684ms 304 image/svg+xml
2018-11-11 08:51:49.037 +07:00 [Information] Request finished in 0.689ms 304 image/svg+xml
2018-11-11 08:51:49.037 +07:00 [Information] Request finished in 0.7305ms 304 image/svg+xml
2018-11-11 08:51:49.092 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2  
2018-11-11 08:51:49.093 +07:00 [Information] The file "/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2" was not modified
2018-11-11 08:51:49.093 +07:00 [Debug] Handled. Status code: 304 File: "/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2"
2018-11-11 08:51:49.093 +07:00 [Debug] Connection id ""0HLI7F0SPQA9L"" completed keep alive response.
2018-11-11 08:51:49.093 +07:00 [Information] Request finished in 1.0491ms 304 font/woff2
2018-11-11 08:51:49.096 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/images/banner4.svg  
2018-11-11 08:51:49.096 +07:00 [Information] The file "/images/banner4.svg" was not modified
2018-11-11 08:51:49.096 +07:00 [Debug] Handled. Status code: 304 File: "/images/banner4.svg"
2018-11-11 08:51:49.096 +07:00 [Debug] Connection id ""0HLI7F0SPQA9N"" completed keep alive response.
2018-11-11 08:51:49.097 +07:00 [Information] Request finished in 0.9429ms 304 image/svg+xml
2018-11-11 08:51:54.032 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 08:51:54.032 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 08:51:54.032 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 08:51:54.033 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 08:51:54.034 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 08:51:54.034 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-11 08:51:54.035 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 08:51:54.100 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 08:51:54.233 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 08:51:54.237 +07:00 [Information] Test log
2018-11-11 08:51:54.323 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 08:51:54.324 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 08:51:54.324 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 08:51:54.324 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 08:51:54.325 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 08:51:54.329 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 08:51:54.329 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 08:51:54.332 +07:00 [Verbose] Processing discovery request.
2018-11-11 08:51:54.333 +07:00 [Debug] Start discovery request
2018-11-11 08:51:54.334 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 08:51:54.424 +07:00 [Fatal] Unhandled exception: "Duplicate API scopes found. This is an invalid configuration. Use different names for API scopes. Scopes found: api1"
System.Exception: Duplicate API scopes found. This is an invalid configuration. Use different names for API scopes. Scopes found: api1
   at IdentityServer4.Stores.IResourceStoreExtensions.CheckForDuplicates(String[] identityScopeNames, String[] apiScopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 83
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 49
   at IdentityServer4.Stores.IResourceStoreExtensions.<GetAllEnabledResourcesAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 108
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.<CreateDiscoveryDocumentAsync>d__8.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\DiscoveryResponseGenerator.cs:line 164
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.<ProcessAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\DiscoveryEndpoint.cs:line 58
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
2018-11-11 08:51:54.443 +07:00 [Debug] System.Exception occurred, checking if Entity Framework recorded this exception as resulting from a failed database operation.
2018-11-11 08:51:54.443 +07:00 [Debug] Entity Framework did not record any exceptions due to failed database operations. This means the current exception is not a failed Entity Framework database operation, or the current exception occurred from a DbContext that was not obtained from request services.
2018-11-11 08:51:54.443 +07:00 [Error] An unhandled exception has occurred while executing the request
System.Exception: Duplicate API scopes found. This is an invalid configuration. Use different names for API scopes. Scopes found: api1
   at IdentityServer4.Stores.IResourceStoreExtensions.CheckForDuplicates(String[] identityScopeNames, String[] apiScopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 83
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 49
   at IdentityServer4.Stores.IResourceStoreExtensions.<GetAllEnabledResourcesAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 108
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.<CreateDiscoveryDocumentAsync>d__8.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\DiscoveryResponseGenerator.cs:line 164
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.<ProcessAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\DiscoveryEndpoint.cs:line 58
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 36
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-11-11 08:51:54.671 +07:00 [Debug] Connection id ""0HLI7F0SPQA9M"" completed keep alive response.
2018-11-11 08:51:54.671 +07:00 [Information] Request finished in 347.7075ms 500 text/html; charset=utf-8
2018-11-11 08:51:54.697 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-11 08:51:54.731 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 08:51:54.738 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-11 08:51:54.739 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 08:51:54.751 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 650.3392ms
2018-11-11 08:51:54.751 +07:00 [Debug] Connection id ""0HLI7F0SPQA9K"" completed keep alive response.
2018-11-11 08:51:54.751 +07:00 [Information] Request finished in 719.7034ms 400 text/plain; charset=utf-8
2018-11-11 08:51:54.771 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 08:51:54.772 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 08:51:54.799 +07:00 [Debug] Connection id ""0HLI7F0SPQA9L"" completed keep alive response.
2018-11-11 08:51:54.800 +07:00 [Information] Request finished in 28.9511ms 200 image/x-icon
2018-11-11 08:52:12.937 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 08:52:12.938 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 08:52:12.938 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 08:52:12.938 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 08:52:12.938 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 08:52:12.939 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 08:52:12.939 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 08:52:12.939 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 08:52:12.944 +07:00 [Verbose] Processing discovery request.
2018-11-11 08:52:12.944 +07:00 [Debug] Start discovery request
2018-11-11 08:52:12.945 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 08:52:12.948 +07:00 [Fatal] Unhandled exception: "Duplicate API scopes found. This is an invalid configuration. Use different names for API scopes. Scopes found: api1"
System.Exception: Duplicate API scopes found. This is an invalid configuration. Use different names for API scopes. Scopes found: api1
   at IdentityServer4.Stores.IResourceStoreExtensions.CheckForDuplicates(String[] identityScopeNames, String[] apiScopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 83
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 49
   at IdentityServer4.Stores.IResourceStoreExtensions.<GetAllEnabledResourcesAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 108
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.<CreateDiscoveryDocumentAsync>d__8.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\DiscoveryResponseGenerator.cs:line 164
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.<ProcessAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\DiscoveryEndpoint.cs:line 58
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
2018-11-11 08:52:12.956 +07:00 [Debug] System.Exception occurred, checking if Entity Framework recorded this exception as resulting from a failed database operation.
2018-11-11 08:52:12.956 +07:00 [Debug] Entity Framework did not record any exceptions due to failed database operations. This means the current exception is not a failed Entity Framework database operation, or the current exception occurred from a DbContext that was not obtained from request services.
2018-11-11 08:52:12.956 +07:00 [Error] An unhandled exception has occurred while executing the request
System.Exception: Duplicate API scopes found. This is an invalid configuration. Use different names for API scopes. Scopes found: api1
   at IdentityServer4.Stores.IResourceStoreExtensions.CheckForDuplicates(String[] identityScopeNames, String[] apiScopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 83
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 49
   at IdentityServer4.Stores.IResourceStoreExtensions.<GetAllEnabledResourcesAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 108
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.<CreateDiscoveryDocumentAsync>d__8.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\DiscoveryResponseGenerator.cs:line 164
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.<ProcessAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\DiscoveryEndpoint.cs:line 58
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 36
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-11-11 08:52:13.013 +07:00 [Debug] Connection id ""0HLI7F0SPQA9N"" completed keep alive response.
2018-11-11 08:52:13.014 +07:00 [Information] Request finished in 76.2609ms 500 text/html; charset=utf-8
2018-11-11 08:54:19.075 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 08:54:19.142 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 08:54:19.154 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 08:54:19.167 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 08:54:19.179 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 08:54:19.183 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 08:54:19.185 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 08:54:19.194 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 08:54:19.202 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 08:54:19.212 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 08:54:19.214 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 08:54:19.534 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 08:54:19.609 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 08:54:19.617 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 08:54:19.622 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 08:54:19.627 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 08:54:19.632 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 08:54:19.937 +07:00 [Debug] Hosting starting
2018-11-11 08:54:20.139 +07:00 [Debug] Hosting started
2018-11-11 08:54:20.143 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 08:54:20.147 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 08:54:20.150 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 08:54:20.185 +07:00 [Debug] Connection id ""0HLI7F2C9RT3O"" started.
2018-11-11 08:54:20.185 +07:00 [Debug] Connection id ""0HLI7F2C9RT3P"" started.
2018-11-11 08:54:20.310 +07:00 [Debug] Connection id ""0HLI7F2C9RT3O"" reset.
2018-11-11 08:54:20.316 +07:00 [Debug] Connection id ""0HLI7F2C9RT3O"" disconnecting.
2018-11-11 08:54:20.331 +07:00 [Debug] Connection id ""0HLI7F2C9RT3O"" sending FIN.
2018-11-11 08:54:20.337 +07:00 [Debug] Connection id ""0HLI7F2C9RT3O"" stopped.
2018-11-11 08:54:20.463 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 08:54:20.775 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 08:54:20.896 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 08:54:21.139 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 08:54:21.199 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 08:54:21.216 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 08:54:21.224 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 08:54:21.655 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 08:54:22.664 +07:00 [Debug] Connection id ""0HLI7F2C9RT3Q"" started.
2018-11-11 08:54:22.669 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 08:54:22.671 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 08:54:22.674 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 08:54:22.682 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 08:54:22.688 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 08:54:22.691 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-11 08:54:22.695 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 08:54:22.851 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 08:54:22.943 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-11 08:54:23.004 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 08:54:23.012 +07:00 [Information] Test log
2018-11-11 08:54:26.441 +07:00 [Debug] Connection id ""0HLI7F2C9RT3R"" started.
2018-11-11 08:54:26.445 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 08:54:26.448 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 08:54:26.451 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 08:54:26.453 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 08:54:26.456 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 08:54:26.465 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 08:54:26.468 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 08:54:26.475 +07:00 [Verbose] Processing discovery request.
2018-11-11 08:54:26.477 +07:00 [Debug] Start discovery request
2018-11-11 08:54:26.482 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 08:54:26.563 +07:00 [Fatal] Unhandled exception: "Duplicate API scopes found. This is an invalid configuration. Use different names for API scopes. Scopes found: api1"
System.Exception: Duplicate API scopes found. This is an invalid configuration. Use different names for API scopes. Scopes found: api1
   at IdentityServer4.Stores.IResourceStoreExtensions.CheckForDuplicates(String[] identityScopeNames, String[] apiScopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 83
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 49
   at IdentityServer4.Stores.IResourceStoreExtensions.<GetAllEnabledResourcesAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 108
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.<CreateDiscoveryDocumentAsync>d__8.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\DiscoveryResponseGenerator.cs:line 164
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.<ProcessAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\DiscoveryEndpoint.cs:line 58
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
2018-11-11 08:54:26.598 +07:00 [Debug] System.Exception occurred, checking if Entity Framework recorded this exception as resulting from a failed database operation.
2018-11-11 08:54:26.601 +07:00 [Debug] Entity Framework did not record any exceptions due to failed database operations. This means the current exception is not a failed Entity Framework database operation, or the current exception occurred from a DbContext that was not obtained from request services.
2018-11-11 08:54:26.604 +07:00 [Error] An unhandled exception has occurred while executing the request
System.Exception: Duplicate API scopes found. This is an invalid configuration. Use different names for API scopes. Scopes found: api1
   at IdentityServer4.Stores.IResourceStoreExtensions.CheckForDuplicates(String[] identityScopeNames, String[] apiScopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 83
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 49
   at IdentityServer4.Stores.IResourceStoreExtensions.<GetAllEnabledResourcesAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 108
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.<CreateDiscoveryDocumentAsync>d__8.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\DiscoveryResponseGenerator.cs:line 164
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.<ProcessAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\DiscoveryEndpoint.cs:line 58
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 36
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-11-11 08:54:26.868 +07:00 [Debug] Connection id ""0HLI7F2C9RT3R"" completed keep alive response.
2018-11-11 08:54:26.883 +07:00 [Information] Request finished in 427.9971ms 500 text/html; charset=utf-8
2018-11-11 08:54:26.885 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-11 08:54:26.920 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 08:54:26.929 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-11 08:54:26.931 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 08:54:26.958 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 4099.6491ms
2018-11-11 08:54:26.962 +07:00 [Debug] Connection id ""0HLI7F2C9RT3Q"" completed keep alive response.
2018-11-11 08:54:26.969 +07:00 [Information] Request finished in 4300.3959ms 400 text/plain; charset=utf-8
2018-11-11 08:54:26.982 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 08:54:27.003 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 08:54:27.022 +07:00 [Debug] Connection id ""0HLI7F2C9RT3R"" completed keep alive response.
2018-11-11 08:54:27.024 +07:00 [Information] Request finished in 42.5219ms 200 image/x-icon
2018-11-11 08:54:28.371 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 5426.8431ms.
2018-11-11 08:54:28.537 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 08:54:28.667 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 127.5632ms.
2018-11-11 08:54:28.686 +07:00 [Debug] Executing action "/Index"
2018-11-11 08:54:28.733 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 08:54:28.737 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 08:54:28.855 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 08:54:28.985 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 08:54:29.208 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 220.8355ms.
2018-11-11 08:54:29.224 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 08:54:29.230 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 08:54:29.250 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 08:54:29.252 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 08:54:29.309 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 08:54:29.390 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 08:54:29.496 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 103.8675ms.
2018-11-11 08:54:29.575 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 08:54:29.603 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 08:54:29.612 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 08:54:29.696 +07:00 [Information] Executed action "/Index" in 1005.2474ms
2018-11-11 08:54:29.702 +07:00 [Debug] Connection id ""0HLI7F2C9RT3P"" completed keep alive response.
2018-11-11 08:54:29.706 +07:00 [Information] Request finished in 9261.4654ms 200 text/html; charset=utf-8
2018-11-11 08:55:19.311 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 08:55:19.313 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 08:55:19.315 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 08:55:19.318 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 08:55:19.320 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 08:55:19.322 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-11 08:55:19.324 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 08:55:19.329 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 08:55:19.333 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 08:55:19.335 +07:00 [Information] Test log
2018-11-11 08:55:21.450 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 08:55:21.453 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 08:55:21.456 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 08:55:21.458 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 08:55:21.461 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 08:55:21.463 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 08:55:21.465 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 08:55:21.468 +07:00 [Verbose] Processing discovery request.
2018-11-11 08:55:21.470 +07:00 [Debug] Start discovery request
2018-11-11 08:55:21.473 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 08:55:21.479 +07:00 [Fatal] Unhandled exception: "Duplicate API scopes found. This is an invalid configuration. Use different names for API scopes. Scopes found: api1"
System.Exception: Duplicate API scopes found. This is an invalid configuration. Use different names for API scopes. Scopes found: api1
   at IdentityServer4.Stores.IResourceStoreExtensions.CheckForDuplicates(String[] identityScopeNames, String[] apiScopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 83
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 49
   at IdentityServer4.Stores.IResourceStoreExtensions.<GetAllEnabledResourcesAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 108
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.<CreateDiscoveryDocumentAsync>d__8.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\DiscoveryResponseGenerator.cs:line 164
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.<ProcessAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\DiscoveryEndpoint.cs:line 58
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
2018-11-11 08:55:21.492 +07:00 [Debug] System.Exception occurred, checking if Entity Framework recorded this exception as resulting from a failed database operation.
2018-11-11 08:55:21.494 +07:00 [Debug] Entity Framework did not record any exceptions due to failed database operations. This means the current exception is not a failed Entity Framework database operation, or the current exception occurred from a DbContext that was not obtained from request services.
2018-11-11 08:55:21.497 +07:00 [Error] An unhandled exception has occurred while executing the request
System.Exception: Duplicate API scopes found. This is an invalid configuration. Use different names for API scopes. Scopes found: api1
   at IdentityServer4.Stores.IResourceStoreExtensions.CheckForDuplicates(String[] identityScopeNames, String[] apiScopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 83
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 49
   at IdentityServer4.Stores.IResourceStoreExtensions.<GetAllEnabledResourcesAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 108
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.<CreateDiscoveryDocumentAsync>d__8.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\DiscoveryResponseGenerator.cs:line 164
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.<ProcessAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\DiscoveryEndpoint.cs:line 58
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 36
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-11-11 08:55:21.562 +07:00 [Debug] Connection id ""0HLI7F2C9RT3R"" completed keep alive response.
2018-11-11 08:55:21.565 +07:00 [Information] Request finished in 115.5176ms 500 text/html; charset=utf-8
2018-11-11 08:55:21.571 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-11 08:55:21.574 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 08:55:21.577 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-11 08:55:21.580 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 08:55:21.583 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 2250.9045ms
2018-11-11 08:55:21.586 +07:00 [Debug] Connection id ""0HLI7F2C9RT3Q"" completed keep alive response.
2018-11-11 08:55:21.589 +07:00 [Information] Request finished in 2278.3875ms 400 text/plain; charset=utf-8
2018-11-11 08:56:11.616 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 08:56:11.705 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 08:56:11.721 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 08:56:11.743 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 08:56:11.756 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 08:56:11.762 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 08:56:11.765 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 08:56:11.774 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 08:56:11.782 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 08:56:11.798 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 08:56:11.800 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 08:56:11.938 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 08:56:11.959 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 08:56:11.964 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 08:56:11.966 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 08:56:11.968 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 08:56:11.970 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 08:56:12.331 +07:00 [Debug] Hosting starting
2018-11-11 08:56:12.650 +07:00 [Debug] Hosting started
2018-11-11 08:56:12.653 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 08:56:12.656 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 08:56:12.658 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 08:56:12.841 +07:00 [Debug] Connection id ""0HLI7F3DS8K38"" started.
2018-11-11 08:56:12.841 +07:00 [Debug] Connection id ""0HLI7F3DS8K37"" started.
2018-11-11 08:56:12.977 +07:00 [Debug] Connection id ""0HLI7F3DS8K37"" reset.
2018-11-11 08:56:12.982 +07:00 [Debug] Connection id ""0HLI7F3DS8K37"" disconnecting.
2018-11-11 08:56:12.996 +07:00 [Debug] Connection id ""0HLI7F3DS8K37"" sending FIN.
2018-11-11 08:56:13.003 +07:00 [Debug] Connection id ""0HLI7F3DS8K37"" stopped.
2018-11-11 08:56:13.134 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 08:56:13.370 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 08:56:13.463 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 08:56:13.664 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 08:56:13.755 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 08:56:13.775 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 08:56:13.784 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 08:56:14.338 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 08:56:14.603 +07:00 [Debug] Connection id ""0HLI7F3DS8K39"" started.
2018-11-11 08:56:14.607 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 08:56:14.610 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 08:56:14.613 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 08:56:14.617 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 08:56:14.626 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 08:56:14.628 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-11 08:56:14.632 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 08:56:14.800 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 08:56:14.952 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 08:56:14.961 +07:00 [Information] Test log
2018-11-11 08:56:18.308 +07:00 [Debug] Connection id ""0HLI7F3DS8K3A"" started.
2018-11-11 08:56:18.312 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 08:56:18.315 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 08:56:18.317 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 08:56:18.320 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 08:56:18.323 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 08:56:18.338 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 08:56:18.341 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 08:56:18.348 +07:00 [Verbose] Processing discovery request.
2018-11-11 08:56:18.351 +07:00 [Debug] Start discovery request
2018-11-11 08:56:18.356 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 08:56:18.392 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-11 08:56:18.531 +07:00 [Debug] Connection id ""0HLI7F3DS8K3A"" completed keep alive response.
2018-11-11 08:56:18.568 +07:00 [Information] Request finished in 249.3346ms 200 application/json; charset=UTF-8
2018-11-11 08:56:18.595 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-11 08:56:18.597 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-11 08:56:18.599 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 08:56:18.601 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 08:56:18.603 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-11 08:56:18.605 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-11 08:56:18.607 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-11 08:56:18.613 +07:00 [Verbose] Processing discovery request.
2018-11-11 08:56:18.615 +07:00 [Debug] Start key discovery request
2018-11-11 08:56:18.616 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 08:56:18.628 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-11 08:56:18.651 +07:00 [Debug] Connection id ""0HLI7F3DS8K3A"" completed keep alive response.
2018-11-11 08:56:18.653 +07:00 [Information] Request finished in 58.1035ms 200 application/json; charset=UTF-8
2018-11-11 08:56:18.723 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-11 08:56:18.725 +07:00 [Debug] "POST" requests are not supported
2018-11-11 08:56:18.727 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 08:56:18.729 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 08:56:18.731 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-11 08:56:18.740 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-11 08:56:18.742 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-11 08:56:18.748 +07:00 [Verbose] Processing token request.
2018-11-11 08:56:18.755 +07:00 [Debug] Start token request.
2018-11-11 08:56:18.763 +07:00 [Debug] Start client validation
2018-11-11 08:56:18.771 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-11 08:56:18.774 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-11 08:56:18.776 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-11 08:56:18.785 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-11 08:56:18.788 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-11 08:56:18.800 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-11 08:56:18.802 +07:00 [Debug] Client validation success
2018-11-11 08:56:18.887 +07:00 [Debug] Connection id ""0HLI7F3DS8K3A"", Request id ""0HLI7F3DS8K3A:00000003"": started reading request body.
2018-11-11 08:56:18.906 +07:00 [Debug] Connection id ""0HLI7F3DS8K3A"", Request id ""0HLI7F3DS8K3A:00000003"": done reading request body.
2018-11-11 08:56:18.915 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-11 08:56:18.926 +07:00 [Debug] Start token request validation
2018-11-11 08:56:18.942 +07:00 [Debug] Start resource owner password token request validation
2018-11-11 08:56:19.097 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-11 08:56:19.621 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 08:56:19.624 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 08:56:19.652 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-11 08:56:19.673 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 08:56:19.675 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 08:56:19.681 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-11 08:56:20.032 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 08:56:20.190 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 08:56:20.269 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 08:56:20.488 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
                        FROM [AspNetUsers] AS [u]
                        WHERE [u].[NormalizedUserName] = @__normalizedUserName_0, 
                    shaper: UnbufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 08:56:20.581 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:56:20.855 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:56:20.932 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1830.0611ms.
2018-11-11 08:56:20.943 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 08:56:21.077 +07:00 [Information] Executed DbCommand ("167"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 08:56:21.087 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 08:56:21.169 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 80.0718ms.
2018-11-11 08:56:21.181 +07:00 [Debug] Executing action "/Index"
2018-11-11 08:56:21.215 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 08:56:21.219 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 08:56:21.219 +07:00 [Debug] A data reader was disposed.
2018-11-11 08:56:21.245 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:56:21.263 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:56:21.279 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 08:56:21.403 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 08:56:21.418 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-11 08:56:21.440 +07:00 [Debug] Resource owner password token request validation success.
2018-11-11 08:56:21.443 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-11 08:56:21.490 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api1\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api1\"
  }
}"
2018-11-11 08:56:21.493 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-11 08:56:21.502 +07:00 [Verbose] Creating response for password request
2018-11-11 08:56:21.522 +07:00 [Verbose] Creating access token
2018-11-11 08:56:21.537 +07:00 [Debug] Getting claims for access token for client: "ApiApplication"
2018-11-11 08:56:21.540 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-11 08:56:21.619 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 08:56:21.634 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 08:56:21.656 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 08:56:21.755 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 08:56:21.757 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:56:21.761 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:56:21.763 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 08:56:21.773 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 08:56:21.784 +07:00 [Debug] A data reader was disposed.
2018-11-11 08:56:21.786 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:56:21.788 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:56:21.823 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 08:56:21.831 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 08:56:21.864 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 242.1465ms.
2018-11-11 08:56:21.883 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 08:56:21.886 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 08:56:21.889 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:56:21.891 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:56:21.893 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 08:56:21.896 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 08:56:21.898 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 08:56:21.902 +07:00 [Debug] A data reader was disposed.
2018-11-11 08:56:21.904 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:56:21.906 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:56:21.928 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 08:56:21.930 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 08:56:21.940 +07:00 [Verbose] Creating JWT access token
2018-11-11 08:56:22.010 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 08:56:22.043 +07:00 [Verbose] Access token issued for "ApiApplication (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE5MDEzODEsImV4cCI6MTU0MTkwNDk4MSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMSJdLCJjbGllbnRfaWQiOiJBcGlBcHBsaWNhdGlvbiIsInN1YiI6ImI5NmU0OGFiLTUyMWQtNDJjMS05OWI2LWZjNjYwM2ViY2Q3YSIsImF1dGhfdGltZSI6MTU0MTkwMTM4MSwiaWRwIjoibG9jYWwiLCJnaXZlbl9uYW1lIjoiVGjDoWkgSOG7k25nIFF1eeG7g24iLCJlbWFpbCI6InF1eWVudGhAZ21haWwuY29tIiwianRpIjoiODQ0YWFlOWU0NGQ4NDRkODE4NTlhYjJhYTQ2M2FkOTMiLCJzY29wZSI6WyJhcGkxIl0sImFtciI6WyJwd2QiXX0.hpDo_s8JWaJvRhMv0LiWqEWH6NGbmDT77AgbnrAFEV_CrlfbbGC6m8ENGPG0GlIs5b7bOyBxb1Yz3P7OkhHGYNtVZl57z5s5n1kyH__xvZAAPExO2MrfKZw6_48jVcTDYYy3EyKZRxzi8BWazMo_ErwJ0d5ZQPccEODYoV7fqf3UnbtRT2zk4V9QFC1A-i5KPrlyoDqvoQ8PV3OA0l0sAWrk1Wk3TxX8ZG1Qv7Ty552fUmG8GS6l29G7JI5CXd9A3SE1Jw7VX5-tbHMXtWQSryRisaYlx3732MlByAqaLVtSFZdGSmazxlH5xCLkPT-S4U8HOiFpv4RLpp0IjG449g"
2018-11-11 08:56:22.046 +07:00 [Debug] Token request success.
2018-11-11 08:56:22.048 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-11 08:56:22.061 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 08:56:22.067 +07:00 [Debug] Connection id ""0HLI7F3DS8K3A"" completed keep alive response.
2018-11-11 08:56:22.072 +07:00 [Information] Request finished in 3349.2694ms 200 application/json; charset=UTF-8
2018-11-11 08:56:22.080 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 08:56:22.089 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:56:22.091 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:56:22.095 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 08:56:22.098 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 08:56:22.100 +07:00 [Debug] A data reader was disposed.
2018-11-11 08:56:22.103 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:56:22.105 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:56:22.107 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 08:56:22.115 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:56:22.118 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:56:22.120 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 08:56:22.123 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 08:56:22.125 +07:00 [Debug] A data reader was disposed.
2018-11-11 08:56:22.126 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:56:22.128 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:56:22.141 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 08:56:22.142 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-11 08:56:22.181 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 08:56:22.190 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 08:56:22.193 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 08:56:22.253 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 90.8429ms.
2018-11-11 08:56:22.263 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 7458.2946ms
2018-11-11 08:56:22.265 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 08:56:22.268 +07:00 [Debug] Connection id ""0HLI7F3DS8K39"" completed keep alive response.
2018-11-11 08:56:22.270 +07:00 [Information] Request finished in 7663.2147ms 200 application/json; charset=utf-8
2018-11-11 08:56:22.293 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 08:56:22.312 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 08:56:22.318 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 08:56:22.336 +07:00 [Debug] Connection id ""0HLI7F3DS8K3A"" completed keep alive response.
2018-11-11 08:56:22.339 +07:00 [Information] Request finished in 45.9669ms 200 image/x-icon
2018-11-11 08:56:22.344 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 08:56:22.355 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 08:56:22.410 +07:00 [Information] Executed action "/Index" in 1227.0794ms
2018-11-11 08:56:22.415 +07:00 [Debug] Connection id ""0HLI7F3DS8K38"" completed keep alive response.
2018-11-11 08:56:22.418 +07:00 [Information] Request finished in 9302.185ms 200 text/html; charset=utf-8
2018-11-11 08:58:17.230 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 08:58:17.329 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 08:58:17.344 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 08:58:17.361 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 08:58:17.373 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 08:58:17.378 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 08:58:17.380 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 08:58:17.390 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 08:58:17.398 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 08:58:17.410 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 08:58:17.412 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 08:58:17.538 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 08:58:17.558 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 08:58:17.562 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 08:58:17.565 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 08:58:17.567 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 08:58:17.569 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 08:58:17.860 +07:00 [Debug] Hosting starting
2018-11-11 08:58:18.152 +07:00 [Debug] Hosting started
2018-11-11 08:58:18.157 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 08:58:18.162 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 08:58:18.164 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 08:58:18.192 +07:00 [Debug] Connection id ""0HLI7F4J7OC9K"" started.
2018-11-11 08:58:18.192 +07:00 [Debug] Connection id ""0HLI7F4J7OC9L"" started.
2018-11-11 08:58:18.271 +07:00 [Debug] Connection id ""0HLI7F4J7OC9K"" reset.
2018-11-11 08:58:18.275 +07:00 [Debug] Connection id ""0HLI7F4J7OC9K"" disconnecting.
2018-11-11 08:58:18.288 +07:00 [Debug] Connection id ""0HLI7F4J7OC9K"" sending FIN.
2018-11-11 08:58:18.294 +07:00 [Debug] Connection id ""0HLI7F4J7OC9K"" stopped.
2018-11-11 08:58:18.410 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 08:58:18.602 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 08:58:18.684 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 08:58:18.889 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 08:58:18.948 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 08:58:18.967 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 08:58:18.977 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 08:58:19.543 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 08:58:20.766 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-11 08:58:22.360 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1588.0052ms.
2018-11-11 08:58:22.529 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 08:58:22.632 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 99.8553ms.
2018-11-11 08:58:22.787 +07:00 [Debug] Executing action "/Index"
2018-11-11 08:58:22.907 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 08:58:22.913 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 08:58:23.068 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 08:58:23.254 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 08:58:23.438 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 180.6867ms.
2018-11-11 08:58:23.455 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 08:58:23.462 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 08:58:23.504 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 08:58:23.507 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 08:58:23.581 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 08:58:23.669 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 08:58:23.782 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 110.0252ms.
2018-11-11 08:58:23.831 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 08:58:23.852 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 08:58:23.862 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 08:58:23.985 +07:00 [Information] Executed action "/Index" in 1191.0463ms
2018-11-11 08:58:24.006 +07:00 [Debug] Connection id ""0HLI7F4J7OC9L"" completed keep alive response.
2018-11-11 08:58:24.013 +07:00 [Information] Request finished in 5615.5658ms 200 text/html; charset=utf-8
2018-11-11 08:58:26.881 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 08:58:26.884 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 08:58:26.887 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 08:58:26.891 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 08:58:26.895 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 08:58:26.898 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-11 08:58:26.902 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 08:58:26.986 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 08:58:27.155 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 08:58:27.164 +07:00 [Information] Test log
2018-11-11 08:58:29.640 +07:00 [Debug] Connection id ""0HLI7F4J7OC9M"" started.
2018-11-11 08:58:29.645 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 08:58:29.649 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 08:58:29.651 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 08:58:29.654 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 08:58:29.657 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 08:58:29.671 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 08:58:29.677 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 08:58:29.689 +07:00 [Verbose] Processing discovery request.
2018-11-11 08:58:29.692 +07:00 [Debug] Start discovery request
2018-11-11 08:58:29.697 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 08:58:29.740 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-11 08:58:29.841 +07:00 [Debug] Connection id ""0HLI7F4J7OC9M"" completed keep alive response.
2018-11-11 08:58:29.844 +07:00 [Information] Request finished in 198.5106ms 200 application/json; charset=UTF-8
2018-11-11 08:58:29.889 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-11 08:58:29.892 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-11 08:58:29.894 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 08:58:29.896 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 08:58:29.898 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-11 08:58:29.901 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-11 08:58:29.903 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-11 08:58:29.909 +07:00 [Verbose] Processing discovery request.
2018-11-11 08:58:29.912 +07:00 [Debug] Start key discovery request
2018-11-11 08:58:29.914 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 08:58:29.924 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-11 08:58:29.945 +07:00 [Debug] Connection id ""0HLI7F4J7OC9M"" completed keep alive response.
2018-11-11 08:58:29.948 +07:00 [Information] Request finished in 58.7091ms 200 application/json; charset=UTF-8
2018-11-11 08:58:30.006 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-11 08:58:30.009 +07:00 [Debug] "POST" requests are not supported
2018-11-11 08:58:30.012 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 08:58:30.014 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 08:58:30.016 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-11 08:58:30.024 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-11 08:58:30.027 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-11 08:58:30.032 +07:00 [Verbose] Processing token request.
2018-11-11 08:58:30.040 +07:00 [Debug] Start token request.
2018-11-11 08:58:30.054 +07:00 [Debug] Start client validation
2018-11-11 08:58:30.063 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-11 08:58:30.067 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-11 08:58:30.069 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-11 08:58:30.079 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-11 08:58:30.082 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-11 08:58:30.094 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-11 08:58:30.096 +07:00 [Debug] Client validation success
2018-11-11 08:58:30.163 +07:00 [Debug] Connection id ""0HLI7F4J7OC9M"", Request id ""0HLI7F4J7OC9M:00000003"": started reading request body.
2018-11-11 08:58:30.181 +07:00 [Debug] Connection id ""0HLI7F4J7OC9M"", Request id ""0HLI7F4J7OC9M:00000003"": done reading request body.
2018-11-11 08:58:30.191 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-11 08:58:30.200 +07:00 [Debug] Start token request validation
2018-11-11 08:58:30.215 +07:00 [Debug] Start resource owner password token request validation
2018-11-11 08:58:30.257 +07:00 [Error] Requested scope not allowed: "api2"
2018-11-11 08:58:30.275 +07:00 [Error] "{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api2\"
  }
}"
2018-11-11 08:58:30.281 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenErrorResult"
2018-11-11 08:58:30.299 +07:00 [Debug] Connection id ""0HLI7F4J7OC9M"" completed keep alive response.
2018-11-11 08:58:30.309 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-11 08:58:30.309 +07:00 [Information] Request finished in 302.355ms 400 application/json; charset=UTF-8
2018-11-11 08:58:30.377 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 08:58:30.390 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-11 08:58:30.395 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 08:58:30.415 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 3425.7579ms
2018-11-11 08:58:30.419 +07:00 [Debug] Connection id ""0HLI7F4J7OC9L"" completed keep alive response.
2018-11-11 08:58:30.424 +07:00 [Information] Request finished in 3542.8629ms 400 text/plain; charset=utf-8
2018-11-11 08:59:13.564 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 08:59:13.612 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 08:59:13.621 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 08:59:13.633 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 08:59:13.644 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 08:59:13.649 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 08:59:13.651 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 08:59:13.660 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 08:59:13.670 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 08:59:13.684 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 08:59:13.685 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 08:59:13.750 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 08:59:13.767 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 08:59:13.768 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 08:59:13.768 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 08:59:13.769 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 08:59:13.769 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 08:59:13.981 +07:00 [Debug] Hosting starting
2018-11-11 08:59:14.086 +07:00 [Debug] Hosting started
2018-11-11 08:59:14.086 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 08:59:14.086 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 08:59:14.086 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 08:59:14.346 +07:00 [Debug] Connection id ""0HLI7F53V6EK6"" started.
2018-11-11 08:59:14.526 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 08:59:14.615 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 08:59:14.684 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 08:59:14.817 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 08:59:14.874 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 08:59:14.890 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 08:59:14.896 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 08:59:15.278 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 08:59:16.282 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-11 08:59:17.906 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1621.4063ms.
2018-11-11 08:59:18.086 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 08:59:18.152 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 66.4189ms.
2018-11-11 08:59:18.214 +07:00 [Debug] Executing action "/Index"
2018-11-11 08:59:18.272 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 08:59:18.273 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 08:59:18.388 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 08:59:18.518 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 08:59:18.694 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 176.2411ms.
2018-11-11 08:59:18.706 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 08:59:18.709 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 08:59:18.725 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 08:59:18.725 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 08:59:18.772 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 08:59:18.844 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 08:59:18.900 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 56.2636ms.
2018-11-11 08:59:18.949 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 08:59:18.967 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 08:59:18.973 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 08:59:19.070 +07:00 [Information] Executed action "/Index" in 853.9822ms
2018-11-11 08:59:19.080 +07:00 [Debug] Connection id ""0HLI7F53V6EK6"" completed keep alive response.
2018-11-11 08:59:19.093 +07:00 [Information] Request finished in 4577.7629ms 200 text/html; charset=utf-8
2018-11-11 08:59:23.136 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 08:59:23.136 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 08:59:23.136 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 08:59:23.138 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 08:59:23.138 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 08:59:23.138 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-11 08:59:23.140 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 08:59:23.211 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 08:59:23.306 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 08:59:23.310 +07:00 [Information] Test log
2018-11-11 08:59:23.380 +07:00 [Debug] Connection id ""0HLI7F53V6EK7"" started.
2018-11-11 08:59:23.382 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 08:59:23.382 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 08:59:23.382 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 08:59:23.382 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 08:59:23.383 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 08:59:23.403 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 08:59:23.404 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 08:59:23.407 +07:00 [Verbose] Processing discovery request.
2018-11-11 08:59:23.408 +07:00 [Debug] Start discovery request
2018-11-11 08:59:23.409 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 08:59:23.435 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-11 08:59:23.500 +07:00 [Debug] Connection id ""0HLI7F53V6EK7"" completed keep alive response.
2018-11-11 08:59:23.501 +07:00 [Information] Request finished in 118.8685ms 200 application/json; charset=UTF-8
2018-11-11 08:59:23.526 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-11 08:59:23.526 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-11 08:59:23.526 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 08:59:23.526 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 08:59:23.526 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-11 08:59:23.527 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-11 08:59:23.527 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-11 08:59:23.531 +07:00 [Verbose] Processing discovery request.
2018-11-11 08:59:23.531 +07:00 [Debug] Start key discovery request
2018-11-11 08:59:23.531 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 08:59:23.550 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-11 08:59:23.579 +07:00 [Debug] Connection id ""0HLI7F53V6EK7"" completed keep alive response.
2018-11-11 08:59:23.579 +07:00 [Information] Request finished in 53.5451ms 200 application/json; charset=UTF-8
2018-11-11 08:59:23.617 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-11 08:59:23.618 +07:00 [Debug] "POST" requests are not supported
2018-11-11 08:59:23.618 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 08:59:23.618 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 08:59:23.618 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-11 08:59:23.634 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-11 08:59:23.635 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-11 08:59:23.645 +07:00 [Verbose] Processing token request.
2018-11-11 08:59:23.658 +07:00 [Debug] Start token request.
2018-11-11 08:59:23.672 +07:00 [Debug] Start client validation
2018-11-11 08:59:23.682 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-11 08:59:23.683 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-11 08:59:23.683 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-11 08:59:23.693 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-11 08:59:23.694 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-11 08:59:23.706 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-11 08:59:23.706 +07:00 [Debug] Client validation success
2018-11-11 08:59:23.742 +07:00 [Debug] Connection id ""0HLI7F53V6EK7"", Request id ""0HLI7F53V6EK7:00000003"": started reading request body.
2018-11-11 08:59:23.757 +07:00 [Debug] Connection id ""0HLI7F53V6EK7"", Request id ""0HLI7F53V6EK7:00000003"": done reading request body.
2018-11-11 08:59:23.762 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-11 08:59:23.767 +07:00 [Debug] Start token request validation
2018-11-11 08:59:23.779 +07:00 [Debug] Start resource owner password token request validation
2018-11-11 08:59:24.314 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 08:59:24.314 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 08:59:24.339 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-11 08:59:24.354 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 08:59:24.354 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 08:59:24.357 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-11 08:59:24.627 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 08:59:24.753 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 08:59:24.807 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 08:59:24.986 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
                        FROM [AspNetUsers] AS [u]
                        WHERE [u].[NormalizedUserName] = @__normalizedUserName_0, 
                    shaper: UnbufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 08:59:25.052 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:59:25.266 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:59:25.328 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 08:59:25.427 +07:00 [Information] Executed DbCommand ("111"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 08:59:25.530 +07:00 [Debug] A data reader was disposed.
2018-11-11 08:59:25.531 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:59:25.542 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:59:25.554 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 08:59:25.647 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-11 08:59:25.661 +07:00 [Debug] Resource owner password token request validation success.
2018-11-11 08:59:25.661 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-11 08:59:25.672 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api2\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api2\"
  }
}"
2018-11-11 08:59:25.672 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-11 08:59:25.676 +07:00 [Verbose] Creating response for password request
2018-11-11 08:59:25.687 +07:00 [Verbose] Creating access token
2018-11-11 08:59:25.695 +07:00 [Debug] Getting claims for access token for client: "ApiApplication"
2018-11-11 08:59:25.695 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-11 08:59:25.747 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 08:59:25.763 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 08:59:25.831 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 08:59:25.834 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:59:25.836 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:59:25.837 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 08:59:25.843 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 08:59:25.845 +07:00 [Debug] A data reader was disposed.
2018-11-11 08:59:25.846 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:59:25.846 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:59:25.873 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 08:59:25.877 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 08:59:25.905 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 08:59:25.906 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:59:25.906 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:59:25.906 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 08:59:25.908 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 08:59:25.909 +07:00 [Debug] A data reader was disposed.
2018-11-11 08:59:25.909 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:59:25.909 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:59:25.930 +07:00 [Verbose] Creating JWT access token
2018-11-11 08:59:25.995 +07:00 [Verbose] Access token issued for "ApiApplication (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE5MDE1NjUsImV4cCI6MTU0MTkwNTE2NSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMiJdLCJjbGllbnRfaWQiOiJBcGlBcHBsaWNhdGlvbiIsInN1YiI6ImI5NmU0OGFiLTUyMWQtNDJjMS05OWI2LWZjNjYwM2ViY2Q3YSIsImF1dGhfdGltZSI6MTU0MTkwMTU2NSwiaWRwIjoibG9jYWwiLCJnaXZlbl9uYW1lIjoiVGjDoWkgSOG7k25nIFF1eeG7g24iLCJlbWFpbCI6InF1eWVudGhAZ21haWwuY29tIiwianRpIjoiODMwMTE2Y2JlYjRiMzk3M2RjODU5YWUzZjFiZjJmNWQiLCJzY29wZSI6WyJhcGkyIl0sImFtciI6WyJwd2QiXX0.Xjfc7b69CHImxd2U5GCMEHZnKdK4tfzAA-3DSiL9Xt1p0VNiBti-TJ_xWv9CZDWFijgD_qjqIWc6PdlRNj39qg84X62Bzg0HdL_ofgDyw8X9JzN24AMLsNcHknTu031qqWgFSLjtukuSne-YogeyCYMUfD1kqTr3ZsfEdpV5MuT0TPjN2P600AOIQBkzcFLcB0TRFXsojuIzWggpOvQ2NmlSH_JiBhtaSte0vevcBa10p6Mu4clO1iuSNxpNAHlUJhygpsXUryBbf7wgUWBQS3zRNJOQUYRLmjM2uzaCXooI_76KFSLwgGHqZL6EgRJC_VoYm31kmK4Ob3z_UJ2sJA"
2018-11-11 08:59:25.995 +07:00 [Debug] Token request success.
2018-11-11 08:59:25.996 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-11 08:59:26.005 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 08:59:26.007 +07:00 [Debug] Connection id ""0HLI7F53V6EK7"" completed keep alive response.
2018-11-11 08:59:26.011 +07:00 [Information] Request finished in 2393.7499ms 200 application/json; charset=UTF-8
2018-11-11 08:59:26.017 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 08:59:26.022 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:59:26.022 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:59:26.024 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 08:59:26.024 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 08:59:26.024 +07:00 [Debug] A data reader was disposed.
2018-11-11 08:59:26.024 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:59:26.025 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:59:26.025 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 08:59:26.031 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:59:26.031 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:59:26.031 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 08:59:26.032 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 08:59:26.032 +07:00 [Debug] A data reader was disposed.
2018-11-11 08:59:26.032 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:59:26.032 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 08:59:26.041 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-11 08:59:26.056 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 08:59:26.061 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 08:59:26.061 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 08:59:26.088 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 2877.6551ms
2018-11-11 08:59:26.089 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 08:59:26.089 +07:00 [Debug] Connection id ""0HLI7F53V6EK6"" completed keep alive response.
2018-11-11 08:59:26.089 +07:00 [Information] Request finished in 2953.2426ms 200 application/json; charset=utf-8
2018-11-11 08:59:26.107 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 08:59:26.118 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 08:59:26.133 +07:00 [Debug] Connection id ""0HLI7F53V6EK7"" completed keep alive response.
2018-11-11 08:59:26.133 +07:00 [Information] Request finished in 26.1634ms 200 image/x-icon
2018-11-11 09:00:24.358 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 09:00:24.406 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 09:00:24.415 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 09:00:24.427 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 09:00:24.440 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 09:00:24.446 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 09:00:24.448 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 09:00:24.459 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 09:00:24.465 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 09:00:24.477 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 09:00:24.479 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 09:00:24.538 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 09:00:24.555 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 09:00:24.556 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 09:00:24.557 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 09:00:24.557 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 09:00:24.557 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 09:00:24.762 +07:00 [Debug] Hosting starting
2018-11-11 09:00:24.870 +07:00 [Debug] Hosting started
2018-11-11 09:00:24.870 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 09:00:24.870 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 09:00:24.870 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 09:00:25.110 +07:00 [Debug] Connection id ""0HLI7F5P25OGD"" started.
2018-11-11 09:00:25.283 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 09:00:25.375 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 09:00:25.444 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 09:00:25.585 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 09:00:25.639 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 09:00:25.655 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 09:00:25.660 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 09:00:26.028 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 09:00:27.205 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-11 09:00:28.741 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1532.5282ms.
2018-11-11 09:00:28.864 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 09:00:28.935 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 71.0652ms.
2018-11-11 09:00:28.988 +07:00 [Debug] Executing action "/Index"
2018-11-11 09:00:29.041 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 09:00:29.043 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 09:00:29.166 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 09:00:29.300 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 09:00:29.454 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 153.3969ms.
2018-11-11 09:00:29.466 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 09:00:29.470 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 09:00:29.488 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 09:00:29.488 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 09:00:29.539 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 09:00:29.622 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 09:00:29.697 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 74.5357ms.
2018-11-11 09:00:29.746 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 09:00:29.765 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 09:00:29.771 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 09:00:29.872 +07:00 [Information] Executed action "/Index" in 881.9797ms
2018-11-11 09:00:29.883 +07:00 [Debug] Connection id ""0HLI7F5P25OGD"" completed keep alive response.
2018-11-11 09:00:29.890 +07:00 [Information] Request finished in 4616.2852ms 200 text/html; charset=utf-8
2018-11-11 09:00:32.360 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 09:00:32.360 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 09:00:32.360 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 09:00:32.362 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 09:00:32.362 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 09:00:32.362 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 09:00:32.368 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 09:00:32.369 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 09:00:32.374 +07:00 [Verbose] Processing discovery request.
2018-11-11 09:00:32.375 +07:00 [Debug] Start discovery request
2018-11-11 09:00:32.378 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 09:00:32.427 +07:00 [Fatal] Unhandled exception: "Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: openid"
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: openid
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.<GetAllEnabledResourcesAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 108
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.<CreateDiscoveryDocumentAsync>d__8.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\DiscoveryResponseGenerator.cs:line 164
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.<ProcessAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\DiscoveryEndpoint.cs:line 58
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
2018-11-11 09:00:32.436 +07:00 [Debug] System.Exception occurred, checking if Entity Framework recorded this exception as resulting from a failed database operation.
2018-11-11 09:00:32.436 +07:00 [Debug] Entity Framework did not record any exceptions due to failed database operations. This means the current exception is not a failed Entity Framework database operation, or the current exception occurred from a DbContext that was not obtained from request services.
2018-11-11 09:00:32.436 +07:00 [Error] An unhandled exception has occurred while executing the request
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: openid
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.<GetAllEnabledResourcesAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 108
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.<CreateDiscoveryDocumentAsync>d__8.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\DiscoveryResponseGenerator.cs:line 164
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.<ProcessAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\DiscoveryEndpoint.cs:line 58
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 36
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-11-11 09:00:32.596 +07:00 [Debug] Connection id ""0HLI7F5P25OGD"" completed keep alive response.
2018-11-11 09:00:32.596 +07:00 [Information] Request finished in 236.796ms 500 text/html; charset=utf-8
2018-11-11 09:00:54.039 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 09:00:54.040 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 09:00:54.040 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 09:00:54.040 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 09:00:54.040 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 09:00:54.040 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-11 09:00:54.042 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 09:00:54.105 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 09:00:54.205 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 09:00:54.209 +07:00 [Information] Test log
2018-11-11 09:00:54.283 +07:00 [Debug] Connection id ""0HLI7F5P25OGE"" started.
2018-11-11 09:00:54.285 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 09:00:54.286 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 09:00:54.286 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 09:00:54.286 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 09:00:54.287 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 09:00:54.287 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 09:00:54.287 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 09:00:54.287 +07:00 [Verbose] Processing discovery request.
2018-11-11 09:00:54.287 +07:00 [Debug] Start discovery request
2018-11-11 09:00:54.287 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 09:00:54.290 +07:00 [Fatal] Unhandled exception: "Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: openid"
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: openid
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.<GetAllEnabledResourcesAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 108
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.<CreateDiscoveryDocumentAsync>d__8.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\DiscoveryResponseGenerator.cs:line 164
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.<ProcessAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\DiscoveryEndpoint.cs:line 58
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
2018-11-11 09:00:54.296 +07:00 [Debug] System.Exception occurred, checking if Entity Framework recorded this exception as resulting from a failed database operation.
2018-11-11 09:00:54.296 +07:00 [Debug] Entity Framework did not record any exceptions due to failed database operations. This means the current exception is not a failed Entity Framework database operation, or the current exception occurred from a DbContext that was not obtained from request services.
2018-11-11 09:00:54.296 +07:00 [Error] An unhandled exception has occurred while executing the request
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: openid
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.<GetAllEnabledResourcesAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 108
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.<CreateDiscoveryDocumentAsync>d__8.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\DiscoveryResponseGenerator.cs:line 164
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.<ProcessAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\DiscoveryEndpoint.cs:line 58
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 36
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-11-11 09:00:54.346 +07:00 [Debug] Connection id ""0HLI7F5P25OGE"" completed keep alive response.
2018-11-11 09:00:54.346 +07:00 [Information] Request finished in 60.6105ms 500 text/html; charset=utf-8
2018-11-11 09:00:54.354 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-11 09:00:54.370 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 09:00:54.375 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-11 09:00:54.375 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 09:00:54.384 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 278.0359ms
2018-11-11 09:00:54.384 +07:00 [Debug] Connection id ""0HLI7F5P25OGD"" completed keep alive response.
2018-11-11 09:00:54.384 +07:00 [Information] Request finished in 344.623ms 400 text/plain; charset=utf-8
2018-11-11 09:00:54.401 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 09:00:54.415 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 09:00:54.426 +07:00 [Debug] Connection id ""0HLI7F5P25OGE"" completed keep alive response.
2018-11-11 09:00:54.426 +07:00 [Information] Request finished in 25.1616ms 200 image/x-icon
2018-11-11 09:02:15.088 +07:00 [Debug] Connection id ""0HLI7F5P25OGD"" received FIN.
2018-11-11 09:02:15.088 +07:00 [Debug] Connection id ""0HLI7F5P25OGE"" received FIN.
2018-11-11 09:02:15.093 +07:00 [Debug] Connection id ""0HLI7F5P25OGD"" disconnecting.
2018-11-11 09:02:15.093 +07:00 [Debug] Connection id ""0HLI7F5P25OGE"" disconnecting.
2018-11-11 09:02:15.110 +07:00 [Debug] Connection id ""0HLI7F5P25OGD"" sending FIN.
2018-11-11 09:02:15.110 +07:00 [Debug] Connection id ""0HLI7F5P25OGE"" sending FIN.
2018-11-11 09:02:15.118 +07:00 [Debug] Connection id ""0HLI7F5P25OGD"" stopped.
2018-11-11 09:02:15.118 +07:00 [Debug] Connection id ""0HLI7F5P25OGE"" stopped.
2018-11-11 09:04:44.347 +07:00 [Debug] Connection id ""0HLI7F5P25OGF"" started.
2018-11-11 09:04:44.348 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 09:04:44.348 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 09:04:44.348 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 09:04:44.348 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 09:04:44.348 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 09:04:44.348 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-11 09:04:44.349 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 09:04:44.350 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 09:04:44.350 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 09:04:44.350 +07:00 [Information] Test log
2018-11-11 09:04:44.361 +07:00 [Debug] Connection id ""0HLI7F5P25OGG"" started.
2018-11-11 09:04:44.367 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 09:04:44.367 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 09:04:44.367 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 09:04:44.367 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 09:04:44.367 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 09:04:44.369 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 09:04:44.369 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 09:04:44.369 +07:00 [Verbose] Processing discovery request.
2018-11-11 09:04:44.369 +07:00 [Debug] Start discovery request
2018-11-11 09:04:44.369 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 09:04:44.374 +07:00 [Fatal] Unhandled exception: "Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: openid"
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: openid
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.<GetAllEnabledResourcesAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 108
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.<CreateDiscoveryDocumentAsync>d__8.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\DiscoveryResponseGenerator.cs:line 164
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.<ProcessAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\DiscoveryEndpoint.cs:line 58
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
2018-11-11 09:04:44.393 +07:00 [Debug] System.Exception occurred, checking if Entity Framework recorded this exception as resulting from a failed database operation.
2018-11-11 09:04:44.393 +07:00 [Debug] Entity Framework did not record any exceptions due to failed database operations. This means the current exception is not a failed Entity Framework database operation, or the current exception occurred from a DbContext that was not obtained from request services.
2018-11-11 09:04:44.394 +07:00 [Error] An unhandled exception has occurred while executing the request
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: openid
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.<GetAllEnabledResourcesAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 108
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.<CreateDiscoveryDocumentAsync>d__8.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\DiscoveryResponseGenerator.cs:line 164
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.<ProcessAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\DiscoveryEndpoint.cs:line 58
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 36
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-11-11 09:04:44.435 +07:00 [Debug] Connection id ""0HLI7F5P25OGG"" completed keep alive response.
2018-11-11 09:04:44.435 +07:00 [Information] Request finished in 68.3784ms 500 text/html; charset=utf-8
2018-11-11 09:04:44.436 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-11 09:04:44.437 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 09:04:44.437 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-11 09:04:44.437 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 09:04:44.437 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 86.9855ms
2018-11-11 09:04:44.437 +07:00 [Debug] Connection id ""0HLI7F5P25OGF"" completed keep alive response.
2018-11-11 09:04:44.437 +07:00 [Information] Request finished in 89.8036ms 400 text/plain; charset=utf-8
2018-11-11 09:05:55.083 +07:00 [Debug] Connection id ""0HLI7F5P25OGG"" received FIN.
2018-11-11 09:05:55.083 +07:00 [Debug] Connection id ""0HLI7F5P25OGF"" received FIN.
2018-11-11 09:05:55.083 +07:00 [Debug] Connection id ""0HLI7F5P25OGG"" disconnecting.
2018-11-11 09:05:55.083 +07:00 [Debug] Connection id ""0HLI7F5P25OGF"" disconnecting.
2018-11-11 09:05:55.083 +07:00 [Debug] Connection id ""0HLI7F5P25OGF"" sending FIN.
2018-11-11 09:05:55.083 +07:00 [Debug] Connection id ""0HLI7F5P25OGG"" sending FIN.
2018-11-11 09:05:55.083 +07:00 [Debug] Connection id ""0HLI7F5P25OGF"" stopped.
2018-11-11 09:05:55.083 +07:00 [Debug] Connection id ""0HLI7F5P25OGG"" stopped.
2018-11-11 09:06:11.510 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 09:06:11.564 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 09:06:11.574 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 09:06:11.589 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 09:06:11.603 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 09:06:11.608 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 09:06:11.611 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 09:06:11.622 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 09:06:11.630 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 09:06:11.643 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 09:06:11.645 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 09:06:11.714 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 09:06:11.732 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 09:06:11.735 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 09:06:11.735 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 09:06:11.736 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 09:06:11.736 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 09:06:11.962 +07:00 [Debug] Hosting starting
2018-11-11 09:06:12.087 +07:00 [Debug] Hosting started
2018-11-11 09:06:12.087 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 09:06:12.087 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 09:06:12.087 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 09:06:12.294 +07:00 [Debug] Connection id ""0HLI7F90H5461"" started.
2018-11-11 09:06:12.455 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 09:06:12.549 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 09:06:12.622 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 09:06:12.769 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 09:06:12.834 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 09:06:12.851 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 09:06:12.857 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 09:06:13.245 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 09:06:14.381 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-11 09:06:14.480 +07:00 [Debug] Connection id ""0HLI7F90H5462"" started.
2018-11-11 09:06:14.481 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 09:06:14.481 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 09:06:14.482 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 09:06:14.483 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 09:06:14.483 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 09:06:14.483 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-11 09:06:14.485 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 09:06:14.616 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 09:06:14.748 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 09:06:14.754 +07:00 [Information] Test log
2018-11-11 09:06:14.826 +07:00 [Debug] Connection id ""0HLI7F90H5463"" started.
2018-11-11 09:06:14.828 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 09:06:14.828 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 09:06:14.829 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 09:06:14.829 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 09:06:14.830 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 09:06:14.834 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 09:06:14.835 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 09:06:14.838 +07:00 [Verbose] Processing discovery request.
2018-11-11 09:06:14.839 +07:00 [Debug] Start discovery request
2018-11-11 09:06:14.840 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 09:06:14.893 +07:00 [Fatal] Unhandled exception: "Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: openid"
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: openid
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.<GetAllEnabledResourcesAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 108
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.<CreateDiscoveryDocumentAsync>d__8.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\DiscoveryResponseGenerator.cs:line 164
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.<ProcessAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\DiscoveryEndpoint.cs:line 58
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
2018-11-11 09:06:14.903 +07:00 [Debug] System.Exception occurred, checking if Entity Framework recorded this exception as resulting from a failed database operation.
2018-11-11 09:06:14.903 +07:00 [Debug] Entity Framework did not record any exceptions due to failed database operations. This means the current exception is not a failed Entity Framework database operation, or the current exception occurred from a DbContext that was not obtained from request services.
2018-11-11 09:06:14.904 +07:00 [Error] An unhandled exception has occurred while executing the request
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: openid
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.<GetAllEnabledResourcesAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 108
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.<CreateDiscoveryDocumentAsync>d__8.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\DiscoveryResponseGenerator.cs:line 164
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.<ProcessAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\DiscoveryEndpoint.cs:line 58
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 36
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-11-11 09:06:15.116 +07:00 [Debug] Connection id ""0HLI7F90H5463"" completed keep alive response.
2018-11-11 09:06:15.124 +07:00 [Information] Request finished in 289.3629ms 500 text/html; charset=utf-8
2018-11-11 09:06:15.125 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-11 09:06:15.154 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 09:06:15.159 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-11 09:06:15.159 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 09:06:15.177 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 555.7308ms
2018-11-11 09:06:15.178 +07:00 [Debug] Connection id ""0HLI7F90H5462"" completed keep alive response.
2018-11-11 09:06:15.178 +07:00 [Information] Request finished in 696.8943ms 400 text/plain; charset=utf-8
2018-11-11 09:06:15.191 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 09:06:15.205 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 09:06:15.218 +07:00 [Debug] Connection id ""0HLI7F90H5463"" completed keep alive response.
2018-11-11 09:06:15.218 +07:00 [Information] Request finished in 27.6043ms 200 image/x-icon
2018-11-11 09:06:15.884 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1501.9224ms.
2018-11-11 09:06:16.034 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 09:06:16.100 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 66.0771ms.
2018-11-11 09:06:16.117 +07:00 [Debug] Executing action "/Index"
2018-11-11 09:06:16.183 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 09:06:16.185 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 09:06:16.311 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 09:06:16.435 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 09:06:16.641 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 205.7929ms.
2018-11-11 09:06:16.660 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 09:06:16.664 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 09:06:16.681 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 09:06:16.682 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 09:06:16.737 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 09:06:16.816 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 09:06:16.872 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 56.7688ms.
2018-11-11 09:06:16.902 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 09:06:16.915 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 09:06:16.919 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 09:06:16.966 +07:00 [Information] Executed action "/Index" in 848.7133ms
2018-11-11 09:06:16.968 +07:00 [Debug] Connection id ""0HLI7F90H5461"" completed keep alive response.
2018-11-11 09:06:16.968 +07:00 [Information] Request finished in 4530.0908ms 200 text/html; charset=utf-8
2018-11-11 09:06:18.278 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 09:06:18.278 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 09:06:18.279 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 09:06:18.279 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 09:06:18.279 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 09:06:18.279 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-11 09:06:18.279 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 09:06:18.280 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 09:06:18.281 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 09:06:18.281 +07:00 [Information] Test log
2018-11-11 09:06:18.291 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 09:06:18.291 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 09:06:18.291 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 09:06:18.292 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 09:06:18.292 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 09:06:18.292 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 09:06:18.292 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 09:06:18.292 +07:00 [Verbose] Processing discovery request.
2018-11-11 09:06:18.292 +07:00 [Debug] Start discovery request
2018-11-11 09:06:18.293 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 09:06:18.296 +07:00 [Fatal] Unhandled exception: "Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: openid"
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: openid
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.<GetAllEnabledResourcesAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 108
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.<CreateDiscoveryDocumentAsync>d__8.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\DiscoveryResponseGenerator.cs:line 164
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.<ProcessAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\DiscoveryEndpoint.cs:line 58
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
2018-11-11 09:06:18.302 +07:00 [Debug] System.Exception occurred, checking if Entity Framework recorded this exception as resulting from a failed database operation.
2018-11-11 09:06:18.302 +07:00 [Debug] Entity Framework did not record any exceptions due to failed database operations. This means the current exception is not a failed Entity Framework database operation, or the current exception occurred from a DbContext that was not obtained from request services.
2018-11-11 09:06:18.302 +07:00 [Error] An unhandled exception has occurred while executing the request
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: openid
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.<GetAllEnabledResourcesAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 108
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.<CreateDiscoveryDocumentAsync>d__8.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\DiscoveryResponseGenerator.cs:line 164
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.<ProcessAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\DiscoveryEndpoint.cs:line 58
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 36
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-11-11 09:06:18.346 +07:00 [Debug] Connection id ""0HLI7F90H5463"" completed keep alive response.
2018-11-11 09:06:18.346 +07:00 [Information] Request finished in 54.7201ms 500 text/html; charset=utf-8
2018-11-11 09:06:18.347 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-11 09:06:18.348 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 09:06:18.348 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-11 09:06:18.348 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 09:06:18.348 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 67.4805ms
2018-11-11 09:06:18.348 +07:00 [Debug] Connection id ""0HLI7F90H5462"" completed keep alive response.
2018-11-11 09:06:18.348 +07:00 [Information] Request finished in 70ms 400 text/plain; charset=utf-8
2018-11-11 09:06:18.364 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 09:06:18.364 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 09:06:18.365 +07:00 [Debug] Connection id ""0HLI7F90H5461"" completed keep alive response.
2018-11-11 09:06:18.365 +07:00 [Information] Request finished in 1.5333ms 200 image/x-icon
2018-11-11 09:06:20.682 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 09:06:20.682 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 09:06:20.682 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 09:06:20.682 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 09:06:20.683 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 09:06:20.683 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-11 09:06:20.683 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 09:06:20.683 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 09:06:20.683 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 09:06:20.683 +07:00 [Information] Test log
2018-11-11 09:06:20.692 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 09:06:20.693 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 09:06:20.693 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 09:06:20.693 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 09:06:20.693 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 09:06:20.693 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 09:06:20.693 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 09:06:20.693 +07:00 [Verbose] Processing discovery request.
2018-11-11 09:06:20.693 +07:00 [Debug] Start discovery request
2018-11-11 09:06:20.693 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 09:06:20.696 +07:00 [Fatal] Unhandled exception: "Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: openid"
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: openid
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.<GetAllEnabledResourcesAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 108
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.<CreateDiscoveryDocumentAsync>d__8.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\DiscoveryResponseGenerator.cs:line 164
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.<ProcessAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\DiscoveryEndpoint.cs:line 58
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
2018-11-11 09:06:20.703 +07:00 [Debug] System.Exception occurred, checking if Entity Framework recorded this exception as resulting from a failed database operation.
2018-11-11 09:06:20.703 +07:00 [Debug] Entity Framework did not record any exceptions due to failed database operations. This means the current exception is not a failed Entity Framework database operation, or the current exception occurred from a DbContext that was not obtained from request services.
2018-11-11 09:06:20.704 +07:00 [Error] An unhandled exception has occurred while executing the request
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: openid
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.<GetAllEnabledResourcesAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 108
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.<CreateDiscoveryDocumentAsync>d__8.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\DiscoveryResponseGenerator.cs:line 164
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.<ProcessAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\DiscoveryEndpoint.cs:line 58
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 36
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-11-11 09:06:20.745 +07:00 [Debug] Connection id ""0HLI7F90H5462"" completed keep alive response.
2018-11-11 09:06:20.745 +07:00 [Information] Request finished in 52.8159ms 500 text/html; charset=utf-8
2018-11-11 09:06:20.746 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-11 09:06:20.747 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 09:06:20.747 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-11 09:06:20.747 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 09:06:20.747 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 64.0368ms
2018-11-11 09:06:20.747 +07:00 [Debug] Connection id ""0HLI7F90H5463"" completed keep alive response.
2018-11-11 09:06:20.747 +07:00 [Information] Request finished in 65.3305ms 400 text/plain; charset=utf-8
2018-11-11 09:06:41.174 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 09:06:41.232 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 09:06:41.242 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 09:06:41.255 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 09:06:41.267 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 09:06:41.271 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 09:06:41.273 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 09:06:41.283 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 09:06:41.290 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 09:06:41.302 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 09:06:41.304 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 09:06:41.376 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 09:06:41.391 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 09:06:41.393 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 09:06:41.393 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 09:06:41.394 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 09:06:41.394 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 09:06:41.628 +07:00 [Debug] Hosting starting
2018-11-11 09:06:41.748 +07:00 [Debug] Hosting started
2018-11-11 09:06:41.748 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 09:06:41.748 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 09:06:41.748 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 09:06:41.857 +07:00 [Debug] Connection id ""0HLI7F99B433T"" started.
2018-11-11 09:06:42.027 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 09:06:42.120 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 09:06:42.195 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 09:06:42.341 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 09:06:42.395 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 09:06:42.412 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 09:06:42.417 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 09:06:42.807 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 09:06:43.902 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-11 09:06:45.524 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1618.3388ms.
2018-11-11 09:06:45.666 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 09:06:45.735 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 69.3079ms.
2018-11-11 09:06:45.801 +07:00 [Debug] Executing action "/Index"
2018-11-11 09:06:45.854 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 09:06:45.856 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 09:06:45.979 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 09:06:46.124 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 09:06:46.217 +07:00 [Debug] Connection id ""0HLI7F99B433U"" started.
2018-11-11 09:06:46.218 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 09:06:46.218 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 09:06:46.219 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 09:06:46.220 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 09:06:46.220 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 09:06:46.220 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-11 09:06:46.222 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 09:06:46.290 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 09:06:46.316 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 191.7081ms.
2018-11-11 09:06:46.332 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 09:06:46.335 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 09:06:46.358 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 09:06:46.358 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 09:06:46.400 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 09:06:46.405 +07:00 [Information] Test log
2018-11-11 09:06:46.416 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 09:06:46.481 +07:00 [Debug] Connection id ""0HLI7F99B433V"" started.
2018-11-11 09:06:46.483 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 09:06:46.483 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 09:06:46.484 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 09:06:46.484 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 09:06:46.485 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 09:06:46.489 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 09:06:46.490 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 09:06:46.493 +07:00 [Verbose] Processing discovery request.
2018-11-11 09:06:46.494 +07:00 [Debug] Start discovery request
2018-11-11 09:06:46.495 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 09:06:46.525 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-11 09:06:46.567 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 09:06:46.634 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 66.8754ms.
2018-11-11 09:06:46.657 +07:00 [Debug] Connection id ""0HLI7F99B433V"" completed keep alive response.
2018-11-11 09:06:46.662 +07:00 [Information] Request finished in 175.1889ms 200 application/json; charset=UTF-8
2018-11-11 09:06:46.684 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 09:06:46.687 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-11 09:06:46.687 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-11 09:06:46.687 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 09:06:46.687 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 09:06:46.688 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-11 09:06:46.689 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-11 09:06:46.689 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-11 09:06:46.694 +07:00 [Verbose] Processing discovery request.
2018-11-11 09:06:46.695 +07:00 [Debug] Start key discovery request
2018-11-11 09:06:46.695 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 09:06:46.702 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 09:06:46.705 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-11 09:06:46.709 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 09:06:46.728 +07:00 [Debug] Connection id ""0HLI7F99B433V"" completed keep alive response.
2018-11-11 09:06:46.728 +07:00 [Information] Request finished in 40.9511ms 200 application/json; charset=UTF-8
2018-11-11 09:06:46.763 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-11 09:06:46.764 +07:00 [Debug] "POST" requests are not supported
2018-11-11 09:06:46.764 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 09:06:46.764 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 09:06:46.765 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-11 09:06:46.780 +07:00 [Information] Executed action "/Index" in 977.7492ms
2018-11-11 09:06:46.780 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-11 09:06:46.781 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-11 09:06:46.784 +07:00 [Debug] Connection id ""0HLI7F99B433T"" completed keep alive response.
2018-11-11 09:06:46.785 +07:00 [Information] Request finished in 4774.3516ms 200 text/html; charset=utf-8
2018-11-11 09:06:46.785 +07:00 [Verbose] Processing token request.
2018-11-11 09:06:46.791 +07:00 [Debug] Start token request.
2018-11-11 09:06:46.801 +07:00 [Debug] Start client validation
2018-11-11 09:06:46.810 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-11 09:06:46.811 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-11 09:06:46.811 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-11 09:06:46.820 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-11 09:06:46.820 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-11 09:06:46.831 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-11 09:06:46.831 +07:00 [Debug] Client validation success
2018-11-11 09:06:46.873 +07:00 [Debug] Connection id ""0HLI7F99B433V"", Request id ""0HLI7F99B433V:00000003"": started reading request body.
2018-11-11 09:06:46.889 +07:00 [Debug] Connection id ""0HLI7F99B433V"", Request id ""0HLI7F99B433V:00000003"": done reading request body.
2018-11-11 09:06:46.896 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-11 09:06:46.901 +07:00 [Debug] Start token request validation
2018-11-11 09:06:46.914 +07:00 [Debug] Start resource owner password token request validation
2018-11-11 09:06:47.471 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 09:06:47.472 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 09:06:47.496 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-11 09:06:47.511 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 09:06:47.512 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 09:06:47.515 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-11 09:06:47.787 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 09:06:47.914 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 09:06:47.983 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 09:06:48.204 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
                        FROM [AspNetUsers] AS [u]
                        WHERE [u].[NormalizedUserName] = @__normalizedUserName_0, 
                    shaper: UnbufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 09:06:48.281 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 09:06:48.465 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 09:06:48.520 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 09:06:48.619 +07:00 [Information] Executed DbCommand ("112"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 09:06:48.723 +07:00 [Debug] A data reader was disposed.
2018-11-11 09:06:48.723 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 09:06:48.735 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 09:06:48.746 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 09:06:48.839 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-11 09:06:48.853 +07:00 [Debug] Resource owner password token request validation success.
2018-11-11 09:06:48.854 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-11 09:06:48.864 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api2\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api2\"
  }
}"
2018-11-11 09:06:48.864 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-11 09:06:48.867 +07:00 [Verbose] Creating response for password request
2018-11-11 09:06:48.878 +07:00 [Verbose] Creating access token
2018-11-11 09:06:48.886 +07:00 [Debug] Getting claims for access token for client: "ApiApplication"
2018-11-11 09:06:48.886 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-11 09:06:48.935 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 09:06:48.950 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 09:06:49.019 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 09:06:49.020 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 09:06:49.022 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 09:06:49.022 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 09:06:49.028 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 09:06:49.030 +07:00 [Debug] A data reader was disposed.
2018-11-11 09:06:49.031 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 09:06:49.031 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 09:06:49.058 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 09:06:49.063 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 09:06:49.091 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 09:06:49.091 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 09:06:49.092 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 09:06:49.092 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 09:06:49.094 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 09:06:49.095 +07:00 [Debug] A data reader was disposed.
2018-11-11 09:06:49.095 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 09:06:49.095 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 09:06:49.115 +07:00 [Verbose] Creating JWT access token
2018-11-11 09:06:49.176 +07:00 [Verbose] Access token issued for "ApiApplication (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE5MDIwMDksImV4cCI6MTU0MTkwNTYwOSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMiJdLCJjbGllbnRfaWQiOiJBcGlBcHBsaWNhdGlvbiIsInN1YiI6ImI5NmU0OGFiLTUyMWQtNDJjMS05OWI2LWZjNjYwM2ViY2Q3YSIsImF1dGhfdGltZSI6MTU0MTkwMjAwOCwiaWRwIjoibG9jYWwiLCJnaXZlbl9uYW1lIjoiVGjDoWkgSOG7k25nIFF1eeG7g24iLCJlbWFpbCI6InF1eWVudGhAZ21haWwuY29tIiwianRpIjoiNGM1YTE1NDlmZjUzYWU5YWE3ZWRkNTAzZjkzOTU5ZjciLCJzY29wZSI6WyJhcGkyIl0sImFtciI6WyJwd2QiXX0.LeJ-yhelvn1EjkO3JryAVvmL0c-SfXonSvVAf3-Iw4C9IDXBQXYedl_KwB-ow_Q6Qag6TNTRgB3B-bKUXJEDtryc-ZlndjSEz3KBPnaiB7tUScVM62-KNWJGN_byY5kfYRpKXUHnomPxc_k80sUZDH1YS_RMO4OlAe-KqC37DZfHo_kI6HSccItW0ky5NBAcLq-9S3-x21AsuVYeY2pwtsqAs0Xv0-RJ5hjCvApGbmaG0YL8e5xg0aZmIYb0vvP8wXftJB5R1rmWKuLgAVfcoBSSNFw3RpvNwME3kzkK0saPtbNH10tdQcLXuoiQtZ6fz7uI6e1oXM7YIrdEKAB7KQ"
2018-11-11 09:06:49.177 +07:00 [Debug] Token request success.
2018-11-11 09:06:49.177 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-11 09:06:49.186 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 09:06:49.189 +07:00 [Debug] Connection id ""0HLI7F99B433V"" completed keep alive response.
2018-11-11 09:06:49.191 +07:00 [Information] Request finished in 2427.666ms 200 application/json; charset=UTF-8
2018-11-11 09:06:49.196 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 09:06:49.203 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 09:06:49.203 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 09:06:49.204 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 09:06:49.204 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 09:06:49.205 +07:00 [Debug] A data reader was disposed.
2018-11-11 09:06:49.205 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 09:06:49.205 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 09:06:49.205 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 09:06:49.211 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 09:06:49.211 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 09:06:49.212 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 09:06:49.212 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 09:06:49.212 +07:00 [Debug] A data reader was disposed.
2018-11-11 09:06:49.212 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 09:06:49.212 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 09:06:49.223 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-11 09:06:49.237 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 09:06:49.242 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 09:06:49.242 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 09:06:49.271 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 2981.3169ms
2018-11-11 09:06:49.271 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 09:06:49.271 +07:00 [Debug] Connection id ""0HLI7F99B433U"" completed keep alive response.
2018-11-11 09:06:49.271 +07:00 [Information] Request finished in 3053.3965ms 200 application/json; charset=utf-8
2018-11-11 09:08:31.823 +07:00 [Debug] Connection id ""0HLI7F99B433V"" received FIN.
2018-11-11 09:08:31.823 +07:00 [Debug] Connection id ""0HLI7F99B433U"" received FIN.
2018-11-11 09:08:31.823 +07:00 [Debug] Connection id ""0HLI7F99B433T"" received FIN.
2018-11-11 09:08:31.829 +07:00 [Debug] Connection id ""0HLI7F99B433V"" disconnecting.
2018-11-11 09:08:31.829 +07:00 [Debug] Connection id ""0HLI7F99B433U"" disconnecting.
2018-11-11 09:08:31.829 +07:00 [Debug] Connection id ""0HLI7F99B433T"" disconnecting.
2018-11-11 09:08:31.837 +07:00 [Debug] Connection id ""0HLI7F99B433V"" sending FIN.
2018-11-11 09:08:31.837 +07:00 [Debug] Connection id ""0HLI7F99B433T"" sending FIN.
2018-11-11 09:08:31.837 +07:00 [Debug] Connection id ""0HLI7F99B433U"" sending FIN.
2018-11-11 09:08:31.846 +07:00 [Debug] Connection id ""0HLI7F99B433U"" stopped.
2018-11-11 09:08:31.846 +07:00 [Debug] Connection id ""0HLI7F99B433T"" stopped.
2018-11-11 09:08:31.846 +07:00 [Debug] Connection id ""0HLI7F99B433V"" stopped.
2018-11-11 14:56:13.844 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 14:56:13.888 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 14:56:13.896 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 14:56:13.909 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 14:56:13.919 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 14:56:13.923 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 14:56:13.925 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 14:56:13.935 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 14:56:13.941 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 14:56:13.951 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 14:56:13.953 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 14:56:14.011 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 14:56:14.025 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 14:56:14.026 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 14:56:14.027 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 14:56:14.027 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 14:56:14.027 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 14:56:14.252 +07:00 [Debug] Hosting starting
2018-11-11 14:56:14.398 +07:00 [Debug] Hosting started
2018-11-11 14:56:14.398 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 14:56:14.398 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 14:56:14.398 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 14:56:14.593 +07:00 [Debug] Connection id ""0HLI7LCJMN4OL"" started.
2018-11-11 14:56:14.739 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 14:56:14.822 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 14:56:14.885 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 14:56:15.010 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 14:56:15.615 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 14:56:15.616 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 14:56:15.642 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-11 14:56:15.658 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 14:56:15.658 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 14:56:15.661 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-11 14:56:15.926 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 14:56:16.062 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser e in DbSet<ApplicationUser>
where Property([e], \"Id\") == __get_Item_0
select [e]).FirstOrDefault()"'
2018-11-11 14:56:16.128 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser e in DbSet<ApplicationUser>
where Property([e], \"Id\") == __get_Item_0
select [e]).FirstOrDefault()"'
2018-11-11 14:56:16.309 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
                        FROM [AspNetUsers] AS [e]
                        WHERE [e].[Id] = @__get_Item_0, 
                    shaper: BufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 14:56:16.386 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:16.595 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:16.649 +07:00 [Debug] Executing DbCommand [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-11-11 14:56:16.749 +07:00 [Information] Executed DbCommand ("112"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-11-11 14:56:16.862 +07:00 [Debug] A data reader was disposed.
2018-11-11 14:56:16.863 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:16.874 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:16.886 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 14:56:16.981 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 14:56:16.989 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 14:56:17.053 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 14:56:17.054 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:17.055 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:17.056 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 14:56:17.060 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 14:56:17.062 +07:00 [Debug] A data reader was disposed.
2018-11-11 14:56:17.062 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:17.062 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:17.089 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 14:56:17.093 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 14:56:17.121 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 14:56:17.121 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:17.121 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:17.121 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 14:56:17.124 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 14:56:17.125 +07:00 [Debug] A data reader was disposed.
2018-11-11 14:56:17.125 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:17.125 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:17.143 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 14:56:17.157 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 14:56:17.160 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-11 14:56:17.641 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 14:56:17.751 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 14:56:17.866 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 14:56:17.871 +07:00 [Information] Test log
2018-11-11 14:56:17.934 +07:00 [Debug] Connection id ""0HLI7LCJMN4OM"" started.
2018-11-11 14:56:17.936 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 14:56:17.937 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 14:56:17.937 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 14:56:17.937 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 14:56:17.939 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 14:56:17.944 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 14:56:17.944 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 14:56:17.948 +07:00 [Verbose] Processing discovery request.
2018-11-11 14:56:17.948 +07:00 [Debug] Start discovery request
2018-11-11 14:56:17.949 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 14:56:17.975 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-11 14:56:18.090 +07:00 [Debug] Connection id ""0HLI7LCJMN4OM"" completed keep alive response.
2018-11-11 14:56:18.099 +07:00 [Information] Request finished in 155.4001ms 200 application/json; charset=UTF-8
2018-11-11 14:56:18.124 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-11 14:56:18.124 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-11 14:56:18.124 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 14:56:18.124 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 14:56:18.125 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-11 14:56:18.125 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-11 14:56:18.125 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-11 14:56:18.129 +07:00 [Verbose] Processing discovery request.
2018-11-11 14:56:18.129 +07:00 [Debug] Start key discovery request
2018-11-11 14:56:18.129 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 14:56:18.137 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-11 14:56:18.157 +07:00 [Debug] Connection id ""0HLI7LCJMN4OM"" completed keep alive response.
2018-11-11 14:56:18.157 +07:00 [Information] Request finished in 33.1039ms 200 application/json; charset=UTF-8
2018-11-11 14:56:18.188 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-11 14:56:18.188 +07:00 [Debug] "POST" requests are not supported
2018-11-11 14:56:18.188 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 14:56:18.188 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 14:56:18.188 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-11 14:56:18.200 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-11 14:56:18.200 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-11 14:56:18.203 +07:00 [Verbose] Processing token request.
2018-11-11 14:56:18.207 +07:00 [Debug] Start token request.
2018-11-11 14:56:18.214 +07:00 [Debug] Start client validation
2018-11-11 14:56:18.220 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-11 14:56:18.220 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-11 14:56:18.220 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-11 14:56:18.227 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-11 14:56:18.227 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-11 14:56:18.236 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-11 14:56:18.236 +07:00 [Debug] Client validation success
2018-11-11 14:56:18.271 +07:00 [Debug] Connection id ""0HLI7LCJMN4OM"", Request id ""0HLI7LCJMN4OM:00000003"": started reading request body.
2018-11-11 14:56:18.287 +07:00 [Debug] Connection id ""0HLI7LCJMN4OM"", Request id ""0HLI7LCJMN4OM:00000003"": done reading request body.
2018-11-11 14:56:18.292 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-11 14:56:18.298 +07:00 [Debug] Start token request validation
2018-11-11 14:56:18.320 +07:00 [Debug] Start resource owner password token request validation
2018-11-11 14:56:18.358 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 14:56:18.359 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 14:56:18.360 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 14:56:18.365 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
                        FROM [AspNetUsers] AS [u]
                        WHERE [u].[NormalizedUserName] = @__normalizedUserName_0, 
                    shaper: UnbufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 14:56:18.367 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:18.367 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:18.367 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 14:56:18.369 +07:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 14:56:18.372 +07:00 [Debug] A data reader was disposed.
2018-11-11 14:56:18.372 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:18.372 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:18.372 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 14:56:18.447 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-11 14:56:18.453 +07:00 [Debug] Resource owner password token request validation success.
2018-11-11 14:56:18.453 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-11 14:56:18.462 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api2\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api2\"
  }
}"
2018-11-11 14:56:18.462 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-11 14:56:18.467 +07:00 [Verbose] Creating response for password request
2018-11-11 14:56:18.477 +07:00 [Verbose] Creating access token
2018-11-11 14:56:18.484 +07:00 [Debug] Getting claims for access token for client: "ApiApplication"
2018-11-11 14:56:18.485 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-11 14:56:18.494 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:18.494 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:18.495 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 14:56:18.496 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 14:56:18.496 +07:00 [Debug] A data reader was disposed.
2018-11-11 14:56:18.496 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:18.496 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:18.498 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:18.498 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:18.498 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 14:56:18.498 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 14:56:18.499 +07:00 [Debug] A data reader was disposed.
2018-11-11 14:56:18.499 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:18.499 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:18.506 +07:00 [Verbose] Creating JWT access token
2018-11-11 14:56:18.567 +07:00 [Verbose] Access token issued for "ApiApplication (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE5MjI5NzgsImV4cCI6MTU0MTkyNjU3OCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMiJdLCJjbGllbnRfaWQiOiJBcGlBcHBsaWNhdGlvbiIsInN1YiI6ImI5NmU0OGFiLTUyMWQtNDJjMS05OWI2LWZjNjYwM2ViY2Q3YSIsImF1dGhfdGltZSI6MTU0MTkyMjk3OCwiaWRwIjoibG9jYWwiLCJnaXZlbl9uYW1lIjoiVGjDoWkgSOG7k25nIFF1eeG7g24iLCJlbWFpbCI6InF1eWVudGhAZ21haWwuY29tIiwianRpIjoiNjMyMmY4MTUzNTkzMDFhOGY1MzIwMDY5Mzk0MTNlMTAiLCJzY29wZSI6WyJhcGkyIl0sImFtciI6WyJwd2QiXX0.jQxXgZ0C02kuCviA2NJYAMepc_hhBVz8rEBlddwLBMmUAVhpyC7dJUZQ-yRRzSOo9OrInqQiFiic6FMkEoEP-p_OYGnUyGvSVMUSO07WhUblRA1PpuWUR0STYCd7OMVOA6V7UnBY6ANo95YiF_zSkXF2rA1pWX-rwGpmomBnQdi9nNYMfhB0m_fjX2EKdiwA9RxNQJufxtkU6Ck6WchAY07UPmRpLSIUfrWa5TNgqEZL1zCg_xr9r3wGjOCGBhljPHz04QeVIKnjrOZ5AGzaX1m1MS0dS86VctCfpEXl-22zHSGkWVbwY-UdNmcnkSSh2LFa8tCprdRHtO16b3dxRw"
2018-11-11 14:56:18.567 +07:00 [Debug] Token request success.
2018-11-11 14:56:18.568 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-11 14:56:18.576 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 14:56:18.578 +07:00 [Debug] Connection id ""0HLI7LCJMN4OM"" completed keep alive response.
2018-11-11 14:56:18.582 +07:00 [Information] Request finished in 393.9253ms 200 application/json; charset=UTF-8
2018-11-11 14:56:18.582 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:18.582 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:18.582 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 14:56:18.583 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 14:56:18.583 +07:00 [Debug] A data reader was disposed.
2018-11-11 14:56:18.583 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:18.583 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:18.585 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:18.585 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:18.585 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 14:56:18.585 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 14:56:18.585 +07:00 [Debug] A data reader was disposed.
2018-11-11 14:56:18.585 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:18.586 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:56:18.595 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-11 14:56:18.615 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 14:56:18.620 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 14:56:18.620 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 14:56:18.662 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 14:56:18.702 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 945.2825ms
2018-11-11 14:56:18.703 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 14:56:18.704 +07:00 [Debug] Connection id ""0HLI7LCJMN4OL"" completed keep alive response.
2018-11-11 14:56:18.704 +07:00 [Information] Request finished in 3978.7448ms 200 application/json; charset=utf-8
2018-11-11 14:56:18.725 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 14:56:18.738 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 14:56:18.757 +07:00 [Debug] Connection id ""0HLI7LCJMN4OM"" completed keep alive response.
2018-11-11 14:56:18.757 +07:00 [Information] Request finished in 32.3912ms 200 image/x-icon
2018-11-11 14:57:26.671 +07:00 [Debug] Connection id ""0HLI7LCJMN4ON"" started.
2018-11-11 14:57:26.671 +07:00 [Debug] Connection id ""0HLI7LCJMN4OM"" received FIN.
2018-11-11 14:57:26.671 +07:00 [Debug] Connection id ""0HLI7LCJMN4OL"" received FIN.
2018-11-11 14:57:26.671 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/Account/Logout application/x-www-form-urlencoded 225
2018-11-11 14:57:26.671 +07:00 [Debug] "POST" requests are not supported
2018-11-11 14:57:26.673 +07:00 [Debug] Connection id ""0HLI7LCJMN4OL"" disconnecting.
2018-11-11 14:57:26.673 +07:00 [Debug] Connection id ""0HLI7LCJMN4OM"" disconnecting.
2018-11-11 14:57:26.678 +07:00 [Debug] Connection id ""0HLI7LCJMN4OM"" sending FIN.
2018-11-11 14:57:26.678 +07:00 [Debug] Connection id ""0HLI7LCJMN4OL"" sending FIN.
2018-11-11 14:57:26.678 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 14:57:26.679 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 14:57:26.679 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 14:57:26.679 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Logout"
2018-11-11 14:57:26.679 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Logout"'.
2018-11-11 14:57:26.682 +07:00 [Debug] Connection id ""0HLI7LCJMN4OM"" stopped.
2018-11-11 14:57:26.682 +07:00 [Debug] Connection id ""0HLI7LCJMN4OL"" stopped.
2018-11-11 14:57:26.721 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Logout (AspNetCore)"
2018-11-11 14:57:26.731 +07:00 [Debug] Connection id ""0HLI7LCJMN4ON"", Request id ""0HLI7LCJMN4ON:00000001"": started reading request body.
2018-11-11 14:57:26.731 +07:00 [Debug] Connection id ""0HLI7LCJMN4ON"", Request id ""0HLI7LCJMN4ON:00000001"": done reading request body.
2018-11-11 14:57:26.737 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 14:57:26.739 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 14:57:26.750 +07:00 [Debug] Antiforgery successfully validated a request.
2018-11-11 14:57:26.751 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Logout (AspNetCore)" with arguments (null) - ModelState is Valid
2018-11-11 14:57:26.777 +07:00 [Information] AuthenticationScheme: "Identity.Application" signed out.
2018-11-11 14:57:26.782 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 14:57:26.789 +07:00 [Information] AuthenticationScheme: "Identity.TwoFactorUserId" signed out.
2018-11-11 14:57:26.789 +07:00 [Information] User logged out.
2018-11-11 14:57:26.790 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Logout (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.RedirectToPageResult".
2018-11-11 14:57:26.813 +07:00 [Information] Executing RedirectToPageResult, redirecting to "/Index".
2018-11-11 14:57:26.815 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Logout (AspNetCore)" in 94.2544ms
2018-11-11 14:57:26.817 +07:00 [Debug] Connection id ""0HLI7LCJMN4ON"" completed keep alive response.
2018-11-11 14:57:26.817 +07:00 [Information] Request finished in 146.111ms 302 
2018-11-11 14:57:26.824 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 14:57:26.824 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 14:57:26.824 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 14:57:26.824 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 14:57:26.824 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 14:57:26.824 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 14:57:28.014 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-11 14:57:29.378 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1363.2886ms.
2018-11-11 14:57:29.510 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 14:57:29.568 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 58.5962ms.
2018-11-11 14:57:29.576 +07:00 [Debug] Executing action "/Index"
2018-11-11 14:57:29.598 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 14:57:29.598 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 14:57:29.696 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 14:57:29.802 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 14:57:29.943 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 140.9421ms.
2018-11-11 14:57:29.956 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 14:57:29.958 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 14:57:29.974 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 14:57:29.974 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 14:57:30.001 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 14:57:30.076 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 14:57:30.132 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 55.6282ms.
2018-11-11 14:57:30.181 +07:00 [Information] Executed action "/Index" in 605.0081ms
2018-11-11 14:57:30.183 +07:00 [Debug] Connection id ""0HLI7LCJMN4ON"" completed keep alive response.
2018-11-11 14:57:30.183 +07:00 [Information] Request finished in 3359.5196ms 200 text/html; charset=utf-8
2018-11-11 14:57:30.194 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/css/site.css  
2018-11-11 14:57:30.194 +07:00 [Debug] Connection id ""0HLI7LCJMN4OO"" started.
2018-11-11 14:57:30.195 +07:00 [Debug] Connection id ""0HLI7LCJMN4OP"" started.
2018-11-11 14:57:30.195 +07:00 [Debug] Connection id ""0HLI7LCJMN4OQ"" started.
2018-11-11 14:57:30.195 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/images/banner1.svg  
2018-11-11 14:57:30.195 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/images/banner2.svg  
2018-11-11 14:57:30.196 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/lib/bootstrap/dist/css/bootstrap.css  
2018-11-11 14:57:30.196 +07:00 [Debug] Connection id ""0HLI7LCJMN4OR"" started.
2018-11-11 14:57:30.197 +07:00 [Debug] Connection id ""0HLI7LCJMN4OS"" started.
2018-11-11 14:57:30.197 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/lib/bootstrap/dist/js/bootstrap.js  
2018-11-11 14:57:30.197 +07:00 [Debug] Connection id ""0HLI7LCJMN4OT"" started.
2018-11-11 14:57:30.197 +07:00 [Debug] Connection id ""0HLI7LCJMN4OU"" started.
2018-11-11 14:57:30.197 +07:00 [Debug] Connection id ""0HLI7LCJMN4OV"" started.
2018-11-11 14:57:30.197 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/images/banner3.svg  
2018-11-11 14:57:30.197 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/js/site.js?v=EWaMeWsJBYWmL2g_KkgXZQ5nPe-a3Ichp0LEgzXczKo  
2018-11-11 14:57:30.197 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/lib/jquery/dist/jquery.js  
2018-11-11 14:57:30.198 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/images/banner4.svg  
2018-11-11 14:57:30.203 +07:00 [Information] The file "/lib/bootstrap/dist/js/bootstrap.js" was not modified
2018-11-11 14:57:30.203 +07:00 [Information] The file "/css/site.css" was not modified
2018-11-11 14:57:30.203 +07:00 [Information] The file "/images/banner4.svg" was not modified
2018-11-11 14:57:30.203 +07:00 [Information] The file "/images/banner3.svg" was not modified
2018-11-11 14:57:30.203 +07:00 [Information] The file "/images/banner1.svg" was not modified
2018-11-11 14:57:30.203 +07:00 [Information] The file "/lib/jquery/dist/jquery.js" was not modified
2018-11-11 14:57:30.203 +07:00 [Information] The file "/js/site.js" was not modified
2018-11-11 14:57:30.203 +07:00 [Information] The file "/lib/bootstrap/dist/css/bootstrap.css" was not modified
2018-11-11 14:57:30.203 +07:00 [Information] The file "/images/banner2.svg" was not modified
2018-11-11 14:57:30.207 +07:00 [Debug] Handled. Status code: 304 File: "/lib/bootstrap/dist/js/bootstrap.js"
2018-11-11 14:57:30.207 +07:00 [Debug] Handled. Status code: 304 File: "/css/site.css"
2018-11-11 14:57:30.207 +07:00 [Debug] Handled. Status code: 304 File: "/lib/jquery/dist/jquery.js"
2018-11-11 14:57:30.207 +07:00 [Debug] Handled. Status code: 304 File: "/images/banner4.svg"
2018-11-11 14:57:30.207 +07:00 [Debug] Handled. Status code: 304 File: "/lib/bootstrap/dist/css/bootstrap.css"
2018-11-11 14:57:30.207 +07:00 [Debug] Handled. Status code: 304 File: "/js/site.js"
2018-11-11 14:57:30.207 +07:00 [Debug] Handled. Status code: 304 File: "/images/banner1.svg"
2018-11-11 14:57:30.207 +07:00 [Debug] Handled. Status code: 304 File: "/images/banner2.svg"
2018-11-11 14:57:30.207 +07:00 [Debug] Handled. Status code: 304 File: "/images/banner3.svg"
2018-11-11 14:57:30.209 +07:00 [Debug] Connection id ""0HLI7LCJMN4OU"" completed keep alive response.
2018-11-11 14:57:30.209 +07:00 [Debug] Connection id ""0HLI7LCJMN4OR"" completed keep alive response.
2018-11-11 14:57:30.209 +07:00 [Debug] Connection id ""0HLI7LCJMN4OP"" completed keep alive response.
2018-11-11 14:57:30.209 +07:00 [Information] Request finished in 11.3342ms 304 application/javascript
2018-11-11 14:57:30.209 +07:00 [Debug] Connection id ""0HLI7LCJMN4OO"" completed keep alive response.
2018-11-11 14:57:30.209 +07:00 [Information] Request finished in 13.8947ms 304 image/svg+xml
2018-11-11 14:57:30.209 +07:00 [Information] Request finished in 14.0871ms 304 image/svg+xml
2018-11-11 14:57:30.209 +07:00 [Debug] Connection id ""0HLI7LCJMN4OQ"" completed keep alive response.
2018-11-11 14:57:30.209 +07:00 [Debug] Connection id ""0HLI7LCJMN4ON"" completed keep alive response.
2018-11-11 14:57:30.209 +07:00 [Information] Request finished in 13.2691ms 304 text/css
2018-11-11 14:57:30.209 +07:00 [Information] Request finished in 15.0269ms 304 text/css
2018-11-11 14:57:30.209 +07:00 [Debug] Connection id ""0HLI7LCJMN4OT"" completed keep alive response.
2018-11-11 14:57:30.209 +07:00 [Information] Request finished in 11.9161ms 304 image/svg+xml
2018-11-11 14:57:30.209 +07:00 [Debug] Connection id ""0HLI7LCJMN4OS"" completed keep alive response.
2018-11-11 14:57:30.209 +07:00 [Information] Request finished in 12.0053ms 304 application/javascript
2018-11-11 14:57:30.210 +07:00 [Information] Request finished in 12.6961ms 304 application/javascript
2018-11-11 14:57:30.209 +07:00 [Debug] Connection id ""0HLI7LCJMN4OV"" completed keep alive response.
2018-11-11 14:57:30.210 +07:00 [Information] Request finished in 12.1936ms 304 image/svg+xml
2018-11-11 14:57:30.271 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2  
2018-11-11 14:57:30.271 +07:00 [Information] The file "/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2" was not modified
2018-11-11 14:57:30.272 +07:00 [Debug] Handled. Status code: 304 File: "/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2"
2018-11-11 14:57:30.272 +07:00 [Debug] Connection id ""0HLI7LCJMN4OO"" completed keep alive response.
2018-11-11 14:57:30.272 +07:00 [Information] Request finished in 0.8157ms 304 font/woff2
2018-11-11 14:57:42.168 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 14:57:42.168 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 14:57:42.169 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 14:57:42.169 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 14:57:42.169 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-11 14:57:42.169 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 14:57:42.170 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 14:57:42.170 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 14:57:42.171 +07:00 [Information] Test log
2018-11-11 14:57:42.180 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 14:57:42.180 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 14:57:42.180 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 14:57:42.180 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 14:57:42.180 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 14:57:42.181 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 14:57:42.181 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 14:57:42.181 +07:00 [Verbose] Processing discovery request.
2018-11-11 14:57:42.181 +07:00 [Debug] Start discovery request
2018-11-11 14:57:42.181 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 14:57:42.181 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-11 14:57:42.182 +07:00 [Debug] Connection id ""0HLI7LCJMN4OV"" completed keep alive response.
2018-11-11 14:57:42.182 +07:00 [Information] Request finished in 1.6252ms 200 application/json; charset=UTF-8
2018-11-11 14:57:42.185 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-11 14:57:42.185 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-11 14:57:42.185 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 14:57:42.185 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 14:57:42.185 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-11 14:57:42.186 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-11 14:57:42.186 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-11 14:57:42.186 +07:00 [Verbose] Processing discovery request.
2018-11-11 14:57:42.186 +07:00 [Debug] Start key discovery request
2018-11-11 14:57:42.186 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 14:57:42.186 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-11 14:57:42.186 +07:00 [Debug] Connection id ""0HLI7LCJMN4ON"" completed keep alive response.
2018-11-11 14:57:42.186 +07:00 [Information] Request finished in 1.6149ms 200 application/json; charset=UTF-8
2018-11-11 14:57:42.200 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-11 14:57:42.200 +07:00 [Debug] "POST" requests are not supported
2018-11-11 14:57:42.200 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 14:57:42.200 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 14:57:42.200 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-11 14:57:42.201 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-11 14:57:42.201 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-11 14:57:42.201 +07:00 [Verbose] Processing token request.
2018-11-11 14:57:42.201 +07:00 [Debug] Start token request.
2018-11-11 14:57:42.201 +07:00 [Debug] Start client validation
2018-11-11 14:57:42.201 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-11 14:57:42.201 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-11 14:57:42.201 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-11 14:57:42.201 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-11 14:57:42.202 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-11 14:57:42.202 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-11 14:57:42.202 +07:00 [Debug] Client validation success
2018-11-11 14:57:42.202 +07:00 [Debug] Connection id ""0HLI7LCJMN4OS"", Request id ""0HLI7LCJMN4OS:00000002"": started reading request body.
2018-11-11 14:57:42.202 +07:00 [Debug] Connection id ""0HLI7LCJMN4OS"", Request id ""0HLI7LCJMN4OS:00000002"": done reading request body.
2018-11-11 14:57:42.202 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-11 14:57:42.202 +07:00 [Debug] Start token request validation
2018-11-11 14:57:42.202 +07:00 [Debug] Start resource owner password token request validation
2018-11-11 14:57:42.203 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 14:57:42.203 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:57:42.203 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:57:42.203 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 14:57:42.210 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 14:57:42.211 +07:00 [Debug] A data reader was disposed.
2018-11-11 14:57:42.211 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:57:42.211 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:57:42.211 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 14:57:42.225 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-11 14:57:42.225 +07:00 [Debug] Resource owner password token request validation success.
2018-11-11 14:57:42.225 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-11 14:57:42.225 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api2\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api2\"
  }
}"
2018-11-11 14:57:42.225 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-11 14:57:42.225 +07:00 [Verbose] Creating response for password request
2018-11-11 14:57:42.225 +07:00 [Verbose] Creating access token
2018-11-11 14:57:42.226 +07:00 [Debug] Getting claims for access token for client: "ApiApplication"
2018-11-11 14:57:42.226 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-11 14:57:42.226 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:57:42.226 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:57:42.226 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 14:57:42.229 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 14:57:42.230 +07:00 [Debug] A data reader was disposed.
2018-11-11 14:57:42.230 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:57:42.230 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:57:42.231 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:57:42.232 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:57:42.232 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 14:57:42.235 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 14:57:42.235 +07:00 [Debug] A data reader was disposed.
2018-11-11 14:57:42.235 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:57:42.235 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:57:42.235 +07:00 [Verbose] Creating JWT access token
2018-11-11 14:57:42.239 +07:00 [Verbose] Access token issued for "ApiApplication (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE5MjMwNjIsImV4cCI6MTU0MTkyNjY2MiwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMiJdLCJjbGllbnRfaWQiOiJBcGlBcHBsaWNhdGlvbiIsInN1YiI6ImI5NmU0OGFiLTUyMWQtNDJjMS05OWI2LWZjNjYwM2ViY2Q3YSIsImF1dGhfdGltZSI6MTU0MTkyMzA2MiwiaWRwIjoibG9jYWwiLCJnaXZlbl9uYW1lIjoiVGjDoWkgSOG7k25nIFF1eeG7g24iLCJlbWFpbCI6InF1eWVudGhAZ21haWwuY29tIiwianRpIjoiMmVhYWExZTA1ODc2M2ExYjNjOTRkNmFmNWJlNjdhNjUiLCJzY29wZSI6WyJhcGkyIl0sImFtciI6WyJwd2QiXX0.TSqnlF-KJKFEvn6PZTxVRzM5FIyDy2qzdbSxq5_Na5OO4kQ5FqM3q8j7orGCoj57x1vHixO32kZNRBOSE_HnWWCmnMA1AgOd7DRor2-f2roo8-V76CxZFFKGWJYaAte4PcrL6GejlgeP7LfnCTAmO_l2ftNqzVkz3TBNgUyBYbqKdnEgpEkxep22bhmn4Arm1yWZ32NGIhktbBzWokxb71YR1D1z4GVOrSISa2Z3xK0YQStii46mnf7oh1d2jfLsNrlai-NtMfL_D2C9BRsOIgSH62wasWqVam3aGGc33DM7GHPAPp3_wn1LeeJf__SjpkVBHo1LbjprhglVX35ung"
2018-11-11 14:57:42.239 +07:00 [Debug] Token request success.
2018-11-11 14:57:42.239 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-11 14:57:42.239 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 14:57:42.239 +07:00 [Debug] Connection id ""0HLI7LCJMN4OS"" completed keep alive response.
2018-11-11 14:57:42.240 +07:00 [Information] Request finished in 39.9984ms 200 application/json; charset=UTF-8
2018-11-11 14:57:42.240 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 14:57:42.241 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:57:42.241 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:57:42.241 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 14:57:42.241 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 14:57:42.242 +07:00 [Debug] A data reader was disposed.
2018-11-11 14:57:42.242 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:57:42.242 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:57:42.242 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 14:57:42.249 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:57:42.250 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:57:42.250 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 14:57:42.250 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 14:57:42.250 +07:00 [Debug] A data reader was disposed.
2018-11-11 14:57:42.250 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:57:42.250 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:57:42.259 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-11 14:57:42.259 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 14:57:42.259 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 14:57:42.259 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 14:57:42.260 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 89.4515ms
2018-11-11 14:57:42.260 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 14:57:42.260 +07:00 [Debug] Connection id ""0HLI7LCJMN4OU"" completed keep alive response.
2018-11-11 14:57:42.260 +07:00 [Information] Request finished in 91.6626ms 200 application/json; charset=utf-8
2018-11-11 14:57:42.296 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 14:57:42.296 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 14:57:42.297 +07:00 [Debug] Connection id ""0HLI7LCJMN4OR"" completed keep alive response.
2018-11-11 14:57:42.297 +07:00 [Information] Request finished in 0.8786ms 200 image/x-icon
2018-11-11 14:57:50.368 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 14:57:50.368 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 14:57:50.368 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 14:57:50.368 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 14:57:50.368 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 14:57:50.368 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 14:57:50.369 +07:00 [Debug] Executing action "/Index"
2018-11-11 14:57:50.369 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 14:57:50.369 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 14:57:50.372 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 14:57:50.372 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 14:57:50.372 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 14:57:50.373 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 14:57:50.373 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 14:57:50.373 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 14:57:50.374 +07:00 [Information] Executed action "/Index" in 4.9908ms
2018-11-11 14:57:50.374 +07:00 [Debug] Connection id ""0HLI7LCJMN4OQ"" completed keep alive response.
2018-11-11 14:57:50.374 +07:00 [Information] Request finished in 6.197ms 200 text/html; charset=utf-8
2018-11-11 14:57:52.236 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 14:57:52.237 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 14:57:52.237 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 14:57:52.237 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 14:57:52.237 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 14:57:52.237 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 14:57:52.237 +07:00 [Debug] Executing action "/Index"
2018-11-11 14:57:52.237 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 14:57:52.238 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 14:57:52.238 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 14:57:52.238 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 14:57:52.238 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 14:57:52.238 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 14:57:52.238 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 14:57:52.238 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 14:57:52.239 +07:00 [Information] Executed action "/Index" in 1.4507ms
2018-11-11 14:57:52.239 +07:00 [Debug] Connection id ""0HLI7LCJMN4OT"" completed keep alive response.
2018-11-11 14:57:52.239 +07:00 [Information] Request finished in 2.5351ms 200 text/html; charset=utf-8
2018-11-11 14:57:52.289 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 14:57:52.289 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 14:57:52.289 +07:00 [Debug] Connection id ""0HLI7LCJMN4OP"" completed keep alive response.
2018-11-11 14:57:52.290 +07:00 [Information] Request finished in 0.9835ms 200 image/x-icon
2018-11-11 14:58:53.981 +07:00 [Debug] Connection id ""0HLI7LCJMN4OQ"" reset.
2018-11-11 14:58:53.982 +07:00 [Debug] Connection id ""0HLI7LCJMN4OQ"" disconnecting.
2018-11-11 14:58:53.982 +07:00 [Debug] Connection id ""0HLI7LCJMN4OO"" reset.
2018-11-11 14:58:53.982 +07:00 [Debug] Connection id ""0HLI7LCJMN4OO"" disconnecting.
2018-11-11 14:59:17.841 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 14:59:17.885 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 14:59:17.892 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 14:59:17.905 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 14:59:17.917 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 14:59:17.921 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 14:59:17.923 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 14:59:17.931 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 14:59:17.938 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 14:59:17.949 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 14:59:17.953 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 14:59:18.025 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 14:59:18.040 +07:00 [Debug] Using "Bearer" as default scheme for authentication
2018-11-11 14:59:18.041 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 14:59:18.041 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 14:59:18.041 +07:00 [Debug] Using "Bearer" as default scheme for challenge
2018-11-11 14:59:18.042 +07:00 [Debug] Using "Bearer" as default scheme for forbid
2018-11-11 14:59:18.229 +07:00 [Debug] Hosting starting
2018-11-11 14:59:18.326 +07:00 [Debug] Hosting started
2018-11-11 14:59:18.326 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 14:59:18.326 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 14:59:18.326 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 14:59:18.629 +07:00 [Debug] Connection id ""0HLI7LEAHLGRG"" started.
2018-11-11 14:59:18.791 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 14:59:18.871 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 14:59:18.935 +07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
2018-11-11 14:59:18.948 +07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
2018-11-11 14:59:18.953 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 14:59:19.291 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 14:59:20.250 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-11 14:59:21.628 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1375.3601ms.
2018-11-11 14:59:21.736 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 14:59:21.796 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 60.37ms.
2018-11-11 14:59:21.863 +07:00 [Debug] Executing action "/Index"
2018-11-11 14:59:21.911 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 14:59:21.913 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 14:59:22.039 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 14:59:22.207 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 14:59:22.349 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 142.18ms.
2018-11-11 14:59:22.360 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 14:59:22.363 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 14:59:22.378 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 14:59:22.378 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 14:59:22.426 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 14:59:22.500 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 14:59:22.556 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 55.8812ms.
2018-11-11 14:59:22.668 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 14:59:22.809 +07:00 [Information] Executed action "/Index" in 944.1365ms
2018-11-11 14:59:22.819 +07:00 [Debug] Connection id ""0HLI7LEAHLGRG"" completed keep alive response.
2018-11-11 14:59:22.824 +07:00 [Information] Request finished in 4043.2185ms 200 text/html; charset=utf-8
2018-11-11 14:59:22.850 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 14:59:22.863 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 14:59:22.882 +07:00 [Debug] Connection id ""0HLI7LEAHLGRG"" completed keep alive response.
2018-11-11 14:59:22.882 +07:00 [Information] Request finished in 32.1819ms 200 image/x-icon
2018-11-11 14:59:25.548 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Login  
2018-11-11 14:59:25.548 +07:00 [Debug] The request path "/Account/Login" does not match a supported file type
2018-11-11 14:59:25.548 +07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
2018-11-11 14:59:25.548 +07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
2018-11-11 14:59:25.549 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Login"
2018-11-11 14:59:25.551 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 14:59:25.658 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' started.
2018-11-11 14:59:26.081 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' completed in 422.7747ms.
2018-11-11 14:59:26.117 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 14:59:26.184 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 14:59:26.188 +07:00 [Information] Executing handler method "OnGetAsync" with arguments ([""]) - ModelState is Valid
2018-11-11 14:59:26.244 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 14:59:26.248 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 14:59:26.272 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 14:59:26.286 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 14:59:26.290 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 14:59:26.418 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 14:59:26.419 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 14:59:26.419 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 14:59:26.419 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 14:59:26.419 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 14:59:26.420 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 14:59:26.421 +07:00 [Debug] View lookup cache miss for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 14:59:26.515 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' started.
2018-11-11 14:59:26.573 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' completed in 57.7773ms.
2018-11-11 14:59:26.599 +07:00 [Information] Executed action "/Account/Login" in 482.0439ms
2018-11-11 14:59:26.599 +07:00 [Debug] Connection id ""0HLI7LEAHLGRG"" completed keep alive response.
2018-11-11 14:59:26.599 +07:00 [Information] Request finished in 1051.3951ms 200 text/html; charset=utf-8
2018-11-11 14:59:26.611 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/lib/jquery-validation/dist/jquery.validate.js  
2018-11-11 14:59:26.611 +07:00 [Debug] Connection id ""0HLI7LEAHLGRH"" started.
2018-11-11 14:59:26.612 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js  
2018-11-11 14:59:26.619 +07:00 [Information] The file "/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js" was not modified
2018-11-11 14:59:26.619 +07:00 [Information] The file "/lib/jquery-validation/dist/jquery.validate.js" was not modified
2018-11-11 14:59:26.637 +07:00 [Debug] Handled. Status code: 304 File: "/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js"
2018-11-11 14:59:26.637 +07:00 [Debug] Handled. Status code: 304 File: "/lib/jquery-validation/dist/jquery.validate.js"
2018-11-11 14:59:26.641 +07:00 [Debug] Connection id ""0HLI7LEAHLGRG"" completed keep alive response.
2018-11-11 14:59:26.641 +07:00 [Debug] Connection id ""0HLI7LEAHLGRH"" completed keep alive response.
2018-11-11 14:59:26.641 +07:00 [Information] Request finished in 30.4121ms 304 application/javascript
2018-11-11 14:59:26.642 +07:00 [Information] Request finished in 29.7539ms 304 application/javascript
2018-11-11 14:59:34.918 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/Account/Login application/x-www-form-urlencoded 264
2018-11-11 14:59:34.919 +07:00 [Debug] "POST" requests are not supported
2018-11-11 14:59:34.924 +07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
2018-11-11 14:59:34.924 +07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
2018-11-11 14:59:34.924 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Login"
2018-11-11 14:59:34.925 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 14:59:34.926 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 14:59:34.969 +07:00 [Debug] Connection id ""0HLI7LEAHLGRG"", Request id ""0HLI7LEAHLGRG:00000005"": started reading request body.
2018-11-11 14:59:34.984 +07:00 [Debug] Connection id ""0HLI7LEAHLGRG"", Request id ""0HLI7LEAHLGRG:00000005"": done reading request body.
2018-11-11 14:59:34.991 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 14:59:34.991 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 14:59:34.993 +07:00 [Debug] Antiforgery successfully validated a request.
2018-11-11 14:59:35.042 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 14:59:35.043 +07:00 [Information] Executing handler method "OnPostAsync" with arguments ([""]) - ModelState is Valid
2018-11-11 14:59:35.558 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 14:59:35.558 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 14:59:35.582 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-11 14:59:35.597 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 14:59:35.597 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 14:59:35.600 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-11 14:59:35.866 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 14:59:35.993 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser c in DbSet<ApplicationUser>
where [c].UserName == \"quyenth@gmail.com\"
select [c]).FirstOrDefault()"'
2018-11-11 14:59:36.046 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser c in DbSet<ApplicationUser>
where [c].UserName == \"quyenth@gmail.com\"
select [c]).FirstOrDefault()"'
2018-11-11 14:59:36.220 +07:00 [Debug] "(QueryContext queryContext) => IEnumerable<ApplicationUser> _InterceptExceptions(
    source: IEnumerable<ApplicationUser> _TrackEntities(
        results: IEnumerable<ApplicationUser> _ToSequence(() => ApplicationUser FirstOrDefault(IEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [c].[Id], [c].[AccessFailedCount], [c].[ConcurrencyStamp], [c].[Email], [c].[EmailConfirmed], [c].[FullName], [c].[LockoutEnabled], [c].[LockoutEnd], [c].[NormalizedEmail], [c].[NormalizedUserName], [c].[PasswordHash], [c].[PhoneNumber], [c].[PhoneNumberConfirmed], [c].[SecurityStamp], [c].[TwoFactorEnabled], [c].[UserName]
                        FROM [AspNetUsers] AS [c]
                        WHERE [c].[UserName] = N'quyenth@gmail.com', 
                    shaper: UnbufferedEntityShaper<ApplicationUser>))), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 14:59:36.263 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:59:36.504 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:59:36.534 +07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AccessFailedCount], [c].[ConcurrencyStamp], [c].[Email], [c].[EmailConfirmed], [c].[FullName], [c].[LockoutEnabled], [c].[LockoutEnd], [c].[NormalizedEmail], [c].[NormalizedUserName], [c].[PasswordHash], [c].[PhoneNumber], [c].[PhoneNumberConfirmed], [c].[SecurityStamp], [c].[TwoFactorEnabled], [c].[UserName]
FROM [AspNetUsers] AS [c]
WHERE [c].[UserName] = N'quyenth@gmail.com'"
2018-11-11 14:59:36.579 +07:00 [Information] Executed DbCommand ("47"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AccessFailedCount], [c].[ConcurrencyStamp], [c].[Email], [c].[EmailConfirmed], [c].[FullName], [c].[LockoutEnabled], [c].[LockoutEnd], [c].[NormalizedEmail], [c].[NormalizedUserName], [c].[PasswordHash], [c].[PhoneNumber], [c].[PhoneNumberConfirmed], [c].[SecurityStamp], [c].[TwoFactorEnabled], [c].[UserName]
FROM [AspNetUsers] AS [c]
WHERE [c].[UserName] = N'quyenth@gmail.com'"
2018-11-11 14:59:36.677 +07:00 [Debug] A data reader was disposed.
2018-11-11 14:59:36.678 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:59:36.689 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:59:36.700 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 14:59:36.747 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 14:59:36.747 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 14:59:36.761 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
                        FROM [AspNetUsers] AS [u]
                        WHERE [u].[NormalizedUserName] = @__normalizedUserName_0, 
                    shaper: UnbufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 14:59:36.792 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:59:36.796 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:59:36.816 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 14:59:36.877 +07:00 [Information] Executed DbCommand ("67"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 14:59:36.891 +07:00 [Debug] A data reader was disposed.
2018-11-11 14:59:36.891 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:59:36.891 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:59:37.014 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 14:59:37.029 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 14:59:37.095 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 14:59:37.095 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:59:37.095 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:59:37.095 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 14:59:37.099 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 14:59:37.101 +07:00 [Debug] A data reader was disposed.
2018-11-11 14:59:37.102 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:59:37.102 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:59:37.128 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 14:59:37.132 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 14:59:37.168 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 14:59:37.169 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:59:37.169 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:59:37.169 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 14:59:37.172 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 14:59:37.173 +07:00 [Debug] A data reader was disposed.
2018-11-11 14:59:37.173 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:59:37.173 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 14:59:37.211 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 14:59:37.213 +07:00 [Information] AuthenticationScheme: "Identity.Application" signed in.
2018-11-11 14:59:37.214 +07:00 [Information] User logged in.
2018-11-11 14:59:37.216 +07:00 [Debug] Executed handler method "OnPostAsync", returned result "Microsoft.AspNetCore.Mvc.LocalRedirectResult".
2018-11-11 14:59:37.219 +07:00 [Information] Executing LocalRedirectResult, redirecting to "/".
2018-11-11 14:59:37.220 +07:00 [Information] Executed action "/Account/Login" in 2294.0173ms
2018-11-11 14:59:37.221 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 14:59:37.225 +07:00 [Debug] Connection id ""0HLI7LEAHLGRG"" completed keep alive response.
2018-11-11 14:59:37.225 +07:00 [Information] Request finished in 2306.9415ms 302 
2018-11-11 14:59:37.229 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 14:59:37.229 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 14:59:37.230 +07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
2018-11-11 14:59:37.230 +07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
2018-11-11 14:59:37.230 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 14:59:37.230 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 14:59:37.230 +07:00 [Debug] Executing action "/Index"
2018-11-11 14:59:37.230 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 14:59:37.230 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 14:59:37.234 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 14:59:37.234 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 14:59:37.234 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 14:59:37.234 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 14:59:37.234 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 14:59:37.234 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 14:59:37.235 +07:00 [Information] Executed action "/Index" in 4.7672ms
2018-11-11 14:59:37.235 +07:00 [Debug] Connection id ""0HLI7LEAHLGRH"" completed keep alive response.
2018-11-11 14:59:37.235 +07:00 [Information] Request finished in 5.8444ms 200 text/html; charset=utf-8
2018-11-11 15:00:52.601 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 15:00:52.645 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 15:00:52.653 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 15:00:52.666 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 15:00:52.691 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 15:00:52.702 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 15:00:52.706 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 15:00:52.724 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 15:00:52.744 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 15:00:52.774 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 15:00:52.778 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 15:00:52.890 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 15:00:52.910 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 15:00:52.912 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 15:00:52.912 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 15:00:52.912 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 15:00:52.913 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 15:00:53.134 +07:00 [Debug] Hosting starting
2018-11-11 15:00:53.230 +07:00 [Debug] Hosting started
2018-11-11 15:00:53.230 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 15:00:53.230 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 15:00:53.230 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 15:00:53.234 +07:00 [Debug] Connection id ""0HLI7LF6O1LQR"" started.
2018-11-11 15:00:53.380 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 15:00:53.458 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 15:00:53.523 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 15:00:53.644 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 15:00:53.694 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:00:53.708 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:00:53.713 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 15:00:54.047 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 15:00:55.084 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-11 15:00:56.443 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1357.1255ms.
2018-11-11 15:00:56.548 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 15:00:56.609 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 60.2415ms.
2018-11-11 15:00:56.645 +07:00 [Debug] Executing action "/Index"
2018-11-11 15:00:56.693 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 15:00:56.694 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 15:00:56.806 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 15:00:56.906 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 15:00:57.050 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 143.8829ms.
2018-11-11 15:00:57.062 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:00:57.064 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:00:57.081 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:00:57.081 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:00:57.127 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:00:57.201 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 15:00:57.258 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 57.3329ms.
2018-11-11 15:00:57.286 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:00:57.298 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:00:57.303 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 15:00:57.411 +07:00 [Information] Executed action "/Index" in 764.8484ms
2018-11-11 15:00:57.420 +07:00 [Debug] Connection id ""0HLI7LF6O1LQR"" completed keep alive response.
2018-11-11 15:00:57.427 +07:00 [Information] Request finished in 4060.5021ms 200 text/html; charset=utf-8
2018-11-11 15:00:57.454 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 15:00:57.467 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 15:00:57.487 +07:00 [Debug] Connection id ""0HLI7LF6O1LQR"" completed keep alive response.
2018-11-11 15:00:57.487 +07:00 [Information] Request finished in 32.9905ms 200 image/x-icon
2018-11-11 15:01:43.274 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 15:01:43.274 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 15:01:43.275 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 15:01:43.276 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:01:43.276 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:01:43.277 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 15:01:43.279 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 15:01:43.330 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 15:01:43.361 +07:00 [Information] Authorization was successful for user: "quyenth@gmail.com".
2018-11-11 15:01:43.386 +07:00 [Information] Executing action method "AspNetCore.Controllers.TestController.Index (AspNetCore)" with arguments (null) - ModelState is Valid
2018-11-11 15:01:43.387 +07:00 [Debug] Executed action method "AspNetCore.Controllers.TestController.Index (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult".
2018-11-11 15:01:43.401 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 15:01:43.408 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 15:01:43.409 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 15:01:43.439 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 108.0845ms
2018-11-11 15:01:43.439 +07:00 [Debug] Connection id ""0HLI7LF6O1LQR"" completed keep alive response.
2018-11-11 15:01:43.439 +07:00 [Information] Request finished in 165.0363ms 200 application/json; charset=utf-8
2018-11-11 15:02:26.044 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/api/v1/default/Index application/x-www-form-urlencoded 111
2018-11-11 15:02:26.045 +07:00 [Debug] "POST" requests are not supported
2018-11-11 15:02:26.045 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:02:26.045 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:02:26.045 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 15:02:26.045 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 15:02:26.050 +07:00 [Debug] Action '"AspNetCore.Controllers.TestController.Index (AspNetCore)"' with id '"dcdf82ca-f566-4ea4-8782-f67de7b1cf8a"' did not match the constraint '"Microsoft.AspNetCore.Mvc.Internal.HttpMethodActionConstraint"'
2018-11-11 15:02:26.057 +07:00 [Debug] No actions matched the current request. Route values: []
2018-11-11 15:02:26.061 +07:00 [Debug] Request did not match any routes.
2018-11-11 15:02:26.070 +07:00 [Debug] Connection id ""0HLI7LF6O1LQR"", Request id ""0HLI7LF6O1LQR:00000004"": started reading request body.
2018-11-11 15:02:26.086 +07:00 [Debug] Connection id ""0HLI7LF6O1LQR"", Request id ""0HLI7LF6O1LQR:00000004"": done reading request body.
2018-11-11 15:02:26.089 +07:00 [Debug] Connection id ""0HLI7LF6O1LQR"" completed keep alive response.
2018-11-11 15:02:26.089 +07:00 [Information] Request finished in 44.4939ms 404 
2018-11-11 15:03:19.617 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index application/x-www-form-urlencoded 
2018-11-11 15:03:19.617 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 15:03:19.618 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:03:19.618 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:03:19.618 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 15:03:19.618 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 15:03:19.619 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 15:03:19.619 +07:00 [Information] Authorization failed for user: null.
2018-11-11 15:03:19.620 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-11-11 15:03:19.623 +07:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2018-11-11 15:03:19.635 +07:00 [Information] AuthenticationScheme: "Identity.Application" was challenged.
2018-11-11 15:03:19.635 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 15.8024ms
2018-11-11 15:03:19.635 +07:00 [Debug] Connection id ""0HLI7LF6O1LQR"" completed keep alive response.
2018-11-11 15:03:19.635 +07:00 [Information] Request finished in 17.711ms 302 
2018-11-11 15:03:19.640 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/account/login?returnUrl=%2Fapi%2Fv1%2Fdefault%2FIndex  
2018-11-11 15:03:19.640 +07:00 [Debug] The request path "/account/login" does not match a supported file type
2018-11-11 15:03:19.640 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:03:19.641 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:03:19.641 +07:00 [Verbose] No endpoint entry found for request path: "/account/login"
2018-11-11 15:03:19.641 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 15:03:19.736 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' started.
2018-11-11 15:03:20.073 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' completed in 336.9047ms.
2018-11-11 15:03:20.102 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 15:03:20.189 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 15:03:20.190 +07:00 [Information] Executing handler method "OnGetAsync" with arguments (["/api/v1/default/Index"]) - ModelState is Valid
2018-11-11 15:03:20.229 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 15:03:20.245 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 15:03:20.253 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:03:20.253 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:03:20.253 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 15:03:20.376 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 15:03:20.377 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:03:20.377 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:03:20.377 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:03:20.377 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:03:20.377 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:03:20.380 +07:00 [Debug] View lookup cache miss for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 15:03:20.435 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' started.
2018-11-11 15:03:20.500 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' completed in 64.9217ms.
2018-11-11 15:03:20.549 +07:00 [Information] Executed action "/Account/Login" in 447.0193ms
2018-11-11 15:03:20.549 +07:00 [Debug] Connection id ""0HLI7LF6O1LQR"" completed keep alive response.
2018-11-11 15:03:20.549 +07:00 [Information] Request finished in 909.5448ms 200 text/html; charset=utf-8
2018-11-11 15:04:33.214 +07:00 [Debug] Connection id ""0HLI7LF6O1LQR"" received FIN.
2018-11-11 15:04:33.219 +07:00 [Debug] Connection id ""0HLI7LF6O1LQR"" disconnecting.
2018-11-11 15:04:33.225 +07:00 [Debug] Connection id ""0HLI7LF6O1LQR"" sending FIN.
2018-11-11 15:04:33.234 +07:00 [Debug] Connection id ""0HLI7LF6O1LQR"" stopped.
2018-11-11 15:07:49.928 +07:00 [Debug] Connection id ""0HLI7LF6O1LQS"" started.
2018-11-11 15:07:49.928 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 15:07:49.928 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 15:07:49.928 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 15:07:49.929 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:07:49.929 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:07:49.929 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 15:07:49.929 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 15:07:49.929 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 15:07:49.929 +07:00 [Information] Authorization was successful for user: "quyenth@gmail.com".
2018-11-11 15:07:49.930 +07:00 [Information] Executing action method "AspNetCore.Controllers.TestController.Index (AspNetCore)" with arguments (null) - ModelState is Valid
2018-11-11 15:07:49.930 +07:00 [Debug] Executed action method "AspNetCore.Controllers.TestController.Index (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult".
2018-11-11 15:07:49.930 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 15:07:49.930 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 15:07:49.930 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 15:07:49.930 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 0.8795ms
2018-11-11 15:07:49.930 +07:00 [Debug] Connection id ""0HLI7LF6O1LQS"" completed keep alive response.
2018-11-11 15:07:49.930 +07:00 [Information] Request finished in 2.2968ms 200 application/json; charset=utf-8
2018-11-11 15:07:54.323 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 15:07:54.323 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 15:07:54.323 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 15:07:54.324 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:07:54.324 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:07:54.324 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 15:07:54.324 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 15:07:54.324 +07:00 [Debug] Executing action "/Index"
2018-11-11 15:07:54.325 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 15:07:54.325 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 15:07:54.327 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 15:07:54.328 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:07:54.328 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:07:54.328 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:07:54.328 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:07:54.328 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:07:54.328 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:07:54.328 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:07:54.329 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 15:07:54.329 +07:00 [Information] Executed action "/Index" in 4.5383ms
2018-11-11 15:07:54.329 +07:00 [Debug] Connection id ""0HLI7LF6O1LQS"" completed keep alive response.
2018-11-11 15:07:54.329 +07:00 [Information] Request finished in 6.5232ms 200 text/html; charset=utf-8
2018-11-11 15:07:54.349 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/images/banner1.svg  
2018-11-11 15:07:54.349 +07:00 [Debug] Connection id ""0HLI7LF6O1LQT"" started.
2018-11-11 15:07:54.350 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/images/banner2.svg  
2018-11-11 15:07:54.352 +07:00 [Debug] Connection id ""0HLI7LF6O1LQU"" started.
2018-11-11 15:07:54.352 +07:00 [Debug] Connection id ""0HLI7LF6O1LQV"" started.
2018-11-11 15:07:54.352 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/js/site.js?v=EWaMeWsJBYWmL2g_KkgXZQ5nPe-a3Ichp0LEgzXczKo  
2018-11-11 15:07:54.352 +07:00 [Debug] Connection id ""0HLI7LF6O1LR0"" started.
2018-11-11 15:07:54.352 +07:00 [Debug] Connection id ""0HLI7LF6O1LR2"" started.
2018-11-11 15:07:54.352 +07:00 [Debug] Connection id ""0HLI7LF6O1LR1"" started.
2018-11-11 15:07:54.352 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/lib/bootstrap/dist/js/bootstrap.js  
2018-11-11 15:07:54.352 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/lib/jquery/dist/jquery.js  
2018-11-11 15:07:54.353 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/images/banner3.svg  
2018-11-11 15:07:54.353 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/images/banner4.svg  
2018-11-11 15:07:54.360 +07:00 [Information] The file "/images/banner1.svg" was not modified
2018-11-11 15:07:54.360 +07:00 [Information] The file "/lib/bootstrap/dist/js/bootstrap.js" was not modified
2018-11-11 15:07:54.360 +07:00 [Information] The file "/images/banner4.svg" was not modified
2018-11-11 15:07:54.360 +07:00 [Information] The file "/images/banner2.svg" was not modified
2018-11-11 15:07:54.360 +07:00 [Information] The file "/lib/jquery/dist/jquery.js" was not modified
2018-11-11 15:07:54.360 +07:00 [Information] The file "/images/banner3.svg" was not modified
2018-11-11 15:07:54.360 +07:00 [Information] The file "/js/site.js" was not modified
2018-11-11 15:07:54.369 +07:00 [Debug] Connection id ""0HLI7LF6O1LR3"" started.
2018-11-11 15:07:54.369 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2  
2018-11-11 15:07:54.370 +07:00 [Information] The file "/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2" was not modified
2018-11-11 15:07:54.376 +07:00 [Debug] Handled. Status code: 304 File: "/lib/bootstrap/dist/js/bootstrap.js"
2018-11-11 15:07:54.376 +07:00 [Debug] Handled. Status code: 304 File: "/images/banner2.svg"
2018-11-11 15:07:54.376 +07:00 [Debug] Handled. Status code: 304 File: "/images/banner4.svg"
2018-11-11 15:07:54.376 +07:00 [Debug] Handled. Status code: 304 File: "/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2"
2018-11-11 15:07:54.376 +07:00 [Debug] Handled. Status code: 304 File: "/images/banner3.svg"
2018-11-11 15:07:54.376 +07:00 [Debug] Handled. Status code: 304 File: "/lib/jquery/dist/jquery.js"
2018-11-11 15:07:54.376 +07:00 [Debug] Handled. Status code: 304 File: "/js/site.js"
2018-11-11 15:07:54.376 +07:00 [Debug] Handled. Status code: 304 File: "/images/banner1.svg"
2018-11-11 15:07:54.377 +07:00 [Debug] Connection id ""0HLI7LF6O1LQV"" completed keep alive response.
2018-11-11 15:07:54.377 +07:00 [Debug] Connection id ""0HLI7LF6O1LR0"" completed keep alive response.
2018-11-11 15:07:54.377 +07:00 [Debug] Connection id ""0HLI7LF6O1LQT"" completed keep alive response.
2018-11-11 15:07:54.377 +07:00 [Debug] Connection id ""0HLI7LF6O1LR3"" completed keep alive response.
2018-11-11 15:07:54.377 +07:00 [Information] Request finished in 24.963ms 304 application/javascript
2018-11-11 15:07:54.377 +07:00 [Information] Request finished in 27.8288ms 304 image/svg+xml
2018-11-11 15:07:54.377 +07:00 [Information] Request finished in 8.1823ms 304 font/woff2
2018-11-11 15:07:54.377 +07:00 [Information] Request finished in 24.9706ms 304 application/javascript
2018-11-11 15:07:54.378 +07:00 [Debug] Connection id ""0HLI7LF6O1LQS"" completed keep alive response.
2018-11-11 15:07:54.377 +07:00 [Debug] Connection id ""0HLI7LF6O1LR1"" completed keep alive response.
2018-11-11 15:07:54.378 +07:00 [Information] Request finished in 28.8378ms 304 image/svg+xml
2018-11-11 15:07:54.378 +07:00 [Debug] Connection id ""0HLI7LF6O1LQU"" completed keep alive response.
2018-11-11 15:07:54.378 +07:00 [Information] Request finished in 25.2531ms 304 image/svg+xml
2018-11-11 15:07:54.378 +07:00 [Information] Request finished in 25.9211ms 304 application/javascript
2018-11-11 15:07:54.377 +07:00 [Debug] Connection id ""0HLI7LF6O1LR2"" completed keep alive response.
2018-11-11 15:07:54.379 +07:00 [Information] Request finished in 26.0443ms 304 image/svg+xml
2018-11-11 15:07:55.850 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/Account/Logout application/x-www-form-urlencoded 225
2018-11-11 15:07:55.851 +07:00 [Debug] "POST" requests are not supported
2018-11-11 15:07:55.857 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 15:07:55.857 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:07:55.857 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:07:55.857 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Logout"
2018-11-11 15:07:55.857 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Logout"'.
2018-11-11 15:07:55.872 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Logout (AspNetCore)"
2018-11-11 15:07:55.905 +07:00 [Debug] Connection id ""0HLI7LF6O1LR3"", Request id ""0HLI7LF6O1LR3:00000002"": started reading request body.
2018-11-11 15:07:55.908 +07:00 [Debug] Connection id ""0HLI7LF6O1LR3"", Request id ""0HLI7LF6O1LR3:00000002"": done reading request body.
2018-11-11 15:07:55.912 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:07:55.912 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:07:55.914 +07:00 [Debug] Antiforgery successfully validated a request.
2018-11-11 15:07:55.915 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Logout (AspNetCore)" with arguments (null) - ModelState is Valid
2018-11-11 15:07:55.919 +07:00 [Information] AuthenticationScheme: "Identity.Application" signed out.
2018-11-11 15:07:55.920 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 15:07:55.920 +07:00 [Information] AuthenticationScheme: "Identity.TwoFactorUserId" signed out.
2018-11-11 15:07:55.921 +07:00 [Information] User logged out.
2018-11-11 15:07:55.921 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Logout (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.RedirectToPageResult".
2018-11-11 15:07:55.924 +07:00 [Information] Executing RedirectToPageResult, redirecting to "/Index".
2018-11-11 15:07:55.924 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Logout (AspNetCore)" in 52.2934ms
2018-11-11 15:07:55.924 +07:00 [Debug] Connection id ""0HLI7LF6O1LR3"" completed keep alive response.
2018-11-11 15:07:55.925 +07:00 [Information] Request finished in 74.2322ms 302 
2018-11-11 15:07:55.928 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 15:07:55.928 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 15:07:55.928 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:07:55.928 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:07:55.928 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 15:07:55.928 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 15:07:55.928 +07:00 [Debug] Executing action "/Index"
2018-11-11 15:07:55.928 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 15:07:55.929 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 15:07:55.929 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 15:07:55.929 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:07:55.929 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:07:55.929 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:07:55.929 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:07:55.929 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:07:55.929 +07:00 [Information] Executed action "/Index" in 1.0375ms
2018-11-11 15:07:55.930 +07:00 [Debug] Connection id ""0HLI7LF6O1LQS"" completed keep alive response.
2018-11-11 15:07:55.930 +07:00 [Information] Request finished in 1.8519ms 200 text/html; charset=utf-8
2018-11-11 15:07:57.945 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 15:07:57.946 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 15:07:57.946 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:07:57.946 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:07:57.946 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 15:07:57.946 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 15:07:57.946 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 15:07:57.946 +07:00 [Information] Authorization failed for user: null.
2018-11-11 15:07:57.946 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-11-11 15:07:57.946 +07:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2018-11-11 15:07:57.946 +07:00 [Information] AuthenticationScheme: "Identity.Application" was challenged.
2018-11-11 15:07:57.946 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 0.4132ms
2018-11-11 15:07:57.947 +07:00 [Debug] Connection id ""0HLI7LF6O1LR0"" completed keep alive response.
2018-11-11 15:07:57.947 +07:00 [Information] Request finished in 1.3458ms 302 
2018-11-11 15:07:57.950 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/account/login?returnUrl=%2Fapi%2Fv1%2Fdefault%2FIndex  
2018-11-11 15:07:57.950 +07:00 [Debug] The request path "/account/login" does not match a supported file type
2018-11-11 15:07:57.950 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:07:57.950 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:07:57.951 +07:00 [Verbose] No endpoint entry found for request path: "/account/login"
2018-11-11 15:07:57.951 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 15:07:57.951 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 15:07:57.953 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 15:07:57.953 +07:00 [Information] Executing handler method "OnGetAsync" with arguments (["/api/v1/default/Index"]) - ModelState is Valid
2018-11-11 15:07:57.953 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 15:07:57.953 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 15:07:57.953 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:07:57.953 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:07:57.953 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 15:07:57.957 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 15:07:57.957 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:07:57.957 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:07:57.957 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:07:57.957 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:07:57.957 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:07:57.957 +07:00 [Debug] View lookup cache hit for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 15:07:57.958 +07:00 [Information] Executed action "/Account/Login" in 6.9128ms
2018-11-11 15:07:57.958 +07:00 [Debug] Connection id ""0HLI7LF6O1LR2"" completed keep alive response.
2018-11-11 15:07:57.958 +07:00 [Information] Request finished in 7.9864ms 200 text/html; charset=utf-8
2018-11-11 15:09:56.142 +07:00 [Debug] Connection id ""0HLI7LF6O1LQT"" disconnecting.
2018-11-11 15:09:56.142 +07:00 [Debug] Connection id ""0HLI7LF6O1LR1"" disconnecting.
2018-11-11 15:09:56.142 +07:00 [Debug] Connection id ""0HLI7LF6O1LQU"" disconnecting.
2018-11-11 15:09:56.142 +07:00 [Debug] Connection id ""0HLI7LF6O1LQV"" disconnecting.
2018-11-11 15:09:56.142 +07:00 [Debug] Connection id ""0HLI7LF6O1LQV"" stopped.
2018-11-11 15:09:56.142 +07:00 [Debug] Connection id ""0HLI7LF6O1LQT"" stopped.
2018-11-11 15:09:56.142 +07:00 [Debug] Connection id ""0HLI7LF6O1LQV"" sending FIN.
2018-11-11 15:09:56.142 +07:00 [Debug] Connection id ""0HLI7LF6O1LR1"" stopped.
2018-11-11 15:09:56.142 +07:00 [Debug] Connection id ""0HLI7LF6O1LR1"" sending FIN.
2018-11-11 15:09:56.143 +07:00 [Debug] Connection id ""0HLI7LF6O1LQU"" sending FIN.
2018-11-11 15:09:56.143 +07:00 [Debug] Connection id ""0HLI7LF6O1LQU"" stopped.
2018-11-11 15:09:56.142 +07:00 [Debug] Connection id ""0HLI7LF6O1LQT"" sending FIN.
2018-11-11 15:09:57.141 +07:00 [Debug] Connection id ""0HLI7LF6O1LQS"" disconnecting.
2018-11-11 15:09:57.141 +07:00 [Debug] Connection id ""0HLI7LF6O1LR3"" disconnecting.
2018-11-11 15:09:57.141 +07:00 [Debug] Connection id ""0HLI7LF6O1LQS"" sending FIN.
2018-11-11 15:09:57.141 +07:00 [Debug] Connection id ""0HLI7LF6O1LR3"" sending FIN.
2018-11-11 15:09:57.141 +07:00 [Debug] Connection id ""0HLI7LF6O1LQS"" stopped.
2018-11-11 15:09:57.141 +07:00 [Debug] Connection id ""0HLI7LF6O1LR3"" stopped.
2018-11-11 15:09:58.141 +07:00 [Debug] Connection id ""0HLI7LF6O1LR0"" disconnecting.
2018-11-11 15:09:58.141 +07:00 [Debug] Connection id ""0HLI7LF6O1LR2"" disconnecting.
2018-11-11 15:09:58.141 +07:00 [Debug] Connection id ""0HLI7LF6O1LR0"" sending FIN.
2018-11-11 15:09:58.141 +07:00 [Debug] Connection id ""0HLI7LF6O1LR0"" stopped.
2018-11-11 15:09:58.141 +07:00 [Debug] Connection id ""0HLI7LF6O1LR2"" sending FIN.
2018-11-11 15:09:58.141 +07:00 [Debug] Connection id ""0HLI7LF6O1LR2"" stopped.
2018-11-11 15:11:54.099 +07:00 [Debug] Connection id ""0HLI7LF6O1LR4"" started.
2018-11-11 15:11:54.100 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 15:11:54.100 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 15:11:54.100 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:11:54.100 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:11:54.100 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 15:11:54.100 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 15:11:54.100 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 15:11:54.100 +07:00 [Information] Authorization failed for user: null.
2018-11-11 15:11:54.100 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-11-11 15:11:54.100 +07:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2018-11-11 15:11:54.101 +07:00 [Information] AuthenticationScheme: "Identity.Application" was challenged.
2018-11-11 15:11:54.101 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 0.2739ms
2018-11-11 15:11:54.101 +07:00 [Debug] Connection id ""0HLI7LF6O1LR4"" completed keep alive response.
2018-11-11 15:11:54.101 +07:00 [Information] Request finished in 1.0696ms 302 
2018-11-11 15:11:54.108 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/account/login?returnUrl=%2Fapi%2Fv1%2Fdefault%2FIndex  
2018-11-11 15:11:54.109 +07:00 [Debug] The request path "/account/login" does not match a supported file type
2018-11-11 15:11:54.109 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:11:54.109 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:11:54.109 +07:00 [Verbose] No endpoint entry found for request path: "/account/login"
2018-11-11 15:11:54.109 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 15:11:54.109 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 15:11:54.110 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 15:11:54.110 +07:00 [Information] Executing handler method "OnGetAsync" with arguments (["/api/v1/default/Index"]) - ModelState is Valid
2018-11-11 15:11:54.110 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 15:11:54.110 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 15:11:54.110 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:11:54.111 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:11:54.111 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 15:11:54.113 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 15:11:54.113 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:11:54.113 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:11:54.113 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:11:54.113 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:11:54.114 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:11:54.114 +07:00 [Debug] View lookup cache hit for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 15:11:54.114 +07:00 [Information] Executed action "/Account/Login" in 4.8181ms
2018-11-11 15:11:54.114 +07:00 [Debug] Connection id ""0HLI7LF6O1LR4"" completed keep alive response.
2018-11-11 15:11:54.114 +07:00 [Information] Request finished in 6.2099ms 200 text/html; charset=utf-8
2018-11-11 15:12:23.403 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 15:12:23.403 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 15:12:23.404 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:12:23.404 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:12:23.404 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-11 15:12:23.404 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 15:12:23.410 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 15:12:23.417 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 15:12:23.420 +07:00 [Information] Test log
2018-11-11 15:12:23.501 +07:00 [Debug] Connection id ""0HLI7LF6O1LR5"" started.
2018-11-11 15:12:23.503 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 15:12:23.503 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 15:12:23.504 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:12:23.504 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:12:23.504 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 15:12:23.512 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 15:12:23.512 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 15:12:23.521 +07:00 [Verbose] Processing discovery request.
2018-11-11 15:12:23.522 +07:00 [Debug] Start discovery request
2018-11-11 15:12:23.526 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 15:12:23.573 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-11 15:12:23.618 +07:00 [Debug] Connection id ""0HLI7LF6O1LR5"" completed keep alive response.
2018-11-11 15:12:23.619 +07:00 [Information] Request finished in 115.8184ms 200 application/json; charset=UTF-8
2018-11-11 15:12:23.641 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-11 15:12:23.641 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-11 15:12:23.641 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:12:23.641 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:12:23.641 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-11 15:12:23.642 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-11 15:12:23.642 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-11 15:12:23.645 +07:00 [Verbose] Processing discovery request.
2018-11-11 15:12:23.645 +07:00 [Debug] Start key discovery request
2018-11-11 15:12:23.645 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 15:12:23.654 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-11 15:12:23.675 +07:00 [Debug] Connection id ""0HLI7LF6O1LR5"" completed keep alive response.
2018-11-11 15:12:23.675 +07:00 [Information] Request finished in 34.5676ms 200 application/json; charset=UTF-8
2018-11-11 15:12:23.705 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-11 15:12:23.705 +07:00 [Debug] "POST" requests are not supported
2018-11-11 15:12:23.705 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:12:23.705 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:12:23.705 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-11 15:12:23.711 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-11 15:12:23.711 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-11 15:12:23.714 +07:00 [Verbose] Processing token request.
2018-11-11 15:12:23.719 +07:00 [Debug] Start token request.
2018-11-11 15:12:23.726 +07:00 [Debug] Start client validation
2018-11-11 15:12:23.731 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-11 15:12:23.731 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-11 15:12:23.732 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-11 15:12:23.739 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-11 15:12:23.740 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-11 15:12:23.748 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-11 15:12:23.749 +07:00 [Debug] Client validation success
2018-11-11 15:12:23.752 +07:00 [Debug] Connection id ""0HLI7LF6O1LR5"", Request id ""0HLI7LF6O1LR5:00000003"": started reading request body.
2018-11-11 15:12:23.752 +07:00 [Debug] Connection id ""0HLI7LF6O1LR5"", Request id ""0HLI7LF6O1LR5:00000003"": done reading request body.
2018-11-11 15:12:23.755 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-11 15:12:23.760 +07:00 [Debug] Start token request validation
2018-11-11 15:12:23.773 +07:00 [Debug] Start resource owner password token request validation
2018-11-11 15:12:24.394 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 15:12:24.395 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 15:12:24.419 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-11 15:12:24.434 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 15:12:24.434 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 15:12:24.438 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-11 15:12:24.713 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 15:12:24.838 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 15:12:24.894 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 15:12:25.076 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
                        FROM [AspNetUsers] AS [u]
                        WHERE [u].[NormalizedUserName] = @__normalizedUserName_0, 
                    shaper: UnbufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 15:12:25.150 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:12:25.345 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:12:25.401 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:12:25.501 +07:00 [Information] Executed DbCommand ("113"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:12:25.658 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:12:25.659 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:12:25.669 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:12:25.681 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 15:12:25.789 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-11 15:12:25.806 +07:00 [Debug] Resource owner password token request validation success.
2018-11-11 15:12:25.806 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-11 15:12:25.818 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api2\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api2\"
  }
}"
2018-11-11 15:12:25.819 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-11 15:12:25.824 +07:00 [Verbose] Creating response for password request
2018-11-11 15:12:25.839 +07:00 [Verbose] Creating access token
2018-11-11 15:12:25.848 +07:00 [Debug] Getting claims for access token for client: "ApiApplication"
2018-11-11 15:12:25.849 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-11 15:12:25.912 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 15:12:25.928 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 15:12:26.001 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 15:12:26.001 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:12:26.003 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:12:26.003 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 15:12:26.010 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 15:12:26.012 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:12:26.012 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:12:26.012 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:12:26.040 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 15:12:26.045 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 15:12:26.072 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 15:12:26.073 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:12:26.073 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:12:26.073 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 15:12:26.076 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 15:12:26.077 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:12:26.077 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:12:26.077 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:12:26.096 +07:00 [Verbose] Creating JWT access token
2018-11-11 15:12:26.156 +07:00 [Verbose] Access token issued for "ApiApplication (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE5MjM5NDYsImV4cCI6MTU0MTkyNzU0NiwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMiJdLCJjbGllbnRfaWQiOiJBcGlBcHBsaWNhdGlvbiIsInN1YiI6ImI5NmU0OGFiLTUyMWQtNDJjMS05OWI2LWZjNjYwM2ViY2Q3YSIsImF1dGhfdGltZSI6MTU0MTkyMzk0NSwiaWRwIjoibG9jYWwiLCJnaXZlbl9uYW1lIjoiVGjDoWkgSOG7k25nIFF1eeG7g24iLCJlbWFpbCI6InF1eWVudGhAZ21haWwuY29tIiwianRpIjoiODEyNWI3NTU0MTIzMTgxYTcyZDA3NjAyOTczNTlmMGMiLCJzY29wZSI6WyJhcGkyIl0sImFtciI6WyJwd2QiXX0.hH-_Td6djYBGpjysHnVCt4ZJOJj6POWAetBqY_7uoLHKXZrtMjgMX72i70LaVKkTH28yI49Bi118aF_dBRyMya7QOJe5VHbGR5U_pdu-bVCAJC44F7u_SZ67RiH-2UNvEK3g_4dxPxYs5TBMysZoj1AmB-SZd8jjDNKNSw0Vn6WfA4EM9aClEvVzjlUDGYuBi-vckfaT2V6aI6TaKGrHQQ1AK06uqn4tr-rn4y2ZV4ug5JvufP-MZKQCtKR55X9xnW7ZNGFzeYqqPkrDskf5Re32BD1T63UyYsIPJsCB2j4KyPrLwXe12VoPJxLgBJmkWIK4gRZNcFaGwVoxqsuB2g"
2018-11-11 15:12:26.156 +07:00 [Debug] Token request success.
2018-11-11 15:12:26.156 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-11 15:12:26.165 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 15:12:26.169 +07:00 [Debug] Connection id ""0HLI7LF6O1LR5"" completed keep alive response.
2018-11-11 15:12:26.169 +07:00 [Information] Request finished in 2464.626ms 200 application/json; charset=UTF-8
2018-11-11 15:12:26.176 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 15:12:26.182 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:12:26.182 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:12:26.184 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:12:26.184 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:12:26.185 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:12:26.185 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:12:26.185 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:12:26.185 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 15:12:26.191 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:12:26.192 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:12:26.192 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:12:26.192 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:12:26.192 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:12:26.192 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:12:26.193 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:12:26.201 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-11 15:12:26.202 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 15:12:26.202 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 15:12:26.202 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 15:12:26.218 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 2808.0009ms
2018-11-11 15:12:26.218 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 15:12:26.218 +07:00 [Debug] Connection id ""0HLI7LF6O1LR4"" completed keep alive response.
2018-11-11 15:12:26.218 +07:00 [Information] Request finished in 2815.1395ms 200 application/json; charset=utf-8
2018-11-11 15:12:26.242 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 15:12:26.242 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 15:12:26.243 +07:00 [Debug] Connection id ""0HLI7LF6O1LR5"" completed keep alive response.
2018-11-11 15:12:26.243 +07:00 [Information] Request finished in 0.8045ms 200 image/x-icon
2018-11-11 15:12:41.172 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 15:12:41.172 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 15:12:41.172 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:12:41.172 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:12:41.172 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 15:12:41.172 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 15:12:41.172 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 15:12:41.172 +07:00 [Information] Authorization failed for user: null.
2018-11-11 15:12:41.172 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-11-11 15:12:41.172 +07:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2018-11-11 15:12:41.172 +07:00 [Information] AuthenticationScheme: "Identity.Application" was challenged.
2018-11-11 15:12:41.172 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 0.2922ms
2018-11-11 15:12:41.173 +07:00 [Debug] Connection id ""0HLI7LF6O1LR4"" completed keep alive response.
2018-11-11 15:12:41.173 +07:00 [Information] Request finished in 1.1334ms 302 
2018-11-11 15:12:41.191 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/account/login?returnUrl=%2Fapi%2Fv1%2Fdefault%2FIndex  
2018-11-11 15:12:41.191 +07:00 [Debug] The request path "/account/login" does not match a supported file type
2018-11-11 15:12:41.191 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:12:41.192 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:12:41.192 +07:00 [Verbose] No endpoint entry found for request path: "/account/login"
2018-11-11 15:12:41.192 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 15:12:41.192 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 15:12:41.192 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 15:12:41.192 +07:00 [Information] Executing handler method "OnGetAsync" with arguments (["/api/v1/default/Index"]) - ModelState is Valid
2018-11-11 15:12:41.192 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 15:12:41.192 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 15:12:41.192 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:12:41.193 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:12:41.193 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 15:12:41.194 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 15:12:41.194 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:12:41.194 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:12:41.194 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:12:41.194 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:12:41.194 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:12:41.194 +07:00 [Debug] View lookup cache hit for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 15:12:41.195 +07:00 [Information] Executed action "/Account/Login" in 2.8733ms
2018-11-11 15:12:41.195 +07:00 [Debug] Connection id ""0HLI7LF6O1LR5"" completed keep alive response.
2018-11-11 15:12:41.195 +07:00 [Information] Request finished in 3.889ms 200 text/html; charset=utf-8
2018-11-11 15:13:43.213 +07:00 [Debug] Connection id ""0HLI7LF6O1LR4"" received FIN.
2018-11-11 15:13:43.213 +07:00 [Debug] Connection id ""0HLI7LF6O1LR5"" received FIN.
2018-11-11 15:13:43.213 +07:00 [Debug] Connection id ""0HLI7LF6O1LR4"" disconnecting.
2018-11-11 15:13:43.213 +07:00 [Debug] Connection id ""0HLI7LF6O1LR5"" disconnecting.
2018-11-11 15:13:43.213 +07:00 [Debug] Connection id ""0HLI7LF6O1LR4"" sending FIN.
2018-11-11 15:13:43.213 +07:00 [Debug] Connection id ""0HLI7LF6O1LR5"" stopped.
2018-11-11 15:13:43.213 +07:00 [Debug] Connection id ""0HLI7LF6O1LR5"" sending FIN.
2018-11-11 15:13:43.213 +07:00 [Debug] Connection id ""0HLI7LF6O1LR4"" stopped.
2018-11-11 15:14:12.430 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 15:14:12.474 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 15:14:12.482 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 15:14:12.494 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 15:14:12.513 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 15:14:12.523 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 15:14:12.528 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 15:14:12.560 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 15:14:12.576 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 15:14:12.596 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 15:14:12.598 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 15:14:12.669 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 15:14:12.683 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 15:14:12.685 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 15:14:12.685 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 15:14:12.685 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 15:14:12.686 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 15:14:12.872 +07:00 [Debug] Hosting starting
2018-11-11 15:14:12.967 +07:00 [Debug] Hosting started
2018-11-11 15:14:12.967 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 15:14:12.967 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 15:14:12.967 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 15:14:13.227 +07:00 [Debug] Connection id ""0HLI7LML56PHO"" started.
2018-11-11 15:14:13.391 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 15:14:13.472 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 15:14:13.525 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:14:13.539 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:14:13.544 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-11 15:14:13.544 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:14:13.879 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 15:14:13.986 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 15:14:14.112 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 15:14:14.250 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 15:14:14.254 +07:00 [Information] Test log
2018-11-11 15:14:14.318 +07:00 [Debug] Connection id ""0HLI7LML56PHP"" started.
2018-11-11 15:14:14.319 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 15:14:14.320 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 15:14:14.320 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:14:14.320 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:14:14.320 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 15:14:14.325 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 15:14:14.325 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 15:14:14.328 +07:00 [Verbose] Processing discovery request.
2018-11-11 15:14:14.329 +07:00 [Debug] Start discovery request
2018-11-11 15:14:14.330 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 15:14:14.371 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-11 15:14:14.486 +07:00 [Debug] Connection id ""0HLI7LML56PHP"" completed keep alive response.
2018-11-11 15:14:14.497 +07:00 [Information] Request finished in 167.6982ms 200 application/json; charset=UTF-8
2018-11-11 15:14:14.509 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-11 15:14:14.509 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-11 15:14:14.509 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:14:14.509 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:14:14.509 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-11 15:14:14.510 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-11 15:14:14.510 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-11 15:14:14.514 +07:00 [Verbose] Processing discovery request.
2018-11-11 15:14:14.514 +07:00 [Debug] Start key discovery request
2018-11-11 15:14:14.514 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 15:14:14.520 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-11 15:14:14.538 +07:00 [Debug] Connection id ""0HLI7LML56PHP"" completed keep alive response.
2018-11-11 15:14:14.539 +07:00 [Information] Request finished in 29.6861ms 200 application/json; charset=UTF-8
2018-11-11 15:14:14.571 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-11 15:14:14.572 +07:00 [Debug] "POST" requests are not supported
2018-11-11 15:14:14.573 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:14:14.573 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:14:14.573 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-11 15:14:14.587 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-11 15:14:14.587 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-11 15:14:14.595 +07:00 [Verbose] Processing token request.
2018-11-11 15:14:14.605 +07:00 [Debug] Start token request.
2018-11-11 15:14:14.615 +07:00 [Debug] Start client validation
2018-11-11 15:14:14.623 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-11 15:14:14.624 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-11 15:14:14.624 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-11 15:14:14.634 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-11 15:14:14.634 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-11 15:14:14.642 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-11 15:14:14.642 +07:00 [Debug] Client validation success
2018-11-11 15:14:14.675 +07:00 [Debug] Connection id ""0HLI7LML56PHP"", Request id ""0HLI7LML56PHP:00000003"": started reading request body.
2018-11-11 15:14:14.691 +07:00 [Debug] Connection id ""0HLI7LML56PHP"", Request id ""0HLI7LML56PHP:00000003"": done reading request body.
2018-11-11 15:14:14.696 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-11 15:14:14.701 +07:00 [Debug] Start token request validation
2018-11-11 15:14:14.713 +07:00 [Debug] Start resource owner password token request validation
2018-11-11 15:14:15.284 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 15:14:15.285 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 15:14:15.310 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-11 15:14:15.326 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 15:14:15.326 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 15:14:15.329 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-11 15:14:15.596 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 15:14:15.726 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 15:14:15.782 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 15:14:15.964 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
                        FROM [AspNetUsers] AS [u]
                        WHERE [u].[NormalizedUserName] = @__normalizedUserName_0, 
                    shaper: UnbufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 15:14:16.037 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:14:16.302 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:14:16.368 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:14:16.466 +07:00 [Information] Executed DbCommand ("111"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:14:16.572 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:14:16.573 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:14:16.584 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:14:16.596 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 15:14:16.690 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-11 15:14:16.705 +07:00 [Debug] Resource owner password token request validation success.
2018-11-11 15:14:16.705 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-11 15:14:16.714 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api2\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api2\"
  }
}"
2018-11-11 15:14:16.715 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-11 15:14:16.718 +07:00 [Verbose] Creating response for password request
2018-11-11 15:14:16.729 +07:00 [Verbose] Creating access token
2018-11-11 15:14:16.736 +07:00 [Debug] Getting claims for access token for client: "ApiApplication"
2018-11-11 15:14:16.737 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-11 15:14:16.793 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 15:14:16.807 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 15:14:16.875 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 15:14:16.876 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:14:16.878 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:14:16.878 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 15:14:16.883 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 15:14:16.885 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:14:16.885 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:14:16.885 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:14:16.912 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 15:14:16.916 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 15:14:16.943 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 15:14:16.943 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:14:16.943 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:14:16.944 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 15:14:16.946 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 15:14:16.947 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:14:16.947 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:14:16.947 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:14:16.966 +07:00 [Verbose] Creating JWT access token
2018-11-11 15:14:17.066 +07:00 [Verbose] Access token issued for "ApiApplication (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE5MjQwNTcsImV4cCI6MTU0MTkyNzY1NywiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMiJdLCJjbGllbnRfaWQiOiJBcGlBcHBsaWNhdGlvbiIsInN1YiI6ImI5NmU0OGFiLTUyMWQtNDJjMS05OWI2LWZjNjYwM2ViY2Q3YSIsImF1dGhfdGltZSI6MTU0MTkyNDA1NiwiaWRwIjoibG9jYWwiLCJnaXZlbl9uYW1lIjoiVGjDoWkgSOG7k25nIFF1eeG7g24iLCJlbWFpbCI6InF1eWVudGhAZ21haWwuY29tIiwianRpIjoiNDcxODA5MGQ2ZTA0NDI4MTZmNjMzYjExNDE0NDM4YjQiLCJzY29wZSI6WyJhcGkyIl0sImFtciI6WyJwd2QiXX0.c8lhF4U3tnkeNmuJQTSbUSWABMlJWLmkFHg_mW3qDIbsIgjYQy_a50-uIwUoaAeuybDlhh-mE1ma7f5tTV0Lx7NFQ3tdM3wmaA3X11Yj7MOIEiW5A_cJt4xD-FWaaYfYXo9bdIyQObWZbyjKlyTeYUzppWDHfSGSja__Gpy2ETCvnwg-ww2-8rPXE-RuSKI-PD2RWy3hqQJ9ix3kM_dFyc2boWOK32Ir0CCw0fJ6ixPkf964H7kV3VV36yQxKLF1L_gtG0VRAUKpQJNUFQAumvanD93eRG0TVyCx1kOx96meXwOTNOt_o0ro7-OUP7KBGWRXPvc7V1kDBEwC7xAdoQ"
2018-11-11 15:14:17.066 +07:00 [Debug] Token request success.
2018-11-11 15:14:17.066 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-11 15:14:17.075 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 15:14:17.077 +07:00 [Debug] Connection id ""0HLI7LML56PHP"" completed keep alive response.
2018-11-11 15:14:17.079 +07:00 [Information] Request finished in 2508.3314ms 200 application/json; charset=UTF-8
2018-11-11 15:14:17.085 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 15:14:17.091 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:14:17.091 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:14:17.092 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:14:17.093 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:14:17.093 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:14:17.093 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:14:17.093 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:14:17.094 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 15:14:17.099 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:14:17.100 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:14:17.100 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:14:17.100 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:14:17.100 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:14:17.100 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:14:17.100 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:14:17.110 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-11 15:14:17.141 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 15:14:17.151 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 15:14:17.151 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 15:14:17.195 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 3203.2324ms
2018-11-11 15:14:17.196 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 15:14:17.196 +07:00 [Debug] Connection id ""0HLI7LML56PHO"" completed keep alive response.
2018-11-11 15:14:17.196 +07:00 [Information] Request finished in 3819.0638ms 200 application/json; charset=utf-8
2018-11-11 15:14:17.205 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 15:14:17.222 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 15:14:17.236 +07:00 [Debug] Connection id ""0HLI7LML56PHP"" completed keep alive response.
2018-11-11 15:14:17.236 +07:00 [Information] Request finished in 30.8374ms 200 image/x-icon
2018-11-11 15:14:33.615 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 15:14:33.615 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 15:14:33.615 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:14:33.615 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:14:33.615 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 15:14:33.615 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:14:33.616 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 15:14:33.628 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 15:14:33.652 +07:00 [Information] Authorization failed for user: null.
2018-11-11 15:14:33.653 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-11-11 15:14:33.656 +07:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2018-11-11 15:14:33.667 +07:00 [Information] AuthenticationScheme: "Identity.Application" was challenged.
2018-11-11 15:14:33.668 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 39.8016ms
2018-11-11 15:14:33.670 +07:00 [Debug] Connection id ""0HLI7LML56PHO"" completed keep alive response.
2018-11-11 15:14:33.670 +07:00 [Information] Request finished in 55.248ms 302 
2018-11-11 15:14:33.673 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/account/login?returnUrl=%2Fapi%2Fv1%2Fdefault%2FIndex  
2018-11-11 15:14:33.674 +07:00 [Debug] The request path "/account/login" does not match a supported file type
2018-11-11 15:14:33.674 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:14:33.674 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:14:33.674 +07:00 [Verbose] No endpoint entry found for request path: "/account/login"
2018-11-11 15:14:33.674 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:14:33.674 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 15:14:34.721 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' started.
2018-11-11 15:14:36.541 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' completed in 1819.1879ms.
2018-11-11 15:14:36.709 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 15:14:36.763 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 53.4527ms.
2018-11-11 15:14:36.778 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 15:14:36.843 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 15:14:36.850 +07:00 [Information] Executing handler method "OnGetAsync" with arguments (["/api/v1/default/Index"]) - ModelState is Valid
2018-11-11 15:14:36.888 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 15:14:36.892 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 15:14:36.980 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:14:36.994 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:14:36.998 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 15:14:37.163 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 15:14:37.227 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 15:14:37.319 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 91.8742ms.
2018-11-11 15:14:37.360 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:14:37.362 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:14:37.380 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:14:37.380 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:14:37.395 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:14:37.463 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 15:14:37.513 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 50.2585ms.
2018-11-11 15:14:37.543 +07:00 [Debug] View lookup cache miss for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 15:14:37.596 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' started.
2018-11-11 15:14:37.646 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' completed in 50.1536ms.
2018-11-11 15:14:37.683 +07:00 [Information] Executed action "/Account/Login" in 904.562ms
2018-11-11 15:14:37.685 +07:00 [Debug] Connection id ""0HLI7LML56PHP"" completed keep alive response.
2018-11-11 15:14:37.685 +07:00 [Information] Request finished in 4011.5502ms 200 text/html; charset=utf-8
2018-11-11 15:16:03.142 +07:00 [Debug] Connection id ""0HLI7LML56PHO"" received FIN.
2018-11-11 15:16:03.142 +07:00 [Debug] Connection id ""0HLI7LML56PHP"" received FIN.
2018-11-11 15:16:03.146 +07:00 [Debug] Connection id ""0HLI7LML56PHO"" disconnecting.
2018-11-11 15:16:03.146 +07:00 [Debug] Connection id ""0HLI7LML56PHP"" disconnecting.
2018-11-11 15:16:03.150 +07:00 [Debug] Connection id ""0HLI7LML56PHO"" sending FIN.
2018-11-11 15:16:03.150 +07:00 [Debug] Connection id ""0HLI7LML56PHP"" sending FIN.
2018-11-11 15:16:03.156 +07:00 [Debug] Connection id ""0HLI7LML56PHO"" stopped.
2018-11-11 15:16:03.156 +07:00 [Debug] Connection id ""0HLI7LML56PHP"" stopped.
2018-11-11 15:19:54.608 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 15:19:54.654 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 15:19:54.662 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 15:19:54.675 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 15:19:54.692 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 15:19:54.701 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 15:19:54.706 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 15:19:54.720 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 15:19:54.729 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 15:19:54.742 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 15:19:54.744 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 15:19:54.800 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 15:19:54.814 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 15:19:54.815 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 15:19:54.815 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 15:19:54.816 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 15:19:54.816 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 15:19:55.006 +07:00 [Debug] Hosting starting
2018-11-11 15:19:55.144 +07:00 [Debug] Hosting started
2018-11-11 15:19:55.144 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 15:19:55.144 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 15:19:55.144 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 15:19:55.376 +07:00 [Debug] Connection id ""0HLI7LPR49J39"" started.
2018-11-11 15:19:55.525 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 15:19:55.610 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 15:19:55.666 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:19:55.679 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:19:55.685 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 15:19:55.685 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:19:56.035 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 15:19:57.019 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-11 15:19:58.397 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1376.1406ms.
2018-11-11 15:19:58.513 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 15:19:58.575 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 61.2616ms.
2018-11-11 15:19:58.665 +07:00 [Debug] Executing action "/Index"
2018-11-11 15:19:58.718 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 15:19:58.719 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 15:19:58.843 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 15:19:58.994 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 15:19:59.203 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 208.744ms.
2018-11-11 15:19:59.216 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:19:59.219 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:19:59.235 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:19:59.235 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:19:59.297 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:19:59.427 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 15:19:59.483 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 56.124ms.
2018-11-11 15:19:59.598 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 15:19:59.743 +07:00 [Information] Executed action "/Index" in 1075.9436ms
2018-11-11 15:19:59.752 +07:00 [Debug] Connection id ""0HLI7LPR49J39"" completed keep alive response.
2018-11-11 15:19:59.757 +07:00 [Information] Request finished in 4242.5936ms 200 text/html; charset=utf-8
2018-11-11 15:19:59.762 +07:00 [Debug] Connection id ""0HLI7LPR49J3A"" started.
2018-11-11 15:19:59.763 +07:00 [Debug] Connection id ""0HLI7LPR49J3C"" started.
2018-11-11 15:19:59.763 +07:00 [Debug] Connection id ""0HLI7LPR49J3B"" started.
2018-11-11 15:19:59.764 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/lib/jquery/dist/jquery.js  
2018-11-11 15:19:59.765 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/lib/bootstrap/dist/js/bootstrap.js  
2018-11-11 15:19:59.765 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/images/banner2.svg  
2018-11-11 15:19:59.765 +07:00 [Debug] Connection id ""0HLI7LPR49J3D"" started.
2018-11-11 15:19:59.765 +07:00 [Debug] Connection id ""0HLI7LPR49J3E"" started.
2018-11-11 15:19:59.765 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/images/banner4.svg  
2018-11-11 15:19:59.765 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/js/site.js?v=EWaMeWsJBYWmL2g_KkgXZQ5nPe-a3Ichp0LEgzXczKo  
2018-11-11 15:19:59.766 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/images/banner1.svg  
2018-11-11 15:19:59.766 +07:00 [Debug] Connection id ""0HLI7LPR49J3F"" started.
2018-11-11 15:19:59.766 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/images/banner3.svg  
2018-11-11 15:19:59.782 +07:00 [Debug] Connection id ""0HLI7LPR49J3G"" started.
2018-11-11 15:19:59.782 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2  
2018-11-11 15:19:59.806 +07:00 [Information] The file "/images/banner3.svg" was not modified
2018-11-11 15:19:59.806 +07:00 [Information] The file "/images/banner1.svg" was not modified
2018-11-11 15:19:59.806 +07:00 [Information] The file "/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2" was not modified
2018-11-11 15:19:59.806 +07:00 [Information] The file "/lib/jquery/dist/jquery.js" was not modified
2018-11-11 15:19:59.806 +07:00 [Information] The file "/images/banner4.svg" was not modified
2018-11-11 15:19:59.806 +07:00 [Information] The file "/js/site.js" was not modified
2018-11-11 15:19:59.806 +07:00 [Information] The file "/images/banner2.svg" was not modified
2018-11-11 15:19:59.806 +07:00 [Information] The file "/lib/bootstrap/dist/js/bootstrap.js" was not modified
2018-11-11 15:19:59.813 +07:00 [Debug] Handled. Status code: 304 File: "/images/banner3.svg"
2018-11-11 15:19:59.813 +07:00 [Debug] Handled. Status code: 304 File: "/lib/bootstrap/dist/js/bootstrap.js"
2018-11-11 15:19:59.813 +07:00 [Debug] Handled. Status code: 304 File: "/images/banner2.svg"
2018-11-11 15:19:59.813 +07:00 [Debug] Handled. Status code: 304 File: "/images/banner4.svg"
2018-11-11 15:19:59.813 +07:00 [Debug] Handled. Status code: 304 File: "/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2"
2018-11-11 15:19:59.813 +07:00 [Debug] Handled. Status code: 304 File: "/images/banner1.svg"
2018-11-11 15:19:59.813 +07:00 [Debug] Handled. Status code: 304 File: "/lib/jquery/dist/jquery.js"
2018-11-11 15:19:59.813 +07:00 [Debug] Handled. Status code: 304 File: "/js/site.js"
2018-11-11 15:19:59.817 +07:00 [Debug] Connection id ""0HLI7LPR49J3F"" completed keep alive response.
2018-11-11 15:19:59.817 +07:00 [Debug] Connection id ""0HLI7LPR49J39"" completed keep alive response.
2018-11-11 15:19:59.817 +07:00 [Debug] Connection id ""0HLI7LPR49J3B"" completed keep alive response.
2018-11-11 15:19:59.817 +07:00 [Debug] Connection id ""0HLI7LPR49J3A"" completed keep alive response.
2018-11-11 15:19:59.817 +07:00 [Information] Request finished in 51.2014ms 304 image/svg+xml
2018-11-11 15:19:59.817 +07:00 [Information] Request finished in 52.7691ms 304 image/svg+xml
2018-11-11 15:19:59.817 +07:00 [Information] Request finished in 53.5331ms 304 application/javascript
2018-11-11 15:19:59.817 +07:00 [Information] Request finished in 51.6602ms 304 image/svg+xml
2018-11-11 15:19:59.817 +07:00 [Debug] Connection id ""0HLI7LPR49J3E"" completed keep alive response.
2018-11-11 15:19:59.818 +07:00 [Debug] Connection id ""0HLI7LPR49J3D"" completed keep alive response.
2018-11-11 15:19:59.818 +07:00 [Information] Request finished in 52.521ms 304 application/javascript
2018-11-11 15:19:59.818 +07:00 [Information] Request finished in 52.5968ms 304 image/svg+xml
2018-11-11 15:19:59.817 +07:00 [Debug] Connection id ""0HLI7LPR49J3C"" completed keep alive response.
2018-11-11 15:19:59.817 +07:00 [Debug] Connection id ""0HLI7LPR49J3G"" completed keep alive response.
2018-11-11 15:19:59.818 +07:00 [Information] Request finished in 53.6263ms 304 application/javascript
2018-11-11 15:19:59.818 +07:00 [Information] Request finished in 36.4351ms 304 font/woff2
2018-11-11 15:19:59.873 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 15:19:59.874 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 15:19:59.890 +07:00 [Debug] Connection id ""0HLI7LPR49J3A"" completed keep alive response.
2018-11-11 15:19:59.890 +07:00 [Information] Request finished in 16.7025ms 200 image/x-icon
2018-11-11 15:20:02.270 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Login  
2018-11-11 15:20:02.270 +07:00 [Debug] The request path "/Account/Login" does not match a supported file type
2018-11-11 15:20:02.270 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:20:02.270 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:20:02.271 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Login"
2018-11-11 15:20:02.271 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:20:02.273 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 15:20:02.372 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' started.
2018-11-11 15:20:02.739 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' completed in 366.4048ms.
2018-11-11 15:20:02.772 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 15:20:02.842 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 15:20:02.846 +07:00 [Information] Executing handler method "OnGetAsync" with arguments ([""]) - ModelState is Valid
2018-11-11 15:20:02.889 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 15:20:02.894 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 15:20:02.919 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:20:02.933 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:20:02.938 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 15:20:03.090 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 15:20:03.090 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:20:03.090 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:20:03.091 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:20:03.091 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:20:03.091 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:20:03.093 +07:00 [Debug] View lookup cache miss for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 15:20:03.148 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' started.
2018-11-11 15:20:03.220 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' completed in 71.4146ms.
2018-11-11 15:20:03.245 +07:00 [Information] Executed action "/Account/Login" in 473.3894ms
2018-11-11 15:20:03.245 +07:00 [Debug] Connection id ""0HLI7LPR49J3F"" completed keep alive response.
2018-11-11 15:20:03.245 +07:00 [Information] Request finished in 975.7808ms 200 text/html; charset=utf-8
2018-11-11 15:20:10.595 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/Account/Login application/x-www-form-urlencoded 264
2018-11-11 15:20:10.595 +07:00 [Debug] "POST" requests are not supported
2018-11-11 15:20:10.601 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:20:10.601 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:20:10.602 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Login"
2018-11-11 15:20:10.602 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:20:10.602 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 15:20:10.604 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 15:20:10.653 +07:00 [Debug] Connection id ""0HLI7LPR49J3C"", Request id ""0HLI7LPR49J3C:00000002"": started reading request body.
2018-11-11 15:20:10.674 +07:00 [Debug] Connection id ""0HLI7LPR49J3C"", Request id ""0HLI7LPR49J3C:00000002"": done reading request body.
2018-11-11 15:20:10.696 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:20:10.697 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:20:10.703 +07:00 [Debug] Antiforgery successfully validated a request.
2018-11-11 15:20:10.785 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 15:20:10.785 +07:00 [Information] Executing handler method "OnPostAsync" with arguments ([""]) - ModelState is Valid
2018-11-11 15:20:11.319 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 15:20:11.319 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 15:20:11.342 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-11 15:20:11.358 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 15:20:11.358 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 15:20:11.361 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-11 15:20:11.639 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 15:20:11.771 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser c in DbSet<ApplicationUser>
where [c].UserName == \"quyenth@gmail.com\"
select [c]).FirstOrDefault()"'
2018-11-11 15:20:11.826 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser c in DbSet<ApplicationUser>
where [c].UserName == \"quyenth@gmail.com\"
select [c]).FirstOrDefault()"'
2018-11-11 15:20:12.013 +07:00 [Debug] "(QueryContext queryContext) => IEnumerable<ApplicationUser> _InterceptExceptions(
    source: IEnumerable<ApplicationUser> _TrackEntities(
        results: IEnumerable<ApplicationUser> _ToSequence(() => ApplicationUser FirstOrDefault(IEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [c].[Id], [c].[AccessFailedCount], [c].[ConcurrencyStamp], [c].[Email], [c].[EmailConfirmed], [c].[FullName], [c].[LockoutEnabled], [c].[LockoutEnd], [c].[NormalizedEmail], [c].[NormalizedUserName], [c].[PasswordHash], [c].[PhoneNumber], [c].[PhoneNumberConfirmed], [c].[SecurityStamp], [c].[TwoFactorEnabled], [c].[UserName]
                        FROM [AspNetUsers] AS [c]
                        WHERE [c].[UserName] = N'quyenth@gmail.com', 
                    shaper: UnbufferedEntityShaper<ApplicationUser>))), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 15:20:12.058 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:12.286 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:12.318 +07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AccessFailedCount], [c].[ConcurrencyStamp], [c].[Email], [c].[EmailConfirmed], [c].[FullName], [c].[LockoutEnabled], [c].[LockoutEnd], [c].[NormalizedEmail], [c].[NormalizedUserName], [c].[PasswordHash], [c].[PhoneNumber], [c].[PhoneNumberConfirmed], [c].[SecurityStamp], [c].[TwoFactorEnabled], [c].[UserName]
FROM [AspNetUsers] AS [c]
WHERE [c].[UserName] = N'quyenth@gmail.com'"
2018-11-11 15:20:12.364 +07:00 [Information] Executed DbCommand ("49"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AccessFailedCount], [c].[ConcurrencyStamp], [c].[Email], [c].[EmailConfirmed], [c].[FullName], [c].[LockoutEnabled], [c].[LockoutEnd], [c].[NormalizedEmail], [c].[NormalizedUserName], [c].[PasswordHash], [c].[PhoneNumber], [c].[PhoneNumberConfirmed], [c].[SecurityStamp], [c].[TwoFactorEnabled], [c].[UserName]
FROM [AspNetUsers] AS [c]
WHERE [c].[UserName] = N'quyenth@gmail.com'"
2018-11-11 15:20:12.461 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:20:12.462 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:12.474 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:12.484 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 15:20:12.535 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 15:20:12.535 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 15:20:12.550 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
                        FROM [AspNetUsers] AS [u]
                        WHERE [u].[NormalizedUserName] = @__normalizedUserName_0, 
                    shaper: UnbufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 15:20:12.581 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:12.585 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:12.605 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:20:12.668 +07:00 [Information] Executed DbCommand ("69"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:20:12.683 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:20:12.683 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:12.683 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:12.807 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 15:20:12.821 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 15:20:12.890 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 15:20:12.891 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:12.891 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:12.891 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 15:20:12.897 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 15:20:12.900 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:20:12.900 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:12.900 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:12.927 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 15:20:12.932 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 15:20:12.960 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 15:20:12.961 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:12.961 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:12.961 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 15:20:12.964 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 15:20:12.965 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:20:12.965 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:12.965 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:12.980 +07:00 [Debug] Augmenting SignInContext
2018-11-11 15:20:12.983 +07:00 [Debug] Adding idp claim with value: "local"
2018-11-11 15:20:12.983 +07:00 [Debug] Adding amr claim with value: "pwd"
2018-11-11 15:20:12.983 +07:00 [Debug] Adding auth_time claim with value: "1541924412"
2018-11-11 15:20:12.988 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:20:13.008 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 15:20:13.010 +07:00 [Information] AuthenticationScheme: "Identity.Application" signed in.
2018-11-11 15:20:13.011 +07:00 [Information] User logged in.
2018-11-11 15:20:13.013 +07:00 [Debug] Executed handler method "OnPostAsync", returned result "Microsoft.AspNetCore.Mvc.LocalRedirectResult".
2018-11-11 15:20:13.016 +07:00 [Information] Executing LocalRedirectResult, redirecting to "/".
2018-11-11 15:20:13.017 +07:00 [Information] Executed action "/Account/Login" in 2412.7712ms
2018-11-11 15:20:13.018 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 15:20:13.022 +07:00 [Debug] Connection id ""0HLI7LPR49J3C"" completed keep alive response.
2018-11-11 15:20:13.022 +07:00 [Information] Request finished in 2427.7084ms 302 
2018-11-11 15:20:13.026 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 15:20:13.026 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 15:20:13.028 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 15:20:13.040 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:20:13.040 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:20:13.041 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 15:20:13.041 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:20:13.041 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 15:20:13.041 +07:00 [Debug] Executing action "/Index"
2018-11-11 15:20:13.041 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 15:20:13.041 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 15:20:13.043 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 15:20:13.043 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:20:13.043 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:20:13.043 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:20:13.043 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:20:13.043 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:20:13.047 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:20:13.052 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:20:13.052 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 15:20:13.055 +07:00 [Information] Executed action "/Index" in 14.1852ms
2018-11-11 15:20:13.055 +07:00 [Debug] Connection id ""0HLI7LPR49J3G"" completed keep alive response.
2018-11-11 15:20:13.055 +07:00 [Information] Request finished in 29.371ms 200 text/html; charset=utf-8
2018-11-11 15:20:19.453 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 15:20:19.453 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 15:20:19.453 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:20:19.453 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:20:19.453 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 15:20:19.457 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 15:20:19.458 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 15:20:19.463 +07:00 [Verbose] Processing discovery request.
2018-11-11 15:20:19.464 +07:00 [Debug] Start discovery request
2018-11-11 15:20:19.466 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 15:20:19.504 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-11 15:20:19.577 +07:00 [Debug] Connection id ""0HLI7LPR49J3B"" completed keep alive response.
2018-11-11 15:20:19.578 +07:00 [Information] Request finished in 124.7862ms 200 application/json; charset=UTF-8
2018-11-11 15:20:19.798 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-11 15:20:19.798 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-11 15:20:19.798 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:20:19.798 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:20:19.798 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-11 15:20:19.799 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-11 15:20:19.799 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-11 15:20:19.802 +07:00 [Verbose] Processing discovery request.
2018-11-11 15:20:19.802 +07:00 [Debug] Start key discovery request
2018-11-11 15:20:19.802 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 15:20:19.810 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-11 15:20:19.842 +07:00 [Debug] Connection id ""0HLI7LPR49J3E"" completed keep alive response.
2018-11-11 15:20:19.842 +07:00 [Information] Request finished in 44.2833ms 200 application/json; charset=UTF-8
2018-11-11 15:20:33.839 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 15:20:33.839 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 15:20:33.839 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:20:33.839 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:20:33.839 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 15:20:33.839 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:20:33.839 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 15:20:33.872 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 15:20:33.896 +07:00 [Information] Authorization failed for user: null.
2018-11-11 15:20:33.896 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-11-11 15:20:33.900 +07:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2018-11-11 15:20:33.910 +07:00 [Information] AuthenticationScheme: "Identity.Application" was challenged.
2018-11-11 15:20:33.910 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 38.7034ms
2018-11-11 15:20:33.911 +07:00 [Debug] Connection id ""0HLI7LPR49J39"" completed keep alive response.
2018-11-11 15:20:33.911 +07:00 [Information] Request finished in 71.9907ms 302 
2018-11-11 15:20:33.914 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/account/login?returnUrl=%2Fapi%2Fv1%2Fdefault%2FIndex  
2018-11-11 15:20:33.914 +07:00 [Debug] The request path "/account/login" does not match a supported file type
2018-11-11 15:20:33.914 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:20:33.915 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:20:33.915 +07:00 [Verbose] No endpoint entry found for request path: "/account/login"
2018-11-11 15:20:33.915 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:20:33.915 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 15:20:33.915 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 15:20:33.915 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 15:20:33.915 +07:00 [Information] Executing handler method "OnGetAsync" with arguments (["/api/v1/default/Index"]) - ModelState is Valid
2018-11-11 15:20:33.915 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 15:20:33.915 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 15:20:33.916 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:20:33.916 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:20:33.916 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 15:20:33.921 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 15:20:33.921 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:20:33.921 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:20:33.921 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:20:33.921 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:20:33.921 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:20:33.922 +07:00 [Debug] View lookup cache hit for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 15:20:33.922 +07:00 [Information] Executed action "/Account/Login" in 6.9953ms
2018-11-11 15:20:33.922 +07:00 [Debug] Connection id ""0HLI7LPR49J3D"" completed keep alive response.
2018-11-11 15:20:33.922 +07:00 [Information] Request finished in 7.9646ms 200 text/html; charset=utf-8
2018-11-11 15:20:50.827 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 15:20:50.827 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 15:20:50.827 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 15:20:50.828 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:20:50.828 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:20:50.828 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 15:20:50.828 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:20:50.828 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 15:20:50.830 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 15:20:50.832 +07:00 [Information] Authorization was successful for user: "quyenth@gmail.com".
2018-11-11 15:20:50.867 +07:00 [Information] Executing action method "AspNetCore.Controllers.TestController.Index (AspNetCore)" with arguments (null) - ModelState is Valid
2018-11-11 15:20:50.869 +07:00 [Debug] Executed action method "AspNetCore.Controllers.TestController.Index (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult".
2018-11-11 15:20:50.883 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 15:20:50.893 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 15:20:50.893 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 15:20:50.905 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 74.7798ms
2018-11-11 15:20:50.905 +07:00 [Debug] Connection id ""0HLI7LPR49J3A"" completed keep alive response.
2018-11-11 15:20:50.905 +07:00 [Information] Request finished in 78.0454ms 200 application/json; charset=utf-8
2018-11-11 15:20:54.452 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 15:20:54.452 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 15:20:54.452 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:20:54.452 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:20:54.452 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 15:20:54.452 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:20:54.452 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 15:20:54.453 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 15:20:54.453 +07:00 [Information] Authorization failed for user: null.
2018-11-11 15:20:54.453 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-11-11 15:20:54.453 +07:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2018-11-11 15:20:54.453 +07:00 [Information] AuthenticationScheme: "Identity.Application" was challenged.
2018-11-11 15:20:54.453 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 0.4788ms
2018-11-11 15:20:54.453 +07:00 [Debug] Connection id ""0HLI7LPR49J3F"" completed keep alive response.
2018-11-11 15:20:54.453 +07:00 [Information] Request finished in 1.5984ms 302 
2018-11-11 15:20:54.474 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/account/login?returnUrl=%2Fapi%2Fv1%2Fdefault%2FIndex  
2018-11-11 15:20:54.474 +07:00 [Debug] The request path "/account/login" does not match a supported file type
2018-11-11 15:20:54.474 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:20:54.474 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:20:54.474 +07:00 [Verbose] No endpoint entry found for request path: "/account/login"
2018-11-11 15:20:54.474 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:20:54.474 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 15:20:54.475 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 15:20:54.476 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 15:20:54.476 +07:00 [Information] Executing handler method "OnGetAsync" with arguments (["/api/v1/default/Index"]) - ModelState is Valid
2018-11-11 15:20:54.477 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 15:20:54.477 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 15:20:54.477 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:20:54.477 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:20:54.477 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 15:20:54.479 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 15:20:54.479 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:20:54.479 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:20:54.479 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:20:54.480 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:20:54.480 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:20:54.480 +07:00 [Debug] View lookup cache hit for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 15:20:54.481 +07:00 [Information] Executed action "/Account/Login" in 6.1434ms
2018-11-11 15:20:54.481 +07:00 [Debug] Connection id ""0HLI7LPR49J3C"" completed keep alive response.
2018-11-11 15:20:54.481 +07:00 [Information] Request finished in 7.4291ms 200 text/html; charset=utf-8
2018-11-11 15:20:58.991 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 15:20:58.992 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 15:20:58.992 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 15:20:58.992 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:20:58.992 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:20:58.992 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-11 15:20:58.993 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:20:58.993 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 15:20:59.011 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 15:20:59.022 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 15:20:59.025 +07:00 [Information] Test log
2018-11-11 15:20:59.097 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 15:20:59.097 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 15:20:59.097 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:20:59.098 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:20:59.098 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 15:20:59.098 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 15:20:59.098 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 15:20:59.098 +07:00 [Verbose] Processing discovery request.
2018-11-11 15:20:59.098 +07:00 [Debug] Start discovery request
2018-11-11 15:20:59.098 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 15:20:59.099 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-11 15:20:59.099 +07:00 [Debug] Connection id ""0HLI7LPR49J3B"" completed keep alive response.
2018-11-11 15:20:59.099 +07:00 [Information] Request finished in 1.797ms 200 application/json; charset=UTF-8
2018-11-11 15:20:59.141 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-11 15:20:59.142 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-11 15:20:59.142 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:20:59.142 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:20:59.142 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-11 15:20:59.142 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-11 15:20:59.142 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-11 15:20:59.142 +07:00 [Verbose] Processing discovery request.
2018-11-11 15:20:59.142 +07:00 [Debug] Start key discovery request
2018-11-11 15:20:59.142 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 15:20:59.143 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-11 15:20:59.143 +07:00 [Debug] Connection id ""0HLI7LPR49J3E"" completed keep alive response.
2018-11-11 15:20:59.143 +07:00 [Information] Request finished in 1.5038ms 200 application/json; charset=UTF-8
2018-11-11 15:20:59.183 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-11 15:20:59.183 +07:00 [Debug] "POST" requests are not supported
2018-11-11 15:20:59.183 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:20:59.183 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:20:59.183 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-11 15:20:59.189 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-11 15:20:59.189 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-11 15:20:59.192 +07:00 [Verbose] Processing token request.
2018-11-11 15:20:59.197 +07:00 [Debug] Start token request.
2018-11-11 15:20:59.203 +07:00 [Debug] Start client validation
2018-11-11 15:20:59.209 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-11 15:20:59.209 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-11 15:20:59.209 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-11 15:20:59.217 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-11 15:20:59.218 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-11 15:20:59.227 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-11 15:20:59.227 +07:00 [Debug] Client validation success
2018-11-11 15:20:59.230 +07:00 [Debug] Connection id ""0HLI7LPR49J39"", Request id ""0HLI7LPR49J39:00000004"": started reading request body.
2018-11-11 15:20:59.230 +07:00 [Debug] Connection id ""0HLI7LPR49J39"", Request id ""0HLI7LPR49J39:00000004"": done reading request body.
2018-11-11 15:20:59.231 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-11 15:20:59.237 +07:00 [Debug] Start token request validation
2018-11-11 15:20:59.250 +07:00 [Debug] Start resource owner password token request validation
2018-11-11 15:20:59.287 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 15:20:59.293 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:59.294 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:59.295 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:20:59.298 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:20:59.299 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:20:59.299 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:59.299 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:59.299 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 15:20:59.308 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-11 15:20:59.324 +07:00 [Debug] Resource owner password token request validation success.
2018-11-11 15:20:59.324 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-11 15:20:59.334 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api2\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api2\"
  }
}"
2018-11-11 15:20:59.334 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-11 15:20:59.338 +07:00 [Verbose] Creating response for password request
2018-11-11 15:20:59.350 +07:00 [Verbose] Creating access token
2018-11-11 15:20:59.358 +07:00 [Debug] Getting claims for access token for client: "ApiApplication"
2018-11-11 15:20:59.358 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-11 15:20:59.364 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:59.365 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:59.365 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 15:20:59.366 +07:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 15:20:59.367 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:20:59.367 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:59.367 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:59.368 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:59.368 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:59.368 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 15:20:59.371 +07:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 15:20:59.371 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:20:59.371 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:59.371 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:59.378 +07:00 [Verbose] Creating JWT access token
2018-11-11 15:20:59.445 +07:00 [Verbose] Access token issued for "ApiApplication (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE5MjQ0NTksImV4cCI6MTU0MTkyODA1OSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMiJdLCJjbGllbnRfaWQiOiJBcGlBcHBsaWNhdGlvbiIsInN1YiI6ImI5NmU0OGFiLTUyMWQtNDJjMS05OWI2LWZjNjYwM2ViY2Q3YSIsImF1dGhfdGltZSI6MTU0MTkyNDQ1OSwiaWRwIjoibG9jYWwiLCJnaXZlbl9uYW1lIjoiVGjDoWkgSOG7k25nIFF1eeG7g24iLCJlbWFpbCI6InF1eWVudGhAZ21haWwuY29tIiwianRpIjoiNjZhOTFhOWNkMzQ1MWNjNDI4N2FlNDEwZDJhYmZhZjAiLCJzY29wZSI6WyJhcGkyIl0sImFtciI6WyJwd2QiXX0.ewC2kz_aEVjW4DljVUDU_f0QNhDpV2Hpe7WxCYxJzHW5GY6nyV_6RNrqgDHR-ssOpQboHiWYyvZt3MeCS5IqxwZPG83lXEA2_fagec-VsrSVFoWj61UY0JhGWbtWhQGfOBXhMrKYGFUKKqGaSyFS6fnaH07Xe3A7CfAG4_cDbaH6sUPHczmjg_69TLeAF_AehGNwkDFGDZBpoognYYMvzLG-TQmaCioRWM8qRi541XyL28qk0R2w8Kiu8P0gkRKH9t5up-KhW_ZFUm9fRTF7L6lxL9Kq8vNs5_D-rCClrOpmU9gHt0-btBYkEYftvg9Bu6zB-T9YZn-KcdDxRK5-ZQ"
2018-11-11 15:20:59.445 +07:00 [Debug] Token request success.
2018-11-11 15:20:59.445 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-11 15:20:59.453 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 15:20:59.453 +07:00 [Debug] Connection id ""0HLI7LPR49J39"" completed keep alive response.
2018-11-11 15:20:59.453 +07:00 [Information] Request finished in 270.8491ms 200 application/json; charset=UTF-8
2018-11-11 15:20:59.456 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 15:20:59.457 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:59.457 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:59.457 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:20:59.457 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:20:59.458 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:20:59.458 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:59.458 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:59.458 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 15:20:59.464 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:59.464 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:59.464 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:20:59.465 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:20:59.465 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:20:59.465 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:59.465 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:20:59.474 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-11 15:20:59.474 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 15:20:59.475 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 15:20:59.475 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 15:20:59.490 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 478.9871ms
2018-11-11 15:20:59.491 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 15:20:59.491 +07:00 [Debug] Connection id ""0HLI7LPR49J3G"" completed keep alive response.
2018-11-11 15:20:59.491 +07:00 [Information] Request finished in 499.4832ms 200 application/json; charset=utf-8
2018-11-11 15:20:59.516 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 15:20:59.516 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 15:20:59.517 +07:00 [Debug] Connection id ""0HLI7LPR49J3D"" completed keep alive response.
2018-11-11 15:20:59.517 +07:00 [Information] Request finished in 0.9264ms 200 image/x-icon
2018-11-11 15:21:13.447 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 15:21:13.448 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 15:21:13.448 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:21:13.448 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:21:13.448 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 15:21:13.448 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:21:13.448 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 15:21:13.448 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 15:21:13.448 +07:00 [Information] Authorization failed for user: null.
2018-11-11 15:21:13.448 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-11-11 15:21:13.448 +07:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2018-11-11 15:21:13.448 +07:00 [Information] AuthenticationScheme: "Identity.Application" was challenged.
2018-11-11 15:21:13.449 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 0.4841ms
2018-11-11 15:21:13.449 +07:00 [Debug] Connection id ""0HLI7LPR49J3A"" completed keep alive response.
2018-11-11 15:21:13.449 +07:00 [Information] Request finished in 1.4837ms 302 
2018-11-11 15:21:13.453 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/account/login?returnUrl=%2Fapi%2Fv1%2Fdefault%2FIndex  
2018-11-11 15:21:13.454 +07:00 [Debug] The request path "/account/login" does not match a supported file type
2018-11-11 15:21:13.454 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:21:13.454 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:21:13.454 +07:00 [Verbose] No endpoint entry found for request path: "/account/login"
2018-11-11 15:21:13.454 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:21:13.454 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 15:21:13.454 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 15:21:13.454 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 15:21:13.455 +07:00 [Information] Executing handler method "OnGetAsync" with arguments (["/api/v1/default/Index"]) - ModelState is Valid
2018-11-11 15:21:13.455 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 15:21:13.455 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 15:21:13.455 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:21:13.455 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:21:13.455 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 15:21:13.457 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 15:21:13.457 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:21:13.457 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:21:13.457 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:21:13.457 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:21:13.457 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:21:13.457 +07:00 [Debug] View lookup cache hit for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 15:21:13.458 +07:00 [Information] Executed action "/Account/Login" in 3.6409ms
2018-11-11 15:21:13.458 +07:00 [Debug] Connection id ""0HLI7LPR49J3F"" completed keep alive response.
2018-11-11 15:21:13.458 +07:00 [Information] Request finished in 4.7489ms 200 text/html; charset=utf-8
2018-11-11 15:21:40.894 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 15:21:40.895 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 15:21:40.895 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:21:40.895 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:21:40.895 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 15:21:40.895 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:21:40.895 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 15:21:40.895 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 15:21:40.895 +07:00 [Information] Authorization failed for user: null.
2018-11-11 15:21:40.895 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-11-11 15:21:40.895 +07:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2018-11-11 15:21:40.895 +07:00 [Information] AuthenticationScheme: "Identity.Application" was challenged.
2018-11-11 15:21:40.896 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 0.2847ms
2018-11-11 15:21:40.896 +07:00 [Debug] Connection id ""0HLI7LPR49J3C"" completed keep alive response.
2018-11-11 15:21:40.896 +07:00 [Information] Request finished in 1.2628ms 302 
2018-11-11 15:21:40.908 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/account/login?returnUrl=%2Fapi%2Fv1%2Fdefault%2FIndex  
2018-11-11 15:21:40.908 +07:00 [Debug] The request path "/account/login" does not match a supported file type
2018-11-11 15:21:40.908 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:21:40.908 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:21:40.908 +07:00 [Verbose] No endpoint entry found for request path: "/account/login"
2018-11-11 15:21:40.908 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:21:40.908 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 15:21:40.908 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 15:21:40.909 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 15:21:40.909 +07:00 [Information] Executing handler method "OnGetAsync" with arguments (["/api/v1/default/Index"]) - ModelState is Valid
2018-11-11 15:21:40.909 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 15:21:40.909 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 15:21:40.909 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:21:40.909 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:21:40.910 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 15:21:40.911 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 15:21:40.911 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:21:40.911 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:21:40.911 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:21:40.911 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:21:40.911 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:21:40.912 +07:00 [Debug] View lookup cache hit for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 15:21:40.912 +07:00 [Information] Executed action "/Account/Login" in 3.3035ms
2018-11-11 15:21:40.912 +07:00 [Debug] Connection id ""0HLI7LPR49J3B"" completed keep alive response.
2018-11-11 15:21:40.912 +07:00 [Information] Request finished in 4.2754ms 200 text/html; charset=utf-8
2018-11-11 15:22:53.729 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 15:22:53.774 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 15:22:53.782 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 15:22:53.795 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 15:22:53.806 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 15:22:53.810 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 15:22:53.812 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 15:22:53.821 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 15:22:53.827 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 15:22:53.838 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 15:22:53.839 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 15:22:54.069 +07:00 [Debug] Hosting starting
2018-11-11 15:22:54.172 +07:00 [Debug] Hosting started
2018-11-11 15:22:54.172 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 15:22:54.173 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 15:22:54.173 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 15:22:54.189 +07:00 [Debug] Connection id ""0HLI7LRGDL0G5"" started.
2018-11-11 15:22:54.334 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 15:22:54.411 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 15:22:54.475 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 15:22:54.596 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 15:22:54.647 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:22:55.023 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 15:22:55.131 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 15:22:55.242 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 15:22:55.246 +07:00 [Information] Test log
2018-11-11 15:22:55.346 +07:00 [Debug] Connection id ""0HLI7LRGDL0G6"" started.
2018-11-11 15:22:55.348 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 15:22:55.349 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 15:22:55.350 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:22:55.355 +07:00 [Debug] Request did not match any routes.
2018-11-11 15:22:55.408 +07:00 [Debug] Connection id ""0HLI7LRGDL0G6"" completed keep alive response.
2018-11-11 15:22:55.416 +07:00 [Information] Request finished in 60.8595ms 404 
2018-11-11 15:22:55.429 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-11 15:22:55.449 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 15:22:55.455 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-11 15:22:55.455 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 15:22:55.486 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 352.004ms
2018-11-11 15:22:55.491 +07:00 [Debug] Connection id ""0HLI7LRGDL0G5"" completed keep alive response.
2018-11-11 15:22:55.491 +07:00 [Information] Request finished in 1171.4971ms 400 text/plain; charset=utf-8
2018-11-11 15:22:55.507 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 15:22:55.522 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 15:22:55.535 +07:00 [Debug] Connection id ""0HLI7LRGDL0G6"" completed keep alive response.
2018-11-11 15:22:55.535 +07:00 [Information] Request finished in 27.5544ms 200 image/x-icon
2018-11-11 15:23:10.568 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 15:23:10.619 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 15:23:10.630 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 15:23:10.646 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 15:23:10.659 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 15:23:10.663 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 15:23:10.665 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 15:23:10.676 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 15:23:10.683 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 15:23:10.697 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 15:23:10.699 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 15:23:10.765 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 15:23:10.781 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 15:23:10.782 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 15:23:10.783 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 15:23:10.783 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 15:23:10.783 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 15:23:10.985 +07:00 [Debug] Hosting starting
2018-11-11 15:23:11.111 +07:00 [Debug] Hosting started
2018-11-11 15:23:11.111 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 15:23:11.111 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 15:23:11.111 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 15:23:11.164 +07:00 [Debug] Connection id ""0HLI7LRLFFU70"" started.
2018-11-11 15:23:11.352 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 15:23:11.440 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 15:23:11.509 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 15:23:11.641 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 15:23:11.712 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:23:11.739 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:23:11.747 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-11 15:23:11.748 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:23:12.228 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 15:23:12.366 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 15:23:12.499 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 15:23:12.506 +07:00 [Information] Test log
2018-11-11 15:23:12.575 +07:00 [Debug] Connection id ""0HLI7LRLFFU71"" started.
2018-11-11 15:23:12.577 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 15:23:12.577 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 15:23:12.578 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:23:12.578 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:23:12.579 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 15:23:12.585 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 15:23:12.585 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 15:23:12.589 +07:00 [Verbose] Processing discovery request.
2018-11-11 15:23:12.589 +07:00 [Debug] Start discovery request
2018-11-11 15:23:12.590 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 15:23:12.617 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-11 15:23:12.740 +07:00 [Debug] Connection id ""0HLI7LRLFFU71"" completed keep alive response.
2018-11-11 15:23:12.750 +07:00 [Information] Request finished in 164.9712ms 200 application/json; charset=UTF-8
2018-11-11 15:23:12.761 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-11 15:23:12.761 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-11 15:23:12.761 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:23:12.761 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:23:12.761 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-11 15:23:12.762 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-11 15:23:12.762 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-11 15:23:12.766 +07:00 [Verbose] Processing discovery request.
2018-11-11 15:23:12.767 +07:00 [Debug] Start key discovery request
2018-11-11 15:23:12.767 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 15:23:12.775 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-11 15:23:12.794 +07:00 [Debug] Connection id ""0HLI7LRLFFU71"" completed keep alive response.
2018-11-11 15:23:12.794 +07:00 [Information] Request finished in 33.2944ms 200 application/json; charset=UTF-8
2018-11-11 15:23:12.871 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-11 15:23:12.872 +07:00 [Debug] "POST" requests are not supported
2018-11-11 15:23:12.872 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:23:12.872 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:23:12.872 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-11 15:23:12.880 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-11 15:23:12.880 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-11 15:23:12.885 +07:00 [Verbose] Processing token request.
2018-11-11 15:23:12.892 +07:00 [Debug] Start token request.
2018-11-11 15:23:12.901 +07:00 [Debug] Start client validation
2018-11-11 15:23:12.908 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-11 15:23:12.909 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-11 15:23:12.909 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-11 15:23:12.917 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-11 15:23:12.917 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-11 15:23:12.927 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-11 15:23:12.928 +07:00 [Debug] Client validation success
2018-11-11 15:23:12.964 +07:00 [Debug] Connection id ""0HLI7LRLFFU71"", Request id ""0HLI7LRLFFU71:00000003"": started reading request body.
2018-11-11 15:23:12.987 +07:00 [Debug] Connection id ""0HLI7LRLFFU71"", Request id ""0HLI7LRLFFU71:00000003"": done reading request body.
2018-11-11 15:23:12.994 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-11 15:23:13.001 +07:00 [Debug] Start token request validation
2018-11-11 15:23:13.016 +07:00 [Debug] Start resource owner password token request validation
2018-11-11 15:23:13.667 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 15:23:13.668 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 15:23:13.693 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-11 15:23:13.709 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 15:23:13.709 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 15:23:13.712 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-11 15:23:13.991 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 15:23:14.144 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 15:23:14.207 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 15:23:14.412 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
                        FROM [AspNetUsers] AS [u]
                        WHERE [u].[NormalizedUserName] = @__normalizedUserName_0, 
                    shaper: UnbufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 15:23:14.498 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:23:14.733 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:23:14.792 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:23:14.893 +07:00 [Information] Executed DbCommand ("115"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:23:15.061 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:23:15.062 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:23:15.073 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:23:15.085 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 15:23:15.191 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-11 15:23:15.206 +07:00 [Debug] Resource owner password token request validation success.
2018-11-11 15:23:15.206 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-11 15:23:15.216 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api2\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api2\"
  }
}"
2018-11-11 15:23:15.216 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-11 15:23:15.220 +07:00 [Verbose] Creating response for password request
2018-11-11 15:23:15.234 +07:00 [Verbose] Creating access token
2018-11-11 15:23:15.241 +07:00 [Debug] Getting claims for access token for client: "ApiApplication"
2018-11-11 15:23:15.242 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-11 15:23:15.292 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 15:23:15.307 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 15:23:15.374 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 15:23:15.374 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:23:15.376 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:23:15.376 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 15:23:15.382 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 15:23:15.384 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:23:15.384 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:23:15.384 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:23:15.411 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 15:23:15.415 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 15:23:15.444 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 15:23:15.445 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:23:15.445 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:23:15.445 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 15:23:15.448 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 15:23:15.450 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:23:15.450 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:23:15.450 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:23:15.476 +07:00 [Verbose] Creating JWT access token
2018-11-11 15:23:15.548 +07:00 [Verbose] Access token issued for "ApiApplication (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE5MjQ1OTUsImV4cCI6MTU0MTkyODE5NSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMiJdLCJjbGllbnRfaWQiOiJBcGlBcHBsaWNhdGlvbiIsInN1YiI6ImI5NmU0OGFiLTUyMWQtNDJjMS05OWI2LWZjNjYwM2ViY2Q3YSIsImF1dGhfdGltZSI6MTU0MTkyNDU5NSwiaWRwIjoibG9jYWwiLCJnaXZlbl9uYW1lIjoiVGjDoWkgSOG7k25nIFF1eeG7g24iLCJlbWFpbCI6InF1eWVudGhAZ21haWwuY29tIiwianRpIjoiOWUzYmM1NTAyZjA3OGExYmJkMzQ2MzI2Njk1ZjkzZmEiLCJzY29wZSI6WyJhcGkyIl0sImFtciI6WyJwd2QiXX0.GESyNjb40c1MiqGuvaI1p9c63jO3SH6QQ3106Qa5E0d0JzRa0H23JADr6YkO49m8ArjqJCQjlDvew3BZSZXPwlRtiLFx6kHJSEL2ESFlN93GoLbTD8wZfCm5LqA5G5JGm_sjGPdlos4AnV4lFU7in80whPUnJL-BdrJFLcB2RKUOWiwvCxAJvaDZcYj21fR1mad4OwOr8KBIGE-fTH2sv4SQfnAR-Y-tVjWqVZu5zLUXPJvx7CL3T2xQpqnIvciiUVMRwH875pNc1Vi18E3eM_Z27Iy-VUEoW26eiDa4QnI6pObStQTuXWhTBaTfBwU7BXrlNUVdwqX84GyMfBNCNA"
2018-11-11 15:23:15.549 +07:00 [Debug] Token request success.
2018-11-11 15:23:15.549 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-11 15:23:15.566 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 15:23:15.569 +07:00 [Debug] Connection id ""0HLI7LRLFFU71"" completed keep alive response.
2018-11-11 15:23:15.572 +07:00 [Information] Request finished in 2701.1279ms 200 application/json; charset=UTF-8
2018-11-11 15:23:15.577 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 15:23:15.584 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:23:15.584 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:23:15.585 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:23:15.585 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:23:15.586 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:23:15.586 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:23:15.586 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:23:15.586 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 15:23:15.592 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:23:15.593 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:23:15.593 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:23:15.593 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:23:15.593 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:23:15.594 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:23:15.594 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:23:15.605 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-11 15:23:15.628 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 15:23:15.634 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 15:23:15.635 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 15:23:15.690 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 3319.0812ms
2018-11-11 15:23:15.692 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 15:23:15.692 +07:00 [Debug] Connection id ""0HLI7LRLFFU70"" completed keep alive response.
2018-11-11 15:23:15.692 +07:00 [Information] Request finished in 4355.1116ms 200 application/json; charset=utf-8
2018-11-11 15:23:15.710 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 15:23:15.722 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 15:23:15.743 +07:00 [Debug] Connection id ""0HLI7LRLFFU71"" completed keep alive response.
2018-11-11 15:23:15.743 +07:00 [Information] Request finished in 33.522ms 200 image/x-icon
2018-11-11 15:25:01.106 +07:00 [Debug] Connection id ""0HLI7LRLFFU70"" received FIN.
2018-11-11 15:25:01.106 +07:00 [Debug] Connection id ""0HLI7LRLFFU71"" received FIN.
2018-11-11 15:25:01.112 +07:00 [Debug] Connection id ""0HLI7LRLFFU70"" disconnecting.
2018-11-11 15:25:01.112 +07:00 [Debug] Connection id ""0HLI7LRLFFU71"" disconnecting.
2018-11-11 15:25:01.118 +07:00 [Debug] Connection id ""0HLI7LRLFFU70"" sending FIN.
2018-11-11 15:25:01.118 +07:00 [Debug] Connection id ""0HLI7LRLFFU71"" sending FIN.
2018-11-11 15:25:01.130 +07:00 [Debug] Connection id ""0HLI7LRLFFU70"" stopped.
2018-11-11 15:25:01.130 +07:00 [Debug] Connection id ""0HLI7LRLFFU71"" stopped.
2018-11-11 15:27:41.178 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 15:27:41.222 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 15:27:41.230 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 15:27:41.242 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 15:27:41.253 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 15:27:41.256 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 15:27:41.258 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 15:27:41.267 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 15:27:41.273 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 15:27:41.283 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 15:27:41.285 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 15:27:41.356 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 15:27:41.378 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 15:27:41.379 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 15:27:41.380 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 15:27:41.380 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 15:27:41.380 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 15:27:41.600 +07:00 [Debug] Hosting starting
2018-11-11 15:27:41.697 +07:00 [Debug] Hosting started
2018-11-11 15:27:41.697 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 15:27:41.697 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 15:27:41.698 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 15:27:41.889 +07:00 [Debug] Connection id ""0HLI7LU65CAA8"" started.
2018-11-11 15:27:42.030 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 15:27:42.109 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 15:27:42.162 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:27:42.175 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:27:42.180 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 15:27:42.181 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:27:42.516 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 15:27:42.595 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 15:27:42.628 +07:00 [Information] Authorization failed for user: null.
2018-11-11 15:27:42.629 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-11-11 15:27:42.636 +07:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2018-11-11 15:27:42.655 +07:00 [Information] AuthenticationScheme: "Identity.Application" was challenged.
2018-11-11 15:27:42.659 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 59.984ms
2018-11-11 15:27:42.698 +07:00 [Debug] Connection id ""0HLI7LU65CAA8"" completed keep alive response.
2018-11-11 15:27:42.706 +07:00 [Information] Request finished in 682.8679ms 302 
2018-11-11 15:27:42.709 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/account/login?returnUrl=%2Fapi%2Fv1%2Fdefault%2FIndex  
2018-11-11 15:27:42.710 +07:00 [Debug] The request path "/account/login" does not match a supported file type
2018-11-11 15:27:42.710 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:27:42.710 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:27:42.710 +07:00 [Verbose] No endpoint entry found for request path: "/account/login"
2018-11-11 15:27:42.710 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:27:42.710 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 15:27:43.823 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' started.
2018-11-11 15:27:45.577 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' completed in 1753.785ms.
2018-11-11 15:27:45.701 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 15:27:45.754 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 53.3465ms.
2018-11-11 15:27:45.767 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 15:27:45.886 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 15:27:46.029 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 15:27:46.040 +07:00 [Information] Executing handler method "OnGetAsync" with arguments (["/api/v1/default/Index"]) - ModelState is Valid
2018-11-11 15:27:46.079 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 15:27:46.084 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 15:27:46.180 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:27:46.194 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:27:46.199 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 15:27:46.408 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 15:27:46.479 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 15:27:46.579 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 99.7366ms.
2018-11-11 15:27:46.595 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:27:46.598 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:27:46.622 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:27:46.622 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:27:46.640 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:27:46.710 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 15:27:46.768 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 57.7836ms.
2018-11-11 15:27:46.802 +07:00 [Debug] View lookup cache miss for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 15:27:46.856 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' started.
2018-11-11 15:27:46.905 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' completed in 49.3513ms.
2018-11-11 15:27:46.961 +07:00 [Information] Executed action "/Account/Login" in 1193.2378ms
2018-11-11 15:27:46.965 +07:00 [Debug] Connection id ""0HLI7LU65CAA8"" completed keep alive response.
2018-11-11 15:27:46.966 +07:00 [Information] Request finished in 4256.2349ms 200 text/html; charset=utf-8
2018-11-11 15:27:57.942 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 15:27:57.943 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 15:27:57.946 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 15:27:57.964 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:27:57.965 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:27:57.966 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-11 15:27:57.966 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:27:57.966 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 15:27:57.979 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 15:27:58.011 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 15:27:58.014 +07:00 [Information] Test log
2018-11-11 15:27:58.087 +07:00 [Debug] Connection id ""0HLI7LU65CAA9"" started.
2018-11-11 15:27:58.088 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 15:27:58.089 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 15:27:58.089 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:27:58.089 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:27:58.089 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 15:27:58.093 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 15:27:58.093 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 15:27:58.096 +07:00 [Verbose] Processing discovery request.
2018-11-11 15:27:58.097 +07:00 [Debug] Start discovery request
2018-11-11 15:27:58.106 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 15:27:58.159 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-11 15:27:58.228 +07:00 [Debug] Connection id ""0HLI7LU65CAA9"" completed keep alive response.
2018-11-11 15:27:58.228 +07:00 [Information] Request finished in 139.86ms 200 application/json; charset=UTF-8
2018-11-11 15:27:58.254 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-11 15:27:58.254 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-11 15:27:58.254 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:27:58.254 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:27:58.254 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-11 15:27:58.255 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-11 15:27:58.255 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-11 15:27:58.259 +07:00 [Verbose] Processing discovery request.
2018-11-11 15:27:58.259 +07:00 [Debug] Start key discovery request
2018-11-11 15:27:58.259 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 15:27:58.267 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-11 15:27:58.287 +07:00 [Debug] Connection id ""0HLI7LU65CAA9"" completed keep alive response.
2018-11-11 15:27:58.287 +07:00 [Information] Request finished in 32.8214ms 200 application/json; charset=UTF-8
2018-11-11 15:27:58.322 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-11 15:27:58.323 +07:00 [Debug] "POST" requests are not supported
2018-11-11 15:27:58.323 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:27:58.324 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:27:58.324 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-11 15:27:58.338 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-11 15:27:58.339 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-11 15:27:58.345 +07:00 [Verbose] Processing token request.
2018-11-11 15:27:58.355 +07:00 [Debug] Start token request.
2018-11-11 15:27:58.368 +07:00 [Debug] Start client validation
2018-11-11 15:27:58.375 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-11 15:27:58.376 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-11 15:27:58.376 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-11 15:27:58.384 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-11 15:27:58.384 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-11 15:27:58.393 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-11 15:27:58.394 +07:00 [Debug] Client validation success
2018-11-11 15:27:58.430 +07:00 [Debug] Connection id ""0HLI7LU65CAA9"", Request id ""0HLI7LU65CAA9:00000003"": started reading request body.
2018-11-11 15:27:58.446 +07:00 [Debug] Connection id ""0HLI7LU65CAA9"", Request id ""0HLI7LU65CAA9:00000003"": done reading request body.
2018-11-11 15:27:58.452 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-11 15:27:58.458 +07:00 [Debug] Start token request validation
2018-11-11 15:27:58.471 +07:00 [Debug] Start resource owner password token request validation
2018-11-11 15:27:59.035 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 15:27:59.035 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 15:27:59.060 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-11 15:27:59.076 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 15:27:59.076 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 15:27:59.080 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-11 15:27:59.351 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 15:27:59.489 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 15:27:59.544 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 15:27:59.729 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
                        FROM [AspNetUsers] AS [u]
                        WHERE [u].[NormalizedUserName] = @__normalizedUserName_0, 
                    shaper: UnbufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 15:27:59.799 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:28:00.100 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:28:00.168 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:28:00.275 +07:00 [Information] Executed DbCommand ("119"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:28:00.410 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:28:00.411 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:28:00.425 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:28:00.438 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 15:28:00.539 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-11 15:28:00.553 +07:00 [Debug] Resource owner password token request validation success.
2018-11-11 15:28:00.553 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-11 15:28:00.564 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api2\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api2\"
  }
}"
2018-11-11 15:28:00.564 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-11 15:28:00.568 +07:00 [Verbose] Creating response for password request
2018-11-11 15:28:00.580 +07:00 [Verbose] Creating access token
2018-11-11 15:28:00.587 +07:00 [Debug] Getting claims for access token for client: "ApiApplication"
2018-11-11 15:28:00.588 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-11 15:28:00.640 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 15:28:00.655 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 15:28:00.726 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 15:28:00.726 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:28:00.728 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:28:00.728 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 15:28:00.736 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 15:28:00.738 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:28:00.738 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:28:00.738 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:28:00.766 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 15:28:00.770 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 15:28:00.799 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 15:28:00.799 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:28:00.799 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:28:00.799 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 15:28:00.802 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 15:28:00.803 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:28:00.803 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:28:00.803 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:28:00.824 +07:00 [Verbose] Creating JWT access token
2018-11-11 15:28:00.885 +07:00 [Verbose] Access token issued for "ApiApplication (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE5MjQ4ODAsImV4cCI6MTU0MTkyODQ4MCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMiJdLCJjbGllbnRfaWQiOiJBcGlBcHBsaWNhdGlvbiIsInN1YiI6ImI5NmU0OGFiLTUyMWQtNDJjMS05OWI2LWZjNjYwM2ViY2Q3YSIsImF1dGhfdGltZSI6MTU0MTkyNDg4MCwiaWRwIjoibG9jYWwiLCJnaXZlbl9uYW1lIjoiVGjDoWkgSOG7k25nIFF1eeG7g24iLCJlbWFpbCI6InF1eWVudGhAZ21haWwuY29tIiwianRpIjoiN2RiMzM5NjdjOTQ4YjY5M2RmNzg3NmE1M2IxYzU2YmQiLCJzY29wZSI6WyJhcGkyIl0sImFtciI6WyJwd2QiXX0.POJ4XFzWe8tfoVuWhRpZef5WFeri9kCH-s2RhnLfy1xl1JvgYB_cokyA0KvZV19E1czmrua4FAniEP58n1wbI6nU1yV9f--GZVggop1iKc0L8VK1juMPUjn_tAG_PXHnaHyxDK-bkkyUOAkbTkrS-iqt6Ah6brqvqZttC5H0r7XGmGgAAhz2psw27rPvBjGQcwyMgNshlZE3mBtnG2T3h36yZhhbvr3Rmpc4osPDcbAvEtVJNmvCTheomZuKwpp3Abcsf-IgjbFTR1o5r7w8sv85j7OdlBjsCc-uu-23xNlVTLb7cE5ZVTIyDV3WVaUC4Jzolh9MQOOvE0cqixXMOQ"
2018-11-11 15:28:00.885 +07:00 [Debug] Token request success.
2018-11-11 15:28:00.885 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-11 15:28:00.894 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 15:28:00.896 +07:00 [Debug] Connection id ""0HLI7LU65CAA9"" completed keep alive response.
2018-11-11 15:28:00.899 +07:00 [Information] Request finished in 2576.774ms 200 application/json; charset=UTF-8
2018-11-11 15:28:00.906 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 15:28:00.913 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:28:00.913 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:28:00.915 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:28:00.916 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:28:00.916 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:28:00.916 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:28:00.916 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:28:00.917 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 15:28:00.924 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:28:00.924 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:28:00.924 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:28:00.925 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:28:00.925 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:28:00.925 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:28:00.925 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:28:00.936 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-11 15:28:00.951 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 15:28:00.955 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 15:28:00.956 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 15:28:00.984 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 3005.155ms
2018-11-11 15:28:00.985 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 15:28:00.985 +07:00 [Debug] Connection id ""0HLI7LU65CAA8"" completed keep alive response.
2018-11-11 15:28:00.985 +07:00 [Information] Request finished in 3042.5634ms 200 application/json; charset=utf-8
2018-11-11 15:28:01.007 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 15:28:01.019 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 15:28:01.030 +07:00 [Debug] Connection id ""0HLI7LU65CAA9"" completed keep alive response.
2018-11-11 15:28:01.031 +07:00 [Information] Request finished in 23.319ms 200 image/x-icon
2018-11-11 15:28:15.666 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 15:28:15.666 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 15:28:15.667 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:28:15.667 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:28:15.667 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 15:28:15.667 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:28:15.667 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 15:28:15.669 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 15:28:15.670 +07:00 [Information] Authorization failed for user: null.
2018-11-11 15:28:15.670 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-11-11 15:28:15.670 +07:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2018-11-11 15:28:15.670 +07:00 [Information] AuthenticationScheme: "Identity.Application" was challenged.
2018-11-11 15:28:15.670 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 0.9049ms
2018-11-11 15:28:15.670 +07:00 [Debug] Connection id ""0HLI7LU65CAA8"" completed keep alive response.
2018-11-11 15:28:15.670 +07:00 [Information] Request finished in 4.2009ms 302 
2018-11-11 15:28:15.674 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/account/login?returnUrl=%2Fapi%2Fv1%2Fdefault%2FIndex  
2018-11-11 15:28:15.674 +07:00 [Debug] The request path "/account/login" does not match a supported file type
2018-11-11 15:28:15.674 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:28:15.674 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:28:15.674 +07:00 [Verbose] No endpoint entry found for request path: "/account/login"
2018-11-11 15:28:15.674 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:28:15.674 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 15:28:15.674 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 15:28:15.675 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 15:28:15.675 +07:00 [Information] Executing handler method "OnGetAsync" with arguments (["/api/v1/default/Index"]) - ModelState is Valid
2018-11-11 15:28:15.675 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 15:28:15.675 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 15:28:15.676 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:28:15.676 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:28:15.676 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 15:28:15.685 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 15:28:15.685 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:28:15.685 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:28:15.685 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:28:15.685 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:28:15.686 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:28:15.686 +07:00 [Debug] View lookup cache hit for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 15:28:15.686 +07:00 [Information] Executed action "/Account/Login" in 11.8683ms
2018-11-11 15:28:15.686 +07:00 [Debug] Connection id ""0HLI7LU65CAA9"" completed keep alive response.
2018-11-11 15:28:15.687 +07:00 [Information] Request finished in 13.0629ms 200 text/html; charset=utf-8
2018-11-11 15:29:02.853 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 15:29:02.853 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 15:29:02.854 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:02.854 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:02.854 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 15:29:02.854 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:02.854 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 15:29:02.854 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 15:29:02.854 +07:00 [Information] Authorization failed for user: null.
2018-11-11 15:29:02.854 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-11-11 15:29:02.854 +07:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2018-11-11 15:29:02.855 +07:00 [Information] AuthenticationScheme: "Identity.Application" was challenged.
2018-11-11 15:29:02.855 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 0.4377ms
2018-11-11 15:29:02.855 +07:00 [Debug] Connection id ""0HLI7LU65CAA8"" completed keep alive response.
2018-11-11 15:29:02.855 +07:00 [Information] Request finished in 1.7109ms 302 
2018-11-11 15:29:02.886 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/account/login?returnUrl=%2Fapi%2Fv1%2Fdefault%2FIndex  
2018-11-11 15:29:02.886 +07:00 [Debug] The request path "/account/login" does not match a supported file type
2018-11-11 15:29:02.886 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:02.886 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:02.886 +07:00 [Verbose] No endpoint entry found for request path: "/account/login"
2018-11-11 15:29:02.887 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:02.887 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 15:29:02.887 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 15:29:02.887 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 15:29:02.887 +07:00 [Information] Executing handler method "OnGetAsync" with arguments (["/api/v1/default/Index"]) - ModelState is Valid
2018-11-11 15:29:02.887 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 15:29:02.887 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 15:29:02.888 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:29:02.888 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:29:02.888 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 15:29:02.890 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 15:29:02.890 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:29:02.890 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:29:02.891 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:29:02.891 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:29:02.891 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:29:02.891 +07:00 [Debug] View lookup cache hit for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 15:29:02.892 +07:00 [Information] Executed action "/Account/Login" in 4.7003ms
2018-11-11 15:29:02.892 +07:00 [Debug] Connection id ""0HLI7LU65CAA9"" completed keep alive response.
2018-11-11 15:29:02.892 +07:00 [Information] Request finished in 5.9917ms 200 text/html; charset=utf-8
2018-11-11 15:29:24.173 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 15:29:24.174 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 15:29:24.174 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:24.174 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:24.174 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 15:29:24.174 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:24.174 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 15:29:24.174 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 15:29:24.174 +07:00 [Information] Authorization failed for user: null.
2018-11-11 15:29:24.174 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-11-11 15:29:24.174 +07:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2018-11-11 15:29:24.174 +07:00 [Information] AuthenticationScheme: "Identity.Application" was challenged.
2018-11-11 15:29:24.174 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 0.2405ms
2018-11-11 15:29:24.174 +07:00 [Debug] Connection id ""0HLI7LU65CAA8"" completed keep alive response.
2018-11-11 15:29:24.174 +07:00 [Information] Request finished in 1.0344ms 302 
2018-11-11 15:29:24.177 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/account/login?returnUrl=%2Fapi%2Fv1%2Fdefault%2FIndex  
2018-11-11 15:29:24.177 +07:00 [Debug] The request path "/account/login" does not match a supported file type
2018-11-11 15:29:24.177 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:24.177 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:24.177 +07:00 [Verbose] No endpoint entry found for request path: "/account/login"
2018-11-11 15:29:24.177 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:24.177 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 15:29:24.178 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 15:29:24.178 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 15:29:24.178 +07:00 [Information] Executing handler method "OnGetAsync" with arguments (["/api/v1/default/Index"]) - ModelState is Valid
2018-11-11 15:29:24.178 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 15:29:24.178 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 15:29:24.178 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:29:24.178 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:29:24.178 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 15:29:24.180 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 15:29:24.180 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:29:24.180 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:29:24.180 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:29:24.180 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:29:24.180 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:29:24.180 +07:00 [Debug] View lookup cache hit for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 15:29:24.181 +07:00 [Information] Executed action "/Account/Login" in 2.9126ms
2018-11-11 15:29:24.181 +07:00 [Debug] Connection id ""0HLI7LU65CAA9"" completed keep alive response.
2018-11-11 15:29:24.181 +07:00 [Information] Request finished in 3.8921ms 200 text/html; charset=utf-8
2018-11-11 15:29:40.080 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 15:29:40.081 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 15:29:40.081 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:40.081 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:40.081 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 15:29:40.081 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:40.081 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 15:29:40.081 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 15:29:40.082 +07:00 [Information] Authorization failed for user: null.
2018-11-11 15:29:40.082 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-11-11 15:29:40.082 +07:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2018-11-11 15:29:40.082 +07:00 [Information] AuthenticationScheme: "Identity.Application" was challenged.
2018-11-11 15:29:40.082 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 0.4306ms
2018-11-11 15:29:40.082 +07:00 [Debug] Connection id ""0HLI7LU65CAA8"" completed keep alive response.
2018-11-11 15:29:40.082 +07:00 [Information] Request finished in 1.8925ms 302 
2018-11-11 15:29:40.102 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/account/login?returnUrl=%2Fapi%2Fv1%2Fdefault%2FIndex  
2018-11-11 15:29:40.103 +07:00 [Debug] The request path "/account/login" does not match a supported file type
2018-11-11 15:29:40.103 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:40.103 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:40.103 +07:00 [Verbose] No endpoint entry found for request path: "/account/login"
2018-11-11 15:29:40.103 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:40.103 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 15:29:40.103 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 15:29:40.103 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 15:29:40.104 +07:00 [Information] Executing handler method "OnGetAsync" with arguments (["/api/v1/default/Index"]) - ModelState is Valid
2018-11-11 15:29:40.104 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 15:29:40.104 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 15:29:40.104 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:29:40.104 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:29:40.104 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 15:29:40.106 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 15:29:40.106 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:29:40.106 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:29:40.106 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:29:40.106 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:29:40.106 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:29:40.106 +07:00 [Debug] View lookup cache hit for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 15:29:40.107 +07:00 [Information] Executed action "/Account/Login" in 3.5155ms
2018-11-11 15:29:40.107 +07:00 [Debug] Connection id ""0HLI7LU65CAA9"" completed keep alive response.
2018-11-11 15:29:40.107 +07:00 [Information] Request finished in 4.615ms 200 text/html; charset=utf-8
2018-11-11 15:29:48.195 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 15:29:48.196 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 15:29:48.196 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:48.196 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:48.196 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 15:29:48.196 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:48.196 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 15:29:48.196 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 15:29:48.196 +07:00 [Information] Authorization failed for user: null.
2018-11-11 15:29:48.196 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-11-11 15:29:48.196 +07:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2018-11-11 15:29:48.196 +07:00 [Information] AuthenticationScheme: "Identity.Application" was challenged.
2018-11-11 15:29:48.196 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 0.2726ms
2018-11-11 15:29:48.196 +07:00 [Debug] Connection id ""0HLI7LU65CAA8"" completed keep alive response.
2018-11-11 15:29:48.197 +07:00 [Information] Request finished in 1.344ms 302 
2018-11-11 15:29:48.200 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/account/login?returnUrl=%2Fapi%2Fv1%2Fdefault%2FIndex  
2018-11-11 15:29:48.200 +07:00 [Debug] The request path "/account/login" does not match a supported file type
2018-11-11 15:29:48.201 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:48.201 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:48.201 +07:00 [Verbose] No endpoint entry found for request path: "/account/login"
2018-11-11 15:29:48.201 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:48.201 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 15:29:48.201 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 15:29:48.201 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 15:29:48.201 +07:00 [Information] Executing handler method "OnGetAsync" with arguments (["/api/v1/default/Index"]) - ModelState is Valid
2018-11-11 15:29:48.201 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 15:29:48.201 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 15:29:48.201 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:29:48.202 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:29:48.202 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 15:29:48.203 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 15:29:48.203 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:29:48.203 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:29:48.203 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:29:48.203 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:29:48.203 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:29:48.203 +07:00 [Debug] View lookup cache hit for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 15:29:48.204 +07:00 [Information] Executed action "/Account/Login" in 2.7261ms
2018-11-11 15:29:48.204 +07:00 [Debug] Connection id ""0HLI7LU65CAA9"" completed keep alive response.
2018-11-11 15:29:48.204 +07:00 [Information] Request finished in 3.6507ms 200 text/html; charset=utf-8
2018-11-11 15:29:58.405 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 15:29:58.406 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 15:29:58.406 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:58.406 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:58.406 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 15:29:58.406 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:58.406 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 15:29:58.406 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 15:29:58.406 +07:00 [Information] Authorization failed for user: null.
2018-11-11 15:29:58.406 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-11-11 15:29:58.406 +07:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2018-11-11 15:29:58.406 +07:00 [Information] AuthenticationScheme: "Identity.Application" was challenged.
2018-11-11 15:29:58.407 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 0.2784ms
2018-11-11 15:29:58.407 +07:00 [Debug] Connection id ""0HLI7LU65CAA8"" completed keep alive response.
2018-11-11 15:29:58.407 +07:00 [Information] Request finished in 1.2847ms 302 
2018-11-11 15:29:58.412 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/account/login?returnUrl=%2Fapi%2Fv1%2Fdefault%2FIndex  
2018-11-11 15:29:58.412 +07:00 [Debug] The request path "/account/login" does not match a supported file type
2018-11-11 15:29:58.412 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:58.412 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:58.413 +07:00 [Verbose] No endpoint entry found for request path: "/account/login"
2018-11-11 15:29:58.413 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:29:58.413 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 15:29:58.413 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 15:29:58.413 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 15:29:58.413 +07:00 [Information] Executing handler method "OnGetAsync" with arguments (["/api/v1/default/Index"]) - ModelState is Valid
2018-11-11 15:29:58.413 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 15:29:58.414 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 15:29:58.414 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:29:58.414 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:29:58.414 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 15:29:58.416 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 15:29:58.416 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:29:58.416 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:29:58.416 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:29:58.417 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:29:58.417 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:29:58.417 +07:00 [Debug] View lookup cache hit for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 15:29:58.417 +07:00 [Information] Executed action "/Account/Login" in 4.3763ms
2018-11-11 15:29:58.418 +07:00 [Debug] Connection id ""0HLI7LU65CAA9"" completed keep alive response.
2018-11-11 15:29:58.418 +07:00 [Information] Request finished in 5.7409ms 200 text/html; charset=utf-8
2018-11-11 15:31:21.864 +07:00 [Debug] Connection id ""0HLI7LU65CAA8"" received FIN.
2018-11-11 15:31:21.864 +07:00 [Debug] Connection id ""0HLI7LU65CAA9"" received FIN.
2018-11-11 15:31:21.869 +07:00 [Debug] Connection id ""0HLI7LU65CAA9"" disconnecting.
2018-11-11 15:31:21.869 +07:00 [Debug] Connection id ""0HLI7LU65CAA8"" disconnecting.
2018-11-11 15:31:21.876 +07:00 [Debug] Connection id ""0HLI7LU65CAA8"" sending FIN.
2018-11-11 15:31:21.876 +07:00 [Debug] Connection id ""0HLI7LU65CAA9"" sending FIN.
2018-11-11 15:31:21.894 +07:00 [Debug] Connection id ""0HLI7LU65CAA9"" stopped.
2018-11-11 15:31:21.894 +07:00 [Debug] Connection id ""0HLI7LU65CAA8"" stopped.
2018-11-11 15:33:06.084 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 15:33:06.129 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 15:33:06.137 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 15:33:06.150 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 15:33:06.161 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 15:33:06.165 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 15:33:06.167 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 15:33:06.185 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 15:33:06.191 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 15:33:06.202 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 15:33:06.204 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 15:33:06.260 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 15:33:06.275 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 15:33:06.277 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 15:33:06.277 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 15:33:06.277 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 15:33:06.277 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 15:33:06.481 +07:00 [Debug] Hosting starting
2018-11-11 15:33:06.586 +07:00 [Debug] Hosting started
2018-11-11 15:33:06.586 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 15:33:06.586 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 15:33:06.586 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 15:33:06.866 +07:00 [Debug] Connection id ""0HLI7M170GTQ9"" started.
2018-11-11 15:33:07.028 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 15:33:07.115 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 15:33:07.182 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 15:33:07.335 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 15:33:07.399 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:33:07.415 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:33:07.422 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 15:33:07.422 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:33:07.829 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 15:33:08.925 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-11 15:33:10.462 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1531.7518ms.
2018-11-11 15:33:10.699 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 15:33:10.766 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 67.2659ms.
2018-11-11 15:33:10.803 +07:00 [Debug] Executing action "/Index"
2018-11-11 15:33:10.854 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 15:33:10.855 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 15:33:11.000 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 15:33:11.113 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 15:33:11.266 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 152.6423ms.
2018-11-11 15:33:11.278 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:33:11.280 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:33:11.296 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:33:11.297 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:33:11.344 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:33:11.420 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 15:33:11.479 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 59.2606ms.
2018-11-11 15:33:11.532 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:33:11.548 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:33:11.552 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 15:33:11.665 +07:00 [Information] Executed action "/Index" in 860.7366ms
2018-11-11 15:33:11.677 +07:00 [Debug] Connection id ""0HLI7M170GTQ9"" completed keep alive response.
2018-11-11 15:33:11.683 +07:00 [Information] Request finished in 4666.0524ms 200 text/html; charset=utf-8
2018-11-11 15:33:18.174 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 15:33:18.175 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 15:33:18.175 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:33:18.175 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:33:18.183 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 15:33:18.183 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:33:18.184 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 15:33:18.228 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 15:33:18.251 +07:00 [Information] Authorization failed for user: null.
2018-11-11 15:33:18.251 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-11-11 15:33:18.257 +07:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2018-11-11 15:33:18.270 +07:00 [Information] AuthenticationScheme: "Identity.Application" was challenged.
2018-11-11 15:33:18.270 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 41.7687ms
2018-11-11 15:33:18.272 +07:00 [Debug] Connection id ""0HLI7M170GTQ9"" completed keep alive response.
2018-11-11 15:33:18.272 +07:00 [Information] Request finished in 98.1738ms 302 
2018-11-11 15:33:18.276 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/account/login?returnUrl=%2Fapi%2Fv1%2Fdefault%2FIndex  
2018-11-11 15:33:18.276 +07:00 [Debug] The request path "/account/login" does not match a supported file type
2018-11-11 15:33:18.276 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:33:18.276 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:33:18.276 +07:00 [Verbose] No endpoint entry found for request path: "/account/login"
2018-11-11 15:33:18.276 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:33:18.276 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 15:33:18.368 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' started.
2018-11-11 15:33:18.705 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' completed in 336.7097ms.
2018-11-11 15:33:18.734 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 15:33:18.827 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 15:33:18.829 +07:00 [Information] Executing handler method "OnGetAsync" with arguments (["/api/v1/default/Index"]) - ModelState is Valid
2018-11-11 15:33:18.867 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 15:33:18.872 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 15:33:18.879 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:33:18.879 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:33:18.879 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 15:33:18.991 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 15:33:18.991 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:33:18.991 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:33:18.992 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:33:18.992 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:33:18.992 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:33:18.995 +07:00 [Debug] View lookup cache miss for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 15:33:19.048 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' started.
2018-11-11 15:33:19.099 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' completed in 50.8658ms.
2018-11-11 15:33:19.120 +07:00 [Information] Executed action "/Account/Login" in 385.4212ms
2018-11-11 15:33:19.120 +07:00 [Debug] Connection id ""0HLI7M170GTQ9"" completed keep alive response.
2018-11-11 15:33:19.120 +07:00 [Information] Request finished in 844.4088ms 200 text/html; charset=utf-8
2018-11-11 15:33:24.349 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 15:33:24.349 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 15:33:24.349 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:33:24.349 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:33:24.349 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 15:33:24.349 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:33:24.349 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 15:33:24.351 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 15:33:24.351 +07:00 [Information] Authorization failed for user: null.
2018-11-11 15:33:24.351 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-11-11 15:33:24.351 +07:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2018-11-11 15:33:24.352 +07:00 [Information] AuthenticationScheme: "Identity.Application" was challenged.
2018-11-11 15:33:24.352 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 0.5939ms
2018-11-11 15:33:24.352 +07:00 [Debug] Connection id ""0HLI7M170GTQ9"" completed keep alive response.
2018-11-11 15:33:24.352 +07:00 [Information] Request finished in 3.3115ms 302 
2018-11-11 15:33:24.355 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/account/login?returnUrl=%2Fapi%2Fv1%2Fdefault%2FIndex  
2018-11-11 15:33:24.355 +07:00 [Debug] The request path "/account/login" does not match a supported file type
2018-11-11 15:33:24.356 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:33:24.356 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:33:24.356 +07:00 [Verbose] No endpoint entry found for request path: "/account/login"
2018-11-11 15:33:24.356 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:33:24.356 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 15:33:24.356 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 15:33:24.358 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 15:33:24.358 +07:00 [Information] Executing handler method "OnGetAsync" with arguments (["/api/v1/default/Index"]) - ModelState is Valid
2018-11-11 15:33:24.358 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 15:33:24.358 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 15:33:24.359 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:33:24.359 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:33:24.359 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 15:33:24.364 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 15:33:24.364 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:33:24.364 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:33:24.364 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:33:24.364 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:33:24.364 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:33:24.364 +07:00 [Debug] View lookup cache hit for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 15:33:24.365 +07:00 [Information] Executed action "/Account/Login" in 8.8508ms
2018-11-11 15:33:24.365 +07:00 [Debug] Connection id ""0HLI7M170GTQ9"" completed keep alive response.
2018-11-11 15:33:24.365 +07:00 [Information] Request finished in 10.1373ms 200 text/html; charset=utf-8
2018-11-11 15:33:48.054 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 15:33:48.097 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 15:33:48.105 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 15:33:48.117 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 15:33:48.127 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 15:33:48.131 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 15:33:48.133 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 15:33:48.142 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 15:33:48.149 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 15:33:48.159 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 15:33:48.161 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 15:33:48.216 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 15:33:48.230 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 15:33:48.232 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 15:33:48.232 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 15:33:48.232 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 15:33:48.232 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 15:33:48.417 +07:00 [Debug] Hosting starting
2018-11-11 15:33:48.512 +07:00 [Debug] Hosting started
2018-11-11 15:33:48.512 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 15:33:48.512 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 15:33:48.512 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 15:33:48.660 +07:00 [Debug] Connection id ""0HLI7M1JF0SEQ"" started.
2018-11-11 15:33:48.884 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 15:33:48.960 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 15:33:49.012 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:33:49.025 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:33:49.030 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 15:33:49.355 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 15:33:49.434 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 15:33:49.466 +07:00 [Information] Authorization failed for user: null.
2018-11-11 15:33:49.467 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-11-11 15:33:49.474 +07:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2018-11-11 15:33:49.494 +07:00 [Information] AuthenticationScheme: "Identity.Application" was challenged.
2018-11-11 15:33:49.497 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 59.789ms
2018-11-11 15:33:49.536 +07:00 [Debug] Connection id ""0HLI7M1JF0SEQ"" completed keep alive response.
2018-11-11 15:33:49.543 +07:00 [Information] Request finished in 666.4166ms 302 
2018-11-11 15:33:49.547 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/account/login?returnUrl=%2Fapi%2Fv1%2Fdefault%2FIndex  
2018-11-11 15:33:49.547 +07:00 [Debug] The request path "/account/login" does not match a supported file type
2018-11-11 15:33:49.547 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:33:49.548 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:33:49.548 +07:00 [Verbose] No endpoint entry found for request path: "/account/login"
2018-11-11 15:33:49.548 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 15:33:50.585 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' started.
2018-11-11 15:33:52.285 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' completed in 1700.4362ms.
2018-11-11 15:33:52.421 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 15:33:52.477 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 55.8531ms.
2018-11-11 15:33:52.489 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 15:33:52.615 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 15:33:52.755 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 15:33:52.766 +07:00 [Information] Executing handler method "OnGetAsync" with arguments (["/api/v1/default/Index"]) - ModelState is Valid
2018-11-11 15:33:52.805 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 15:33:52.810 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 15:33:52.905 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:33:52.918 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:33:52.922 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 15:33:53.105 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 15:33:53.228 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 15:33:53.324 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 96.0894ms.
2018-11-11 15:33:53.336 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:33:53.338 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:33:53.356 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:33:53.356 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:33:53.371 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:33:53.426 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 15:33:53.478 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 51.5669ms.
2018-11-11 15:33:53.541 +07:00 [Debug] View lookup cache miss for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 15:33:53.596 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' started.
2018-11-11 15:33:53.646 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' completed in 49.9372ms.
2018-11-11 15:33:53.716 +07:00 [Information] Executed action "/Account/Login" in 1227.3061ms
2018-11-11 15:33:53.721 +07:00 [Debug] Connection id ""0HLI7M1JF0SEQ"" completed keep alive response.
2018-11-11 15:33:53.721 +07:00 [Information] Request finished in 4174.1112ms 200 text/html; charset=utf-8
2018-11-11 15:35:38.455 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 15:35:38.499 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 15:35:38.507 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 15:35:38.519 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 15:35:38.530 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 15:35:38.534 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 15:35:38.536 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 15:35:38.545 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 15:35:38.551 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 15:35:38.562 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 15:35:38.563 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 15:35:38.621 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 15:35:38.635 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 15:35:38.637 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 15:35:38.638 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 15:35:38.638 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 15:35:38.638 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 15:35:38.686 +07:00 [Fatal] Application startup exception
System.InvalidOperationException: Unable to find the required services. Please add all the required services by calling 'IServiceCollection.AddMvc' inside the call to 'ConfigureServices(...)' in the application startup code.
   at Microsoft.AspNetCore.Builder.MvcApplicationBuilderExtensions.UseMvc(IApplicationBuilder app, Action`1 configureRoutes)
   at AspNetCore.Startup.Configure(IApplicationBuilder app, IHostingEnvironment env) in C:\Working\DotnetCore\DotnetCore\AspNetCore\Startup.cs:line 154
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Hosting.ConventionBasedStartup.Configure(IApplicationBuilder app)
   at Microsoft.ApplicationInsights.AspNetCore.ApplicationInsightsStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.Hosting.Internal.WebHost.BuildApplication()
2018-11-11 15:35:38.709 +07:00 [Debug] Hosting starting
2018-11-11 15:35:38.806 +07:00 [Debug] Hosting started
2018-11-11 15:35:38.807 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 15:35:38.807 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 15:35:38.807 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 15:35:39.064 +07:00 [Debug] Connection id ""0HLI7M2KBUL17"" started.
2018-11-11 15:35:39.223 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 15:35:39.350 +07:00 [Debug] Connection id ""0HLI7M2KBUL17"" completed keep alive response.
2018-11-11 15:35:39.358 +07:00 [Information] Request finished in 141.1594ms 500 text/html; charset=utf-8
2018-11-11 15:35:39.426 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 15:35:39.442 +07:00 [Debug] Connection id ""0HLI7M2KBUL17"" completed keep alive response.
2018-11-11 15:35:39.442 +07:00 [Information] Request finished in 16.1202ms 500 text/html; charset=utf-8
2018-11-11 15:36:08.328 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 15:36:08.423 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 15:36:08.432 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 15:36:08.445 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 15:36:08.455 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 15:36:08.459 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 15:36:08.461 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 15:36:08.471 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 15:36:08.477 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 15:36:08.488 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 15:36:08.490 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 15:36:08.580 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 15:36:08.595 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 15:36:08.598 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 15:36:08.598 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 15:36:08.598 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 15:36:08.599 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 15:36:08.789 +07:00 [Debug] Hosting starting
2018-11-11 15:36:08.914 +07:00 [Debug] Hosting started
2018-11-11 15:36:08.914 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 15:36:08.914 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 15:36:08.914 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 15:36:09.078 +07:00 [Debug] Connection id ""0HLI7M2TA6DI9"" started.
2018-11-11 15:36:09.232 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 15:36:09.311 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 15:36:09.374 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 15:36:09.517 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 15:36:09.568 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:36:09.583 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:36:09.588 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 15:36:09.936 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 15:36:11.072 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-11 15:36:12.621 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1545.0499ms.
2018-11-11 15:36:12.767 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 15:36:12.868 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 100.2515ms.
2018-11-11 15:36:12.929 +07:00 [Debug] Executing action "/Index"
2018-11-11 15:36:13.000 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 15:36:13.002 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 15:36:13.140 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 15:36:13.251 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 15:36:13.401 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 150.3432ms.
2018-11-11 15:36:13.416 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:36:13.418 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:36:13.436 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:36:13.436 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:36:13.502 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:36:13.614 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 15:36:13.703 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 88.3787ms.
2018-11-11 15:36:13.734 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:36:13.748 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:36:13.753 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 15:36:13.885 +07:00 [Information] Executed action "/Index" in 955.0343ms
2018-11-11 15:36:13.898 +07:00 [Debug] Connection id ""0HLI7M2TA6DI9"" completed keep alive response.
2018-11-11 15:36:13.904 +07:00 [Information] Request finished in 4681.3627ms 200 text/html; charset=utf-8
2018-11-11 15:36:13.959 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 15:36:13.978 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 15:36:13.999 +07:00 [Debug] Connection id ""0HLI7M2TA6DI9"" completed keep alive response.
2018-11-11 15:36:13.999 +07:00 [Information] Request finished in 40.2095ms 200 image/x-icon
2018-11-11 15:36:20.448 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 15:36:20.448 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 15:36:20.448 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 15:36:20.449 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:36:20.450 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:36:20.450 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-11 15:36:20.452 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 15:36:20.520 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 15:36:20.645 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 15:36:20.649 +07:00 [Information] Test log
2018-11-11 15:36:20.773 +07:00 [Debug] Connection id ""0HLI7M2TA6DIA"" started.
2018-11-11 15:36:20.775 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 15:36:20.776 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 15:36:20.776 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:36:20.776 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:36:20.777 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 15:36:20.786 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 15:36:20.786 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 15:36:20.796 +07:00 [Verbose] Processing discovery request.
2018-11-11 15:36:20.797 +07:00 [Debug] Start discovery request
2018-11-11 15:36:20.800 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 15:36:20.845 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-11 15:36:20.912 +07:00 [Debug] Connection id ""0HLI7M2TA6DIA"" completed keep alive response.
2018-11-11 15:36:20.913 +07:00 [Information] Request finished in 137.7898ms 200 application/json; charset=UTF-8
2018-11-11 15:36:20.938 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-11 15:36:20.939 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-11 15:36:20.939 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:36:20.939 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:36:20.939 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-11 15:36:20.939 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-11 15:36:20.940 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-11 15:36:20.943 +07:00 [Verbose] Processing discovery request.
2018-11-11 15:36:20.943 +07:00 [Debug] Start key discovery request
2018-11-11 15:36:20.943 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 15:36:20.951 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-11 15:36:20.981 +07:00 [Debug] Connection id ""0HLI7M2TA6DIA"" completed keep alive response.
2018-11-11 15:36:20.981 +07:00 [Information] Request finished in 42.7959ms 200 application/json; charset=UTF-8
2018-11-11 15:36:21.032 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-11 15:36:21.033 +07:00 [Debug] "POST" requests are not supported
2018-11-11 15:36:21.033 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:36:21.033 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:36:21.033 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-11 15:36:21.042 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-11 15:36:21.042 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-11 15:36:21.045 +07:00 [Verbose] Processing token request.
2018-11-11 15:36:21.050 +07:00 [Debug] Start token request.
2018-11-11 15:36:21.066 +07:00 [Debug] Start client validation
2018-11-11 15:36:21.080 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-11 15:36:21.082 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-11 15:36:21.082 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-11 15:36:21.094 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-11 15:36:21.094 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-11 15:36:21.108 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-11 15:36:21.109 +07:00 [Debug] Client validation success
2018-11-11 15:36:21.153 +07:00 [Debug] Connection id ""0HLI7M2TA6DIA"", Request id ""0HLI7M2TA6DIA:00000003"": started reading request body.
2018-11-11 15:36:21.167 +07:00 [Debug] Connection id ""0HLI7M2TA6DIA"", Request id ""0HLI7M2TA6DIA:00000003"": done reading request body.
2018-11-11 15:36:21.173 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-11 15:36:21.178 +07:00 [Debug] Start token request validation
2018-11-11 15:36:21.190 +07:00 [Debug] Start resource owner password token request validation
2018-11-11 15:36:21.727 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 15:36:21.727 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 15:36:21.752 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-11 15:36:21.767 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 15:36:21.767 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 15:36:21.770 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-11 15:36:22.047 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 15:36:22.183 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 15:36:22.240 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 15:36:22.431 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
                        FROM [AspNetUsers] AS [u]
                        WHERE [u].[NormalizedUserName] = @__normalizedUserName_0, 
                    shaper: UnbufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 15:36:22.503 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:36:22.744 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:36:22.797 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:36:22.902 +07:00 [Information] Executed DbCommand ("116"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:36:23.046 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:36:23.047 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:36:23.058 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:36:23.070 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 15:36:23.162 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-11 15:36:23.176 +07:00 [Debug] Resource owner password token request validation success.
2018-11-11 15:36:23.176 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-11 15:36:23.186 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api2\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api2\"
  }
}"
2018-11-11 15:36:23.186 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-11 15:36:23.190 +07:00 [Verbose] Creating response for password request
2018-11-11 15:36:23.200 +07:00 [Verbose] Creating access token
2018-11-11 15:36:23.207 +07:00 [Debug] Getting claims for access token for client: "ApiApplication"
2018-11-11 15:36:23.208 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-11 15:36:23.257 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 15:36:23.271 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 15:36:23.354 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 15:36:23.354 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:36:23.356 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:36:23.356 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 15:36:23.364 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 15:36:23.367 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:36:23.367 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:36:23.368 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:36:23.405 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 15:36:23.411 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 15:36:23.443 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 15:36:23.444 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:36:23.444 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:36:23.444 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 15:36:23.448 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 15:36:23.449 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:36:23.449 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:36:23.449 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:36:23.474 +07:00 [Verbose] Creating JWT access token
2018-11-11 15:36:23.540 +07:00 [Verbose] Access token issued for "ApiApplication (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE5MjUzODMsImV4cCI6MTU0MTkyODk4MywiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMiJdLCJjbGllbnRfaWQiOiJBcGlBcHBsaWNhdGlvbiIsInN1YiI6ImI5NmU0OGFiLTUyMWQtNDJjMS05OWI2LWZjNjYwM2ViY2Q3YSIsImF1dGhfdGltZSI6MTU0MTkyNTM4MywiaWRwIjoibG9jYWwiLCJnaXZlbl9uYW1lIjoiVGjDoWkgSOG7k25nIFF1eeG7g24iLCJlbWFpbCI6InF1eWVudGhAZ21haWwuY29tIiwianRpIjoiN2JhZmJkZDIxZTE4MjM2M2RmZjNmOGM3YmFhN2E2NjAiLCJzY29wZSI6WyJhcGkyIl0sImFtciI6WyJwd2QiXX0.Neo3T81sty0R01Tadi5hECacFu6MJAJzNEYTtqQ2zlh8Gv01JsjfcE-uT3i4vnTKXXHovm04DDKFQCbHn85jD487UXVxi9gdq6n4meOizl7_URWS831LdhMMfJ3WNpQwfMrxSscSuUbVcwvQc6aHKdCKljFgwrDqmyquj7HguUORSqQnD55REULZrFwNmc7PT9GOmKZIl8XziKV7NVO1pdOoAFqra-wGAxHkwJXYF-WJ5fOgFs7IbG073vYPj8tJuKIId4AlJcWnT-5lmMP_fZ_rYNCGjTj9Wx6sNLhUwnJUZ07rWnDLSG4dvZ6uBBNCFmt9LssqPVhc76zvBZBBTg"
2018-11-11 15:36:23.540 +07:00 [Debug] Token request success.
2018-11-11 15:36:23.541 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-11 15:36:23.549 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 15:36:23.552 +07:00 [Debug] Connection id ""0HLI7M2TA6DIA"" completed keep alive response.
2018-11-11 15:36:23.554 +07:00 [Information] Request finished in 2521.9156ms 200 application/json; charset=UTF-8
2018-11-11 15:36:23.559 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 15:36:23.565 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:36:23.565 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:36:23.567 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:36:23.567 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:36:23.568 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:36:23.568 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:36:23.568 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:36:23.569 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 15:36:23.578 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:36:23.578 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:36:23.578 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:36:23.578 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 15:36:23.579 +07:00 [Debug] A data reader was disposed.
2018-11-11 15:36:23.579 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:36:23.579 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 15:36:23.589 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-11 15:36:23.603 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 15:36:23.608 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 15:36:23.608 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 15:36:23.634 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 3113.9268ms
2018-11-11 15:36:23.635 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 15:36:23.635 +07:00 [Debug] Connection id ""0HLI7M2TA6DI9"" completed keep alive response.
2018-11-11 15:36:23.635 +07:00 [Information] Request finished in 3187.0979ms 200 application/json; charset=utf-8
2018-11-11 15:36:23.651 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 15:36:23.651 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 15:36:23.651 +07:00 [Debug] Connection id ""0HLI7M2TA6DIA"" completed keep alive response.
2018-11-11 15:36:23.652 +07:00 [Information] Request finished in 1.0174ms 200 image/x-icon
2018-11-11 15:36:35.796 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 15:36:35.796 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 15:36:35.796 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:36:35.796 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:36:35.796 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 15:36:35.796 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 15:36:35.818 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 15:36:35.842 +07:00 [Information] Authorization failed for user: null.
2018-11-11 15:36:35.842 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-11-11 15:36:35.845 +07:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2018-11-11 15:36:35.857 +07:00 [Information] AuthenticationScheme: "Identity.Application" was challenged.
2018-11-11 15:36:35.857 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 39.4276ms
2018-11-11 15:36:35.859 +07:00 [Debug] Connection id ""0HLI7M2TA6DI9"" completed keep alive response.
2018-11-11 15:36:35.859 +07:00 [Information] Request finished in 63.5312ms 302 
2018-11-11 15:36:35.863 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/account/login?returnUrl=%2Fapi%2Fv1%2Fdefault%2FIndex  
2018-11-11 15:36:35.863 +07:00 [Debug] The request path "/account/login" does not match a supported file type
2018-11-11 15:36:35.863 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:36:35.863 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:36:35.863 +07:00 [Verbose] No endpoint entry found for request path: "/account/login"
2018-11-11 15:36:35.863 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 15:36:35.958 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' started.
2018-11-11 15:36:36.298 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' completed in 339.7563ms.
2018-11-11 15:36:36.317 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 15:36:36.337 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 15:36:36.339 +07:00 [Information] Executing handler method "OnGetAsync" with arguments (["/api/v1/default/Index"]) - ModelState is Valid
2018-11-11 15:36:36.386 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 15:36:36.390 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 15:36:36.397 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:36:36.398 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:36:36.398 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 15:36:36.513 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 15:36:36.514 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:36:36.514 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:36:36.514 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:36:36.514 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:36:36.515 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:36:36.517 +07:00 [Debug] View lookup cache miss for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 15:36:36.573 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' started.
2018-11-11 15:36:36.626 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' completed in 53.2997ms.
2018-11-11 15:36:36.649 +07:00 [Information] Executed action "/Account/Login" in 331.5685ms
2018-11-11 15:36:36.649 +07:00 [Debug] Connection id ""0HLI7M2TA6DIA"" completed keep alive response.
2018-11-11 15:36:36.649 +07:00 [Information] Request finished in 786.5632ms 200 text/html; charset=utf-8
2018-11-11 15:37:59.002 +07:00 [Debug] Connection id ""0HLI7M2TA6DI9"" received FIN.
2018-11-11 15:37:59.002 +07:00 [Debug] Connection id ""0HLI7M2TA6DIA"" received FIN.
2018-11-11 15:37:59.007 +07:00 [Debug] Connection id ""0HLI7M2TA6DI9"" disconnecting.
2018-11-11 15:37:59.007 +07:00 [Debug] Connection id ""0HLI7M2TA6DIA"" disconnecting.
2018-11-11 15:37:59.014 +07:00 [Debug] Connection id ""0HLI7M2TA6DI9"" sending FIN.
2018-11-11 15:37:59.014 +07:00 [Debug] Connection id ""0HLI7M2TA6DIA"" sending FIN.
2018-11-11 15:37:59.035 +07:00 [Debug] Connection id ""0HLI7M2TA6DI9"" stopped.
2018-11-11 15:37:59.035 +07:00 [Debug] Connection id ""0HLI7M2TA6DIA"" stopped.
2018-11-11 15:38:25.635 +07:00 [Debug] Connection id ""0HLI7M2TA6DIB"" started.
2018-11-11 15:38:25.636 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/Account/Logout application/x-www-form-urlencoded 225
2018-11-11 15:38:25.636 +07:00 [Debug] "POST" requests are not supported
2018-11-11 15:38:25.642 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 15:38:25.643 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:38:25.643 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 15:38:25.643 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Logout"
2018-11-11 15:38:25.643 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Logout"'.
2018-11-11 15:38:25.650 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Logout (AspNetCore)"
2018-11-11 15:38:25.672 +07:00 [Debug] Connection id ""0HLI7M2TA6DIB"", Request id ""0HLI7M2TA6DIB:00000001"": started reading request body.
2018-11-11 15:38:25.672 +07:00 [Debug] Connection id ""0HLI7M2TA6DIB"", Request id ""0HLI7M2TA6DIB:00000001"": done reading request body.
2018-11-11 15:38:25.673 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:38:25.674 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:38:25.676 +07:00 [Debug] Antiforgery successfully validated a request.
2018-11-11 15:38:25.676 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Logout (AspNetCore)" with arguments (null) - ModelState is Valid
2018-11-11 15:38:25.683 +07:00 [Information] AuthenticationScheme: "Identity.Application" signed out.
2018-11-11 15:38:25.683 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 15:38:25.684 +07:00 [Information] AuthenticationScheme: "Identity.TwoFactorUserId" signed out.
2018-11-11 15:38:25.684 +07:00 [Information] User logged out.
2018-11-11 15:38:25.684 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Logout (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.RedirectToPageResult".
2018-11-11 15:38:25.687 +07:00 [Information] Executing RedirectToPageResult, redirecting to "/Index".
2018-11-11 15:38:25.688 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Logout (AspNetCore)" in 37.6293ms
2018-11-11 15:38:25.688 +07:00 [Debug] Connection id ""0HLI7M2TA6DIB"" completed keep alive response.
2018-11-11 15:38:25.688 +07:00 [Information] Request finished in 52.3719ms 302 
2018-11-11 15:38:25.692 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 15:38:25.692 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 15:38:25.692 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:38:25.692 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:38:25.693 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 15:38:25.693 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 15:38:25.694 +07:00 [Debug] Executing action "/Index"
2018-11-11 15:38:25.694 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 15:38:25.695 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 15:38:25.698 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 15:38:25.698 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:38:25.698 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:38:25.698 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:38:25.698 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:38:25.699 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:38:25.699 +07:00 [Information] Executed action "/Index" in 5.0082ms
2018-11-11 15:38:25.699 +07:00 [Debug] Connection id ""0HLI7M2TA6DIB"" completed keep alive response.
2018-11-11 15:38:25.700 +07:00 [Information] Request finished in 7.7258ms 200 text/html; charset=utf-8
2018-11-11 15:38:27.347 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Login  
2018-11-11 15:38:27.347 +07:00 [Debug] The request path "/Account/Login" does not match a supported file type
2018-11-11 15:38:27.347 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:38:27.347 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:38:27.347 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Login"
2018-11-11 15:38:27.347 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 15:38:27.347 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 15:38:27.348 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 15:38:27.348 +07:00 [Information] Executing handler method "OnGetAsync" with arguments ([""]) - ModelState is Valid
2018-11-11 15:38:27.348 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 15:38:27.348 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 15:38:27.349 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:38:27.349 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:38:27.349 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 15:38:27.353 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 15:38:27.353 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:38:27.353 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:38:27.353 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:38:27.353 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:38:27.353 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:38:27.354 +07:00 [Debug] View lookup cache hit for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 15:38:27.354 +07:00 [Information] Executed action "/Account/Login" in 6.5393ms
2018-11-11 15:38:27.354 +07:00 [Debug] Connection id ""0HLI7M2TA6DIB"" completed keep alive response.
2018-11-11 15:38:27.354 +07:00 [Information] Request finished in 7.7423ms 200 text/html; charset=utf-8
2018-11-11 15:39:09.412 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 15:39:09.412 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 15:39:09.412 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:39:09.412 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:39:09.412 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 15:39:09.413 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 15:39:09.414 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 15:39:09.414 +07:00 [Information] Authorization failed for user: null.
2018-11-11 15:39:09.414 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-11-11 15:39:09.414 +07:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2018-11-11 15:39:09.415 +07:00 [Information] AuthenticationScheme: "Identity.Application" was challenged.
2018-11-11 15:39:09.415 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 0.8077ms
2018-11-11 15:39:09.415 +07:00 [Debug] Connection id ""0HLI7M2TA6DIB"" completed keep alive response.
2018-11-11 15:39:09.415 +07:00 [Information] Request finished in 3.0996ms 302 
2018-11-11 15:39:09.420 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/account/login?returnUrl=%2Fapi%2Fv1%2Fdefault%2FIndex  
2018-11-11 15:39:09.420 +07:00 [Debug] The request path "/account/login" does not match a supported file type
2018-11-11 15:39:09.420 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:39:09.420 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 15:39:09.420 +07:00 [Verbose] No endpoint entry found for request path: "/account/login"
2018-11-11 15:39:09.421 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 15:39:09.421 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 15:39:09.421 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 15:39:09.421 +07:00 [Information] Executing handler method "OnGetAsync" with arguments (["/api/v1/default/Index"]) - ModelState is Valid
2018-11-11 15:39:09.421 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 15:39:09.421 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 15:39:09.421 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:39:09.422 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 15:39:09.422 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 15:39:09.423 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 15:39:09.423 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:39:09.423 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:39:09.423 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 15:39:09.423 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 15:39:09.424 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 15:39:09.424 +07:00 [Debug] View lookup cache hit for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 15:39:09.424 +07:00 [Information] Executed action "/Account/Login" in 3.362ms
2018-11-11 15:39:09.424 +07:00 [Debug] Connection id ""0HLI7M2TA6DIB"" completed keep alive response.
2018-11-11 15:39:09.424 +07:00 [Information] Request finished in 4.4365ms 200 text/html; charset=utf-8
2018-11-11 15:41:10.799 +07:00 [Debug] Connection id ""0HLI7M2TA6DIB"" disconnecting.
2018-11-11 15:41:10.801 +07:00 [Debug] Connection id ""0HLI7M2TA6DIB"" sending FIN.
2018-11-11 15:41:10.801 +07:00 [Debug] Connection id ""0HLI7M2TA6DIB"" stopped.
2018-11-11 16:06:34.939 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 16:06:34.993 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 16:06:35.003 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 16:06:35.016 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 16:06:35.030 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 16:06:35.034 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 16:06:35.036 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 16:06:35.046 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 16:06:35.053 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 16:06:35.063 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 16:06:35.064 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 16:06:35.267 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 16:06:35.289 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 16:06:35.293 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 16:06:35.295 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 16:06:35.298 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 16:06:35.300 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 16:06:35.650 +07:00 [Debug] Hosting starting
2018-11-11 16:06:35.823 +07:00 [Debug] Hosting started
2018-11-11 16:06:35.827 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 16:06:35.831 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 16:06:35.835 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 16:06:36.026 +07:00 [Debug] Connection id ""0HLI7MJTPC87N"" started.
2018-11-11 16:06:36.026 +07:00 [Debug] Connection id ""0HLI7MJTPC87P"" started.
2018-11-11 16:06:36.026 +07:00 [Debug] Connection id ""0HLI7MJTPC87O"" started.
2018-11-11 16:06:36.132 +07:00 [Debug] Connection id ""0HLI7MJTPC87P"" reset.
2018-11-11 16:06:36.143 +07:00 [Debug] Connection id ""0HLI7MJTPC87P"" disconnecting.
2018-11-11 16:06:36.167 +07:00 [Debug] Connection id ""0HLI7MJTPC87P"" sending FIN.
2018-11-11 16:06:36.175 +07:00 [Debug] Connection id ""0HLI7MJTPC87P"" stopped.
2018-11-11 16:06:36.300 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 16:06:36.300 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 16:06:36.447 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 16:06:36.447 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 16:06:36.544 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:06:36.544 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:06:36.586 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:06:36.586 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:06:36.616 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 16:06:36.634 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 16:06:37.048 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 16:06:37.048 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 16:06:37.188 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 16:06:48.565 +07:00 [Information] Authorization failed for user: null.
2018-11-11 16:06:48.568 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-11-11 16:06:48.585 +07:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2018-11-11 16:06:48.631 +07:00 [Information] AuthenticationScheme: "Identity.Application" was challenged.
2018-11-11 16:06:48.637 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 11442.1472ms
2018-11-11 16:06:48.708 +07:00 [Debug] Connection id ""0HLI7MJTPC87N"" completed keep alive response.
2018-11-11 16:06:48.718 +07:00 [Information] Request finished in 12429.3426ms 302 
2018-11-11 16:06:48.735 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/account/login?returnUrl=%2Fapi%2Fv1%2Fdefault%2FIndex  
2018-11-11 16:06:48.737 +07:00 [Debug] The request path "/account/login" does not match a supported file type
2018-11-11 16:06:48.739 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:06:48.741 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:06:48.743 +07:00 [Verbose] No endpoint entry found for request path: "/account/login"
2018-11-11 16:06:48.745 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 16:06:49.759 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-11 16:06:49.774 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' started.
2018-11-11 16:06:51.333 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1572.1242ms.
2018-11-11 16:06:51.333 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' completed in 1557.6095ms.
2018-11-11 16:06:51.602 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 16:06:51.686 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 81.1732ms.
2018-11-11 16:06:51.702 +07:00 [Debug] Executing action "/Index"
2018-11-11 16:06:51.702 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 16:06:51.788 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 16:06:51.800 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 16:06:51.983 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 16:06:52.009 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 16:06:52.103 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 16:06:52.146 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 16:06:52.151 +07:00 [Information] Executing handler method "OnGetAsync" with arguments (["/api/v1/default/Index"]) - ModelState is Valid
2018-11-11 16:06:52.187 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 16:06:52.197 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 16:06:52.233 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 127.6582ms.
2018-11-11 16:06:52.247 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:06:52.257 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:06:52.263 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:06:52.270 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:06:52.278 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 16:06:52.293 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:06:52.295 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:06:52.360 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 16:06:52.448 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 16:06:52.465 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 16:06:52.468 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:06:52.470 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:06:52.471 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:06:52.493 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:06:52.516 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 16:06:52.574 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 123.601ms.
2018-11-11 16:06:52.617 +07:00 [Debug] View lookup cache miss for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 16:06:52.664 +07:00 [Information] Executed action "/Index" in 938.9743ms
2018-11-11 16:06:52.675 +07:00 [Debug] Connection id ""0HLI7MJTPC87O"" completed keep alive response.
2018-11-11 16:06:52.677 +07:00 [Information] Request finished in 16395.2649ms 200 text/html; charset=utf-8
2018-11-11 16:06:52.708 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' started.
2018-11-11 16:06:52.810 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' completed in 100.4582ms.
2018-11-11 16:06:52.842 +07:00 [Information] Executed action "/Account/Login" in 1115.2124ms
2018-11-11 16:06:52.844 +07:00 [Debug] Connection id ""0HLI7MJTPC87N"" completed keep alive response.
2018-11-11 16:06:52.848 +07:00 [Information] Request finished in 4113.5234ms 200 text/html; charset=utf-8
2018-11-11 16:07:33.011 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 16:07:33.131 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 16:07:33.143 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 16:07:33.157 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 16:07:33.168 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 16:07:33.173 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 16:07:33.176 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 16:07:33.185 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 16:07:33.193 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 16:07:33.204 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 16:07:33.206 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 16:07:33.335 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 16:07:33.355 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 16:07:33.359 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 16:07:33.361 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 16:07:33.363 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 16:07:33.365 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 16:07:33.719 +07:00 [Debug] Hosting starting
2018-11-11 16:07:33.974 +07:00 [Debug] Hosting started
2018-11-11 16:07:33.977 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 16:07:33.979 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 16:07:33.981 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 16:07:34.239 +07:00 [Debug] Connection id ""0HLI7MKF4GL4H"" started.
2018-11-11 16:07:34.239 +07:00 [Debug] Connection id ""0HLI7MKF4GL4G"" started.
2018-11-11 16:07:34.328 +07:00 [Debug] Connection id ""0HLI7MKF4GL4G"" reset.
2018-11-11 16:07:34.332 +07:00 [Debug] Connection id ""0HLI7MKF4GL4G"" disconnecting.
2018-11-11 16:07:34.343 +07:00 [Debug] Connection id ""0HLI7MKF4GL4G"" sending FIN.
2018-11-11 16:07:34.348 +07:00 [Debug] Connection id ""0HLI7MKF4GL4G"" stopped.
2018-11-11 16:07:34.462 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 16:07:34.732 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 16:07:34.802 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:07:34.820 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:07:34.829 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 16:07:35.385 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 16:07:36.510 +07:00 [Debug] Connection id ""0HLI7MKF4GL4I"" started.
2018-11-11 16:07:36.513 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 16:07:36.516 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 16:07:36.518 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:07:36.521 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:07:36.528 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 16:07:36.536 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 16:07:36.638 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 16:07:39.134 +07:00 [Information] Authorization failed for the request at filter '"AspNetCore.CustomAuthorizeAttribute"'.
2018-11-11 16:07:39.146 +07:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 401
2018-11-11 16:07:39.155 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 2509.8807ms
2018-11-11 16:07:39.225 +07:00 [Debug] Connection id ""0HLI7MKF4GL4I"" completed keep alive response.
2018-11-11 16:07:39.240 +07:00 [Information] Request finished in 2715.5189ms 401 
2018-11-11 16:07:39.271 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-11 16:07:41.028 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1755.5419ms.
2018-11-11 16:07:41.234 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 16:07:41.349 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 112.5813ms.
2018-11-11 16:07:41.369 +07:00 [Debug] Executing action "/Index"
2018-11-11 16:07:41.458 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 16:07:41.464 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 16:07:41.605 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 16:07:41.769 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 16:07:41.957 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 185.9604ms.
2018-11-11 16:07:41.993 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:07:42.007 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:07:42.056 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:07:42.059 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:07:42.137 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 16:07:42.218 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 16:07:42.327 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 107.0599ms.
2018-11-11 16:07:42.541 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 16:07:42.664 +07:00 [Information] Executed action "/Index" in 1290.8726ms
2018-11-11 16:07:42.683 +07:00 [Debug] Connection id ""0HLI7MKF4GL4H"" completed keep alive response.
2018-11-11 16:07:42.686 +07:00 [Information] Request finished in 8240.8849ms 200 text/html; charset=utf-8
2018-11-11 16:07:44.426 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 16:07:44.429 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 16:07:44.430 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:07:44.432 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:07:44.435 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 16:07:44.437 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 16:07:44.442 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 16:07:48.874 +07:00 [Information] Authorization failed for the request at filter '"AspNetCore.CustomAuthorizeAttribute"'.
2018-11-11 16:07:48.877 +07:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 401
2018-11-11 16:07:48.879 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 4435.6342ms
2018-11-11 16:07:48.882 +07:00 [Debug] Connection id ""0HLI7MKF4GL4I"" completed keep alive response.
2018-11-11 16:07:48.884 +07:00 [Information] Request finished in 4457.9028ms 401 
2018-11-11 16:08:07.757 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 16:08:07.760 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 16:08:07.761 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:08:07.763 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:08:07.765 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 16:08:07.767 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 16:08:07.769 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 16:08:41.805 +07:00 [Information] Authorization failed for the request at filter '"AspNetCore.CustomAuthorizeAttribute"'.
2018-11-11 16:08:41.811 +07:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 401
2018-11-11 16:08:41.815 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 34043.4033ms
2018-11-11 16:08:41.820 +07:00 [Debug] Connection id ""0HLI7MKF4GL4H"" completed keep alive response.
2018-11-11 16:08:41.825 +07:00 [Information] Request finished in 34067.7425ms 401 
2018-11-11 16:08:50.603 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 16:08:50.603 +07:00 [Debug] Connection id ""0HLI7MKF4GL4I"" received FIN.
2018-11-11 16:08:50.627 +07:00 [Debug] Connection id ""0HLI7MKF4GL4I"" disconnecting.
2018-11-11 16:08:50.627 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 16:08:50.631 +07:00 [Debug] Connection id ""0HLI7MKF4GL4I"" sending FIN.
2018-11-11 16:08:50.634 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:08:50.634 +07:00 [Debug] Connection id ""0HLI7MKF4GL4I"" stopped.
2018-11-11 16:08:50.660 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:08:50.662 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 16:08:50.664 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 16:08:50.667 +07:00 [Debug] Executing action "/Index"
2018-11-11 16:08:50.669 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 16:08:50.671 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 16:08:50.676 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 16:08:50.681 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:08:50.683 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:08:50.685 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:08:50.687 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:08:50.689 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 16:08:50.699 +07:00 [Information] Executed action "/Index" in 29.8378ms
2018-11-11 16:08:50.701 +07:00 [Debug] Connection id ""0HLI7MKF4GL4H"" completed keep alive response.
2018-11-11 16:08:50.704 +07:00 [Information] Request finished in 101.5559ms 200 text/html; charset=utf-8
2018-11-11 16:08:55.602 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 16:08:55.605 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 16:08:55.608 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:08:55.610 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:08:55.613 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-11 16:08:55.615 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 16:08:55.670 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 16:08:55.828 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 16:08:55.836 +07:00 [Information] Test log
2018-11-11 16:08:58.076 +07:00 [Debug] Connection id ""0HLI7MKF4GL4J"" started.
2018-11-11 16:08:58.082 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 16:08:58.085 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 16:08:58.087 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:08:58.089 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:08:58.091 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 16:08:58.105 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 16:08:58.108 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 16:08:58.115 +07:00 [Verbose] Processing discovery request.
2018-11-11 16:08:58.118 +07:00 [Debug] Start discovery request
2018-11-11 16:08:58.123 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 16:08:58.161 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-11 16:08:58.236 +07:00 [Debug] Connection id ""0HLI7MKF4GL4J"" completed keep alive response.
2018-11-11 16:08:58.239 +07:00 [Information] Request finished in 157.1699ms 200 application/json; charset=UTF-8
2018-11-11 16:08:58.281 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-11 16:08:58.283 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-11 16:08:58.285 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:08:58.287 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:08:58.288 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-11 16:08:58.293 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-11 16:08:58.295 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-11 16:08:58.301 +07:00 [Verbose] Processing discovery request.
2018-11-11 16:08:58.303 +07:00 [Debug] Start key discovery request
2018-11-11 16:08:58.304 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 16:08:58.315 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-11 16:08:58.337 +07:00 [Debug] Connection id ""0HLI7MKF4GL4J"" completed keep alive response.
2018-11-11 16:08:58.339 +07:00 [Information] Request finished in 58.573ms 200 application/json; charset=UTF-8
2018-11-11 16:08:58.512 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-11 16:08:58.517 +07:00 [Debug] "POST" requests are not supported
2018-11-11 16:08:58.522 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:08:58.527 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:08:58.532 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-11 16:08:58.551 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-11 16:08:58.556 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-11 16:08:58.568 +07:00 [Verbose] Processing token request.
2018-11-11 16:08:58.586 +07:00 [Debug] Start token request.
2018-11-11 16:08:58.616 +07:00 [Debug] Start client validation
2018-11-11 16:08:58.645 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-11 16:08:58.654 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-11 16:08:58.661 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-11 16:08:58.701 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-11 16:08:58.705 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-11 16:08:58.731 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-11 16:08:58.739 +07:00 [Debug] Client validation success
2018-11-11 16:08:58.860 +07:00 [Debug] Connection id ""0HLI7MKF4GL4J"", Request id ""0HLI7MKF4GL4J:00000003"": started reading request body.
2018-11-11 16:08:58.885 +07:00 [Debug] Connection id ""0HLI7MKF4GL4J"", Request id ""0HLI7MKF4GL4J:00000003"": done reading request body.
2018-11-11 16:08:58.898 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-11 16:08:58.909 +07:00 [Debug] Start token request validation
2018-11-11 16:08:58.930 +07:00 [Debug] Start resource owner password token request validation
2018-11-11 16:08:59.655 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 16:08:59.658 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 16:08:59.688 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-11 16:08:59.708 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 16:08:59.710 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 16:08:59.716 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-11 16:09:00.097 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 16:09:00.263 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 16:09:00.379 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 16:09:00.618 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
                        FROM [AspNetUsers] AS [u]
                        WHERE [u].[NormalizedUserName] = @__normalizedUserName_0, 
                    shaper: UnbufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 16:09:00.726 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:09:01.383 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:09:01.460 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:09:01.846 +07:00 [Information] Executed DbCommand ("404"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:09:01.981 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:09:01.983 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:09:01.997 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:09:02.013 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 16:09:02.130 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-11 16:09:02.148 +07:00 [Debug] Resource owner password token request validation success.
2018-11-11 16:09:02.150 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-11 16:09:02.164 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api2\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api2\"
  }
}"
2018-11-11 16:09:02.165 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-11 16:09:02.172 +07:00 [Verbose] Creating response for password request
2018-11-11 16:09:02.186 +07:00 [Verbose] Creating access token
2018-11-11 16:09:02.197 +07:00 [Debug] Getting claims for access token for client: "ApiApplication"
2018-11-11 16:09:02.200 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-11 16:09:02.266 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 16:09:02.286 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 16:09:02.365 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 16:09:02.369 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:09:02.373 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:09:02.375 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 16:09:02.409 +07:00 [Information] Executed DbCommand ("33"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 16:09:02.414 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:09:02.416 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:09:02.418 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:09:02.484 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 16:09:02.496 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 16:09:02.540 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 16:09:02.543 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:09:02.545 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:09:02.547 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 16:09:02.572 +07:00 [Information] Executed DbCommand ("25"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 16:09:02.575 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:09:02.577 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:09:02.579 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:09:02.605 +07:00 [Verbose] Creating JWT access token
2018-11-11 16:09:02.705 +07:00 [Verbose] Access token issued for "ApiApplication (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE5MjczNDIsImV4cCI6MTU0MTkzMDk0MiwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMiJdLCJjbGllbnRfaWQiOiJBcGlBcHBsaWNhdGlvbiIsInN1YiI6ImI5NmU0OGFiLTUyMWQtNDJjMS05OWI2LWZjNjYwM2ViY2Q3YSIsImF1dGhfdGltZSI6MTU0MTkyNzM0MiwiaWRwIjoibG9jYWwiLCJnaXZlbl9uYW1lIjoiVGjDoWkgSOG7k25nIFF1eeG7g24iLCJlbWFpbCI6InF1eWVudGhAZ21haWwuY29tIiwianRpIjoiODE4MzY5ZTU0NDY2N2FiN2ZmZjU0N2I2YWM4MmQxYmMiLCJzY29wZSI6WyJhcGkyIl0sImFtciI6WyJwd2QiXX0.T_HeEn1sqcYrBCHZ7UZwU_vJ7kCqKjpL1Kxn5uS25RN2hbcMRVJjlmSSigyizsa5QVbKuuQn-6x6IEycI8aaOUrbianq_Rt-PXQ5cACGdhayUubwlvuRhADC_FCNLigmWlwJu5s8GqQ73q9Xx8jHqxQodL5cBT5XapZ486zG5rOUBBUxPGm8envy9c1CEFipeKWcv6zO8ptFBEJjF_i-5pT7Q3-UfGniP3zkG-sVRh96UPI_VuPKwa6Mc02aIwFv-CfA5U78q2uOqJhqAJabxHpUAEAnDK8mvQR_9vsh7mgFdeOk9f_osmrNoM8msbql0DbqbYPQj7zmaX359UOo5A"
2018-11-11 16:09:02.707 +07:00 [Debug] Token request success.
2018-11-11 16:09:02.710 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-11 16:09:02.725 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 16:09:02.730 +07:00 [Debug] Connection id ""0HLI7MKF4GL4J"" completed keep alive response.
2018-11-11 16:09:02.735 +07:00 [Information] Request finished in 4223.6767ms 200 application/json; charset=UTF-8
2018-11-11 16:09:02.744 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 16:09:02.754 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:09:02.756 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:09:02.759 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:09:02.764 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:09:02.766 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:09:02.768 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:09:02.770 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:09:02.772 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 16:09:02.781 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:09:02.783 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:09:02.785 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:09:02.788 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:09:02.790 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:09:02.792 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:09:02.793 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:09:02.806 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-11 16:09:02.823 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 16:09:02.831 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 16:09:02.833 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 16:09:02.864 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 7187.8797ms
2018-11-11 16:09:02.866 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 16:09:02.868 +07:00 [Debug] Connection id ""0HLI7MKF4GL4H"" completed keep alive response.
2018-11-11 16:09:02.871 +07:00 [Information] Request finished in 7269.4822ms 200 application/json; charset=utf-8
2018-11-11 16:09:02.885 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 16:09:02.906 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 16:09:02.923 +07:00 [Debug] Connection id ""0HLI7MKF4GL4J"" completed keep alive response.
2018-11-11 16:09:02.925 +07:00 [Information] Request finished in 39.944ms 200 image/x-icon
2018-11-11 16:09:16.758 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 16:09:16.760 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 16:09:16.762 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:09:16.764 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:09:16.767 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 16:09:16.768 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 16:09:16.771 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 16:09:29.855 +07:00 [Information] Authorization failed for the request at filter '"AspNetCore.CustomAuthorizeAttribute"'.
2018-11-11 16:09:29.858 +07:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 401
2018-11-11 16:09:29.860 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 13086.7646ms
2018-11-11 16:09:29.862 +07:00 [Debug] Connection id ""0HLI7MKF4GL4H"" completed keep alive response.
2018-11-11 16:09:29.865 +07:00 [Information] Request finished in 13106.9867ms 401 
2018-11-11 16:10:44.980 +07:00 [Debug] Connection id ""0HLI7MKF4GL4J"" reset.
2018-11-11 16:10:58.847 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 16:10:58.996 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 16:10:59.025 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 16:10:59.053 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 16:10:59.070 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 16:10:59.075 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 16:10:59.078 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 16:10:59.088 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 16:10:59.095 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 16:10:59.105 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 16:10:59.107 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 16:10:59.310 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 16:10:59.341 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 16:10:59.346 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 16:10:59.350 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 16:10:59.353 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 16:10:59.357 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 16:10:59.701 +07:00 [Debug] Hosting starting
2018-11-11 16:10:59.857 +07:00 [Debug] Hosting started
2018-11-11 16:10:59.860 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 16:10:59.861 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 16:10:59.862 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 16:10:59.972 +07:00 [Debug] Connection id ""0HLI7MMCEJFV2"" started.
2018-11-11 16:10:59.972 +07:00 [Debug] Connection id ""0HLI7MMCEJFV3"" started.
2018-11-11 16:11:00.070 +07:00 [Debug] Connection id ""0HLI7MMCEJFV2"" reset.
2018-11-11 16:11:00.076 +07:00 [Debug] Connection id ""0HLI7MMCEJFV2"" disconnecting.
2018-11-11 16:11:00.089 +07:00 [Debug] Connection id ""0HLI7MMCEJFV2"" sending FIN.
2018-11-11 16:11:00.094 +07:00 [Debug] Connection id ""0HLI7MMCEJFV2"" stopped.
2018-11-11 16:11:00.211 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 16:11:00.365 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 16:11:00.479 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:11:00.495 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:11:00.503 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 16:11:00.968 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 16:11:02.138 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-11 16:11:03.818 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1674.5392ms.
2018-11-11 16:11:04.023 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 16:11:04.163 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 137.4502ms.
2018-11-11 16:11:04.261 +07:00 [Debug] Executing action "/Index"
2018-11-11 16:11:04.412 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 16:11:04.420 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 16:11:04.608 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 16:11:04.717 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 16:11:04.922 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 202.6746ms.
2018-11-11 16:11:04.938 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:11:04.944 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:11:04.964 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:11:04.966 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:11:05.033 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 16:11:05.116 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 16:11:05.207 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 89.0775ms.
2018-11-11 16:11:05.413 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 16:11:05.572 +07:00 [Information] Executed action "/Index" in 1300.6722ms
2018-11-11 16:11:05.586 +07:00 [Debug] Connection id ""0HLI7MMCEJFV3"" completed keep alive response.
2018-11-11 16:11:05.595 +07:00 [Information] Request finished in 5394.2934ms 200 text/html; charset=utf-8
2018-11-11 16:11:35.831 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 16:11:35.833 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 16:11:35.835 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:11:35.845 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:11:35.853 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 16:11:35.856 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 16:11:35.895 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 16:11:44.851 +07:00 [Information] Authorization failed for the request at filter '"AspNetCore.CustomAuthorizeAttribute"'.
2018-11-11 16:11:44.858 +07:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 401
2018-11-11 16:11:44.862 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 8964.7688ms
2018-11-11 16:11:44.867 +07:00 [Debug] Connection id ""0HLI7MMCEJFV3"" completed keep alive response.
2018-11-11 16:11:44.870 +07:00 [Information] Request finished in 9038.6927ms 401 
2018-11-11 16:11:58.104 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 16:11:58.107 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 16:11:58.109 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:11:58.112 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:11:58.114 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-11 16:11:58.117 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 16:11:58.180 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 16:11:58.318 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 16:11:58.325 +07:00 [Information] Test log
2018-11-11 16:12:00.317 +07:00 [Debug] Connection id ""0HLI7MMCEJFV4"" started.
2018-11-11 16:12:00.322 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 16:12:00.325 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 16:12:00.327 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:12:00.329 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:12:00.330 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 16:12:00.338 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 16:12:00.341 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 16:12:00.347 +07:00 [Verbose] Processing discovery request.
2018-11-11 16:12:00.350 +07:00 [Debug] Start discovery request
2018-11-11 16:12:00.360 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 16:12:00.478 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-11 16:12:00.569 +07:00 [Debug] Connection id ""0HLI7MMCEJFV4"" completed keep alive response.
2018-11-11 16:12:00.571 +07:00 [Information] Request finished in 248.974ms 200 application/json; charset=UTF-8
2018-11-11 16:12:00.611 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-11 16:12:00.613 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-11 16:12:00.615 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:12:00.617 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:12:00.619 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-11 16:12:00.622 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-11 16:12:00.627 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-11 16:12:00.641 +07:00 [Verbose] Processing discovery request.
2018-11-11 16:12:00.646 +07:00 [Debug] Start key discovery request
2018-11-11 16:12:00.651 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 16:12:00.680 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-11 16:12:00.724 +07:00 [Debug] Connection id ""0HLI7MMCEJFV4"" completed keep alive response.
2018-11-11 16:12:00.726 +07:00 [Information] Request finished in 115.2557ms 200 application/json; charset=UTF-8
2018-11-11 16:12:00.804 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-11 16:12:00.806 +07:00 [Debug] "POST" requests are not supported
2018-11-11 16:12:00.808 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:12:00.809 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:12:00.811 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-11 16:12:00.818 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-11 16:12:00.820 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-11 16:12:00.826 +07:00 [Verbose] Processing token request.
2018-11-11 16:12:00.835 +07:00 [Debug] Start token request.
2018-11-11 16:12:00.843 +07:00 [Debug] Start client validation
2018-11-11 16:12:00.851 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-11 16:12:00.853 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-11 16:12:00.855 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-11 16:12:00.864 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-11 16:12:00.866 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-11 16:12:00.877 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-11 16:12:00.879 +07:00 [Debug] Client validation success
2018-11-11 16:12:00.918 +07:00 [Debug] Connection id ""0HLI7MMCEJFV4"", Request id ""0HLI7MMCEJFV4:00000003"": started reading request body.
2018-11-11 16:12:00.934 +07:00 [Debug] Connection id ""0HLI7MMCEJFV4"", Request id ""0HLI7MMCEJFV4:00000003"": done reading request body.
2018-11-11 16:12:00.943 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-11 16:12:00.950 +07:00 [Debug] Start token request validation
2018-11-11 16:12:00.965 +07:00 [Debug] Start resource owner password token request validation
2018-11-11 16:12:01.563 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 16:12:01.566 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 16:12:01.607 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-11 16:12:01.638 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 16:12:01.640 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 16:12:01.646 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-11 16:12:02.001 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 16:12:02.174 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 16:12:02.245 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 16:12:02.461 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
                        FROM [AspNetUsers] AS [u]
                        WHERE [u].[NormalizedUserName] = @__normalizedUserName_0, 
                    shaper: UnbufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 16:12:02.568 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:02.840 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:02.922 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:12:03.039 +07:00 [Information] Executed DbCommand ("137"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:12:03.157 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:12:03.161 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:03.174 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:03.189 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 16:12:03.320 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-11 16:12:03.341 +07:00 [Debug] Resource owner password token request validation success.
2018-11-11 16:12:03.343 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-11 16:12:03.360 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api2\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api2\"
  }
}"
2018-11-11 16:12:03.362 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-11 16:12:03.371 +07:00 [Verbose] Creating response for password request
2018-11-11 16:12:03.387 +07:00 [Verbose] Creating access token
2018-11-11 16:12:03.400 +07:00 [Debug] Getting claims for access token for client: "ApiApplication"
2018-11-11 16:12:03.404 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-11 16:12:03.475 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 16:12:03.500 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 16:12:03.580 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 16:12:03.583 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:03.587 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:03.590 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 16:12:03.599 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 16:12:03.603 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:12:03.605 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:03.607 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:03.645 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 16:12:03.652 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 16:12:03.686 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 16:12:03.689 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:03.691 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:03.693 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 16:12:03.698 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 16:12:03.701 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:12:03.703 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:03.705 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:03.728 +07:00 [Verbose] Creating JWT access token
2018-11-11 16:12:03.834 +07:00 [Verbose] Access token issued for "ApiApplication (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE5Mjc1MjMsImV4cCI6MTU0MTkzMTEyMywiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMiJdLCJjbGllbnRfaWQiOiJBcGlBcHBsaWNhdGlvbiIsInN1YiI6ImI5NmU0OGFiLTUyMWQtNDJjMS05OWI2LWZjNjYwM2ViY2Q3YSIsImF1dGhfdGltZSI6MTU0MTkyNzUyMywiaWRwIjoibG9jYWwiLCJnaXZlbl9uYW1lIjoiVGjDoWkgSOG7k25nIFF1eeG7g24iLCJlbWFpbCI6InF1eWVudGhAZ21haWwuY29tIiwianRpIjoiMmU4NmI5MDkwZWUzYjJmZWJlODY5ZWEwZjAxOGE1ZDkiLCJzY29wZSI6WyJhcGkyIl0sImFtciI6WyJwd2QiXX0.gzIYjluxzjlZb5L77skniMxQzhTZiTV0B8tVRpYrLIq08BW93n1t-qN0gke38G3zjXbsS8ga8Xc03CT85a_qm3Xfg7Om9SAOars7mVDtU2vdM0LfUoxEjH1kaMyU-slhBn6pXVvWB4qnpN_IHZihda1L4Dj09wrPtv8WpSMb1C2NgyAa6vHXEbod0T4konzj7cajL8gpCtWz08fNruSRLqWNLagdHE0nmMfGQ2PsKmAGcR7a4cjmTY1mecdGI03KXui-xpGlBXGqHNhe_zErofymIjaBud9WC4UOdPu20BxNfJn5JYCJyEc-eRbb-As_pJOQw2xF-0pvX0dC5qWPbQ"
2018-11-11 16:12:03.836 +07:00 [Debug] Token request success.
2018-11-11 16:12:03.838 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-11 16:12:03.851 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 16:12:03.857 +07:00 [Debug] Connection id ""0HLI7MMCEJFV4"" completed keep alive response.
2018-11-11 16:12:03.861 +07:00 [Information] Request finished in 3057.4984ms 200 application/json; charset=UTF-8
2018-11-11 16:12:03.870 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 16:12:03.879 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:03.881 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:03.884 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:12:03.887 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:12:03.890 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:12:03.892 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:03.894 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:03.896 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 16:12:03.905 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:03.907 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:03.909 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:12:03.912 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:12:03.914 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:12:03.916 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:03.917 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:03.935 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-11 16:12:03.956 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 16:12:03.964 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 16:12:03.966 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 16:12:04.006 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 5824.2184ms
2018-11-11 16:12:04.008 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 16:12:04.010 +07:00 [Debug] Connection id ""0HLI7MMCEJFV3"" completed keep alive response.
2018-11-11 16:12:04.013 +07:00 [Information] Request finished in 5908.4631ms 200 application/json; charset=utf-8
2018-11-11 16:12:04.036 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 16:12:04.054 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 16:12:04.070 +07:00 [Debug] Connection id ""0HLI7MMCEJFV4"" completed keep alive response.
2018-11-11 16:12:04.072 +07:00 [Information] Request finished in 36.0148ms 200 image/x-icon
2018-11-11 16:12:22.576 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 16:12:22.578 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 16:12:22.580 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:12:22.583 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:12:22.585 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 16:12:22.588 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 16:12:22.593 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 16:12:26.703 +07:00 [Information] Authorization failed for the request at filter '"AspNetCore.CustomAuthorizeAttribute"'.
2018-11-11 16:12:26.713 +07:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 401
2018-11-11 16:12:26.717 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 4123.3819ms
2018-11-11 16:12:26.720 +07:00 [Debug] Connection id ""0HLI7MMCEJFV3"" completed keep alive response.
2018-11-11 16:12:26.721 +07:00 [Information] Request finished in 4145.372ms 401 
2018-11-11 16:12:40.410 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 16:12:40.412 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 16:12:40.414 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:12:40.416 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:12:40.419 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 16:12:40.422 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 16:12:40.425 +07:00 [Debug] Executing action "/Index"
2018-11-11 16:12:40.427 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 16:12:40.429 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 16:12:40.434 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 16:12:40.437 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:12:40.439 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:12:40.442 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:12:40.444 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:12:40.446 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 16:12:40.448 +07:00 [Information] Executed action "/Index" in 21.2832ms
2018-11-11 16:12:40.450 +07:00 [Debug] Connection id ""0HLI7MMCEJFV4"" completed keep alive response.
2018-11-11 16:12:40.453 +07:00 [Information] Request finished in 42.9798ms 200 text/html; charset=utf-8
2018-11-11 16:12:42.734 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Login  
2018-11-11 16:12:42.737 +07:00 [Debug] The request path "/Account/Login" does not match a supported file type
2018-11-11 16:12:42.740 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:12:42.742 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:12:42.744 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Login"
2018-11-11 16:12:42.746 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 16:12:42.865 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' started.
2018-11-11 16:12:43.317 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' completed in 449.4286ms.
2018-11-11 16:12:43.367 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 16:12:43.413 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 16:12:43.417 +07:00 [Information] Executing handler method "OnGetAsync" with arguments ([""]) - ModelState is Valid
2018-11-11 16:12:43.478 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 16:12:43.487 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 16:12:43.525 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:12:43.544 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:12:43.552 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 16:12:43.710 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 16:12:43.713 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:12:43.715 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:12:43.717 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:12:43.718 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:12:43.720 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 16:12:43.723 +07:00 [Debug] View lookup cache miss for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 16:12:43.829 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' started.
2018-11-11 16:12:43.901 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' completed in 69.8532ms.
2018-11-11 16:12:43.928 +07:00 [Information] Executed action "/Account/Login" in 557.1254ms
2018-11-11 16:12:43.930 +07:00 [Debug] Connection id ""0HLI7MMCEJFV3"" completed keep alive response.
2018-11-11 16:12:43.932 +07:00 [Information] Request finished in 1198.4326ms 200 text/html; charset=utf-8
2018-11-11 16:12:50.207 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/Account/Login application/x-www-form-urlencoded 264
2018-11-11 16:12:50.210 +07:00 [Debug] "POST" requests are not supported
2018-11-11 16:12:50.218 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:12:50.221 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:12:50.223 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Login"
2018-11-11 16:12:50.225 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 16:12:50.228 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 16:12:50.238 +07:00 [Debug] Connection id ""0HLI7MMCEJFV4"", Request id ""0HLI7MMCEJFV4:00000006"": started reading request body.
2018-11-11 16:12:50.241 +07:00 [Debug] Connection id ""0HLI7MMCEJFV4"", Request id ""0HLI7MMCEJFV4:00000006"": done reading request body.
2018-11-11 16:12:50.245 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:12:50.247 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:12:50.254 +07:00 [Debug] Antiforgery successfully validated a request.
2018-11-11 16:12:50.302 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 16:12:50.304 +07:00 [Information] Executing handler method "OnPostAsync" with arguments ([""]) - ModelState is Valid
2018-11-11 16:12:56.929 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 16:12:56.940 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser c in DbSet<ApplicationUser>
where [c].UserName == \"quyenth@gmail.com\"
select [c]).FirstOrDefault()"'
2018-11-11 16:12:56.942 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser c in DbSet<ApplicationUser>
where [c].UserName == \"quyenth@gmail.com\"
select [c]).FirstOrDefault()"'
2018-11-11 16:12:56.959 +07:00 [Debug] "(QueryContext queryContext) => IEnumerable<ApplicationUser> _InterceptExceptions(
    source: IEnumerable<ApplicationUser> _TrackEntities(
        results: IEnumerable<ApplicationUser> _ToSequence(() => ApplicationUser FirstOrDefault(IEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [c].[Id], [c].[AccessFailedCount], [c].[ConcurrencyStamp], [c].[Email], [c].[EmailConfirmed], [c].[FullName], [c].[LockoutEnabled], [c].[LockoutEnd], [c].[NormalizedEmail], [c].[NormalizedUserName], [c].[PasswordHash], [c].[PhoneNumber], [c].[PhoneNumberConfirmed], [c].[SecurityStamp], [c].[TwoFactorEnabled], [c].[UserName]
                        FROM [AspNetUsers] AS [c]
                        WHERE [c].[UserName] = N'quyenth@gmail.com', 
                    shaper: UnbufferedEntityShaper<ApplicationUser>))), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 16:12:56.974 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:56.978 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:56.984 +07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AccessFailedCount], [c].[ConcurrencyStamp], [c].[Email], [c].[EmailConfirmed], [c].[FullName], [c].[LockoutEnabled], [c].[LockoutEnd], [c].[NormalizedEmail], [c].[NormalizedUserName], [c].[PasswordHash], [c].[PhoneNumber], [c].[PhoneNumberConfirmed], [c].[SecurityStamp], [c].[TwoFactorEnabled], [c].[UserName]
FROM [AspNetUsers] AS [c]
WHERE [c].[UserName] = N'quyenth@gmail.com'"
2018-11-11 16:12:56.992 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AccessFailedCount], [c].[ConcurrencyStamp], [c].[Email], [c].[EmailConfirmed], [c].[FullName], [c].[LockoutEnabled], [c].[LockoutEnd], [c].[NormalizedEmail], [c].[NormalizedUserName], [c].[PasswordHash], [c].[PhoneNumber], [c].[PhoneNumberConfirmed], [c].[SecurityStamp], [c].[TwoFactorEnabled], [c].[UserName]
FROM [AspNetUsers] AS [c]
WHERE [c].[UserName] = N'quyenth@gmail.com'"
2018-11-11 16:12:56.999 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:12:57.001 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:57.004 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:57.007 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 16:12:58.904 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:58.907 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:58.909 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:12:58.914 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:12:58.916 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:12:58.918 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:58.920 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:58.943 +07:00 [Warning] Invalid password for user "b96e48ab-521d-42c1-99b6-fc6603ebcd7a".
2018-11-11 16:12:58.946 +07:00 [Warning] User "b96e48ab-521d-42c1-99b6-fc6603ebcd7a" failed to provide the correct password.
2018-11-11 16:12:58.981 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:58.983 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:58.985 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:12:58.988 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:12:58.990 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:12:58.992 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:58.995 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:59.035 +07:00 [Debug] An '"ApplicationUser"' entity tracked by '"ApplicationIdentityContext"' changed from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 16:12:59.043 +07:00 [Debug] SaveChanges starting for '"ApplicationIdentityContext"'.
2018-11-11 16:12:59.049 +07:00 [Debug] DetectChanges starting for '"ApplicationIdentityContext"'.
2018-11-11 16:12:59.071 +07:00 [Debug] DetectChanges completed for '"ApplicationIdentityContext"'.
2018-11-11 16:12:59.107 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:59.111 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:59.145 +07:00 [Debug] Beginning transaction with isolation level '"ReadCommitted"'.
2018-11-11 16:12:59.277 +07:00 [Debug] Executing DbCommand [Parameters=["@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FullName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;"
2018-11-11 16:12:59.305 +07:00 [Information] Executed DbCommand ("31"ms) [Parameters=["@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FullName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;"
2018-11-11 16:12:59.325 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:12:59.344 +07:00 [Debug] Committing transaction.
2018-11-11 16:12:59.350 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:59.354 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:12:59.362 +07:00 [Debug] Disposing transaction.
2018-11-11 16:12:59.377 +07:00 [Debug] An '"ApplicationUser"' entity tracked by '"ApplicationIdentityContext"' changed from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 16:12:59.390 +07:00 [Debug] SaveChanges completed for '"ApplicationIdentityContext"' with 1 entities written to the database.
2018-11-11 16:12:59.397 +07:00 [Debug] Executed handler method "OnPostAsync", returned result "Microsoft.AspNetCore.Mvc.RazorPages.PageResult".
2018-11-11 16:12:59.400 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:12:59.403 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 16:12:59.415 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 16:12:59.418 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:12:59.420 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:12:59.423 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:12:59.425 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:12:59.428 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 16:12:59.431 +07:00 [Debug] View lookup cache hit for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 16:12:59.434 +07:00 [Information] Executed action "/Account/Login" in 9203.4269ms
2018-11-11 16:12:59.436 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 16:12:59.439 +07:00 [Debug] Connection id ""0HLI7MMCEJFV4"" completed keep alive response.
2018-11-11 16:12:59.442 +07:00 [Information] Request finished in 9235.2881ms 200 text/html; charset=utf-8
2018-11-11 16:13:05.381 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/Account/Login application/x-www-form-urlencoded 264
2018-11-11 16:13:05.384 +07:00 [Debug] "POST" requests are not supported
2018-11-11 16:13:05.386 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:13:05.388 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:13:05.390 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Login"
2018-11-11 16:13:05.392 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 16:13:05.395 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 16:13:05.398 +07:00 [Debug] Connection id ""0HLI7MMCEJFV3"", Request id ""0HLI7MMCEJFV3:00000006"": started reading request body.
2018-11-11 16:13:05.401 +07:00 [Debug] Connection id ""0HLI7MMCEJFV3"", Request id ""0HLI7MMCEJFV3:00000006"": done reading request body.
2018-11-11 16:13:05.403 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:13:05.406 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:13:05.408 +07:00 [Debug] Antiforgery successfully validated a request.
2018-11-11 16:13:05.410 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 16:13:05.413 +07:00 [Information] Executing handler method "OnPostAsync" with arguments ([""]) - ModelState is Valid
2018-11-11 16:13:05.415 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 16:13:05.417 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:13:05.420 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:13:05.423 +07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AccessFailedCount], [c].[ConcurrencyStamp], [c].[Email], [c].[EmailConfirmed], [c].[FullName], [c].[LockoutEnabled], [c].[LockoutEnd], [c].[NormalizedEmail], [c].[NormalizedUserName], [c].[PasswordHash], [c].[PhoneNumber], [c].[PhoneNumberConfirmed], [c].[SecurityStamp], [c].[TwoFactorEnabled], [c].[UserName]
FROM [AspNetUsers] AS [c]
WHERE [c].[UserName] = N'quyenth@gmail.com'"
2018-11-11 16:13:05.426 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AccessFailedCount], [c].[ConcurrencyStamp], [c].[Email], [c].[EmailConfirmed], [c].[FullName], [c].[LockoutEnabled], [c].[LockoutEnd], [c].[NormalizedEmail], [c].[NormalizedUserName], [c].[PasswordHash], [c].[PhoneNumber], [c].[PhoneNumberConfirmed], [c].[SecurityStamp], [c].[TwoFactorEnabled], [c].[UserName]
FROM [AspNetUsers] AS [c]
WHERE [c].[UserName] = N'quyenth@gmail.com'"
2018-11-11 16:13:05.428 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:13:05.430 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:13:05.432 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:13:05.434 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 16:13:06.828 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:13:06.831 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:13:06.833 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:13:06.837 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:13:06.841 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:13:06.843 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:13:06.845 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:13:06.862 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:13:06.864 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:13:06.867 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:13:06.870 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:13:06.873 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:13:06.875 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:13:06.878 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:13:06.881 +07:00 [Debug] An '"ApplicationUser"' entity tracked by '"ApplicationIdentityContext"' changed from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 16:13:06.883 +07:00 [Debug] SaveChanges starting for '"ApplicationIdentityContext"'.
2018-11-11 16:13:06.886 +07:00 [Debug] DetectChanges starting for '"ApplicationIdentityContext"'.
2018-11-11 16:13:06.889 +07:00 [Debug] DetectChanges completed for '"ApplicationIdentityContext"'.
2018-11-11 16:13:06.892 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:13:06.894 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:13:06.897 +07:00 [Debug] Beginning transaction with isolation level '"ReadCommitted"'.
2018-11-11 16:13:06.900 +07:00 [Debug] Executing DbCommand [Parameters=["@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FullName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;"
2018-11-11 16:13:06.904 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FullName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;"
2018-11-11 16:13:06.907 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:13:06.910 +07:00 [Debug] Committing transaction.
2018-11-11 16:13:06.912 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:13:06.915 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:13:06.918 +07:00 [Debug] Disposing transaction.
2018-11-11 16:13:06.920 +07:00 [Debug] An '"ApplicationUser"' entity tracked by '"ApplicationIdentityContext"' changed from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 16:13:06.923 +07:00 [Debug] SaveChanges completed for '"ApplicationIdentityContext"' with 1 entities written to the database.
2018-11-11 16:13:06.944 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:13:06.946 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:13:06.948 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 16:13:06.952 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 16:13:06.955 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:13:06.957 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:13:06.960 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:13:06.965 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:13:06.967 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:13:06.969 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 16:13:06.974 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 16:13:06.980 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:13:06.983 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:13:06.986 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:13:06.993 +07:00 [Debug] Augmenting SignInContext
2018-11-11 16:13:06.998 +07:00 [Debug] Adding idp claim with value: "local"
2018-11-11 16:13:07.001 +07:00 [Debug] Adding amr claim with value: "pwd"
2018-11-11 16:13:07.004 +07:00 [Debug] Adding auth_time claim with value: "1541927586"
2018-11-11 16:13:07.013 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:13:07.041 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 16:13:07.048 +07:00 [Information] AuthenticationScheme: "Identity.Application" signed in.
2018-11-11 16:13:07.051 +07:00 [Information] User logged in.
2018-11-11 16:13:07.059 +07:00 [Debug] Executed handler method "OnPostAsync", returned result "Microsoft.AspNetCore.Mvc.LocalRedirectResult".
2018-11-11 16:13:07.065 +07:00 [Information] Executing LocalRedirectResult, redirecting to "/".
2018-11-11 16:13:07.071 +07:00 [Information] Executed action "/Account/Login" in 1672.8153ms
2018-11-11 16:13:07.073 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 16:13:07.075 +07:00 [Debug] Connection id ""0HLI7MMCEJFV3"" completed keep alive response.
2018-11-11 16:13:07.078 +07:00 [Information] Request finished in 1697.57ms 302 
2018-11-11 16:13:07.081 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 16:13:07.086 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 16:13:07.097 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 16:13:07.119 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:13:07.123 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:13:07.125 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 16:13:07.127 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 16:13:07.129 +07:00 [Debug] Executing action "/Index"
2018-11-11 16:13:07.131 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 16:13:07.133 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 16:13:07.135 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 16:13:07.137 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:13:07.139 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:13:07.141 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:13:07.143 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:13:07.146 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 16:13:07.153 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:13:07.162 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:13:07.164 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 16:13:07.170 +07:00 [Information] Executed action "/Index" in 39.6628ms
2018-11-11 16:13:07.173 +07:00 [Debug] Connection id ""0HLI7MMCEJFV4"" completed keep alive response.
2018-11-11 16:13:07.176 +07:00 [Information] Request finished in 94.3709ms 200 text/html; charset=utf-8
2018-11-11 16:13:11.864 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 16:13:11.866 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 16:13:11.868 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:13:11.869 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:13:11.871 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 16:13:11.873 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 16:13:11.874 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 16:13:13.808 +07:00 [Information] Authorization failed for the request at filter '"AspNetCore.CustomAuthorizeAttribute"'.
2018-11-11 16:13:13.810 +07:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 401
2018-11-11 16:13:13.813 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 1936.6463ms
2018-11-11 16:13:13.815 +07:00 [Debug] Connection id ""0HLI7MMCEJFV3"" completed keep alive response.
2018-11-11 16:13:13.817 +07:00 [Information] Request finished in 1953.0534ms 401 
2018-11-11 16:13:29.966 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 16:13:29.968 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 16:13:29.970 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 16:13:29.974 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:13:29.977 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:13:29.980 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 16:13:29.983 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 16:13:29.986 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 16:13:32.485 +07:00 [Information] Authorization was successful for user: "quyenth@gmail.com".
2018-11-11 16:13:32.487 +07:00 [Information] Executing action method "AspNetCore.Controllers.TestController.Index (AspNetCore)" with arguments (null) - ModelState is Valid
2018-11-11 16:13:32.489 +07:00 [Debug] Executed action method "AspNetCore.Controllers.TestController.Index (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult".
2018-11-11 16:13:32.492 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 16:13:32.498 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 16:13:32.499 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 16:13:32.502 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 2513.3133ms
2018-11-11 16:13:32.504 +07:00 [Debug] Connection id ""0HLI7MMCEJFV4"" completed keep alive response.
2018-11-11 16:13:32.506 +07:00 [Information] Request finished in 2540.8476ms 200 application/json; charset=utf-8
2018-11-11 16:13:36.055 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 16:13:36.057 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 16:13:36.059 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 16:13:36.062 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:13:36.074 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:13:36.076 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 16:13:36.079 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 16:13:36.082 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 16:14:12.545 +07:00 [Information] Authorization was successful for user: "quyenth@gmail.com".
2018-11-11 16:14:12.549 +07:00 [Information] Executing action method "AspNetCore.Controllers.TestController.Index (AspNetCore)" with arguments (null) - ModelState is Valid
2018-11-11 16:14:12.553 +07:00 [Debug] Executed action method "AspNetCore.Controllers.TestController.Index (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult".
2018-11-11 16:14:12.557 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 16:14:12.561 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 16:14:12.565 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 16:14:12.568 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 36484.1198ms
2018-11-11 16:14:12.573 +07:00 [Debug] Connection id ""0HLI7MMCEJFV3"" completed keep alive response.
2018-11-11 16:14:12.578 +07:00 [Information] Request finished in 36523.1231ms 200 application/json; charset=utf-8
2018-11-11 16:14:39.913 +07:00 [Debug] Connection id ""0HLI7MMCEJFV4"" received FIN.
2018-11-11 16:14:39.920 +07:00 [Debug] Connection id ""0HLI7MMCEJFV4"" disconnecting.
2018-11-11 16:14:39.927 +07:00 [Debug] Connection id ""0HLI7MMCEJFV4"" sending FIN.
2018-11-11 16:14:39.927 +07:00 [Debug] Connection id ""0HLI7MMCEJFV4"" stopped.
2018-11-11 16:15:13.002 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 16:15:13.089 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 16:15:13.104 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 16:15:13.126 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 16:15:13.143 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 16:15:13.149 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 16:15:13.152 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 16:15:13.166 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 16:15:13.176 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 16:15:13.192 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 16:15:13.193 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 16:15:13.404 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 16:15:13.437 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 16:15:13.442 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 16:15:13.445 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 16:15:13.448 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 16:15:13.450 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 16:15:13.765 +07:00 [Debug] Hosting starting
2018-11-11 16:15:13.927 +07:00 [Debug] Hosting started
2018-11-11 16:15:13.931 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 16:15:13.935 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 16:15:13.939 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 16:15:14.091 +07:00 [Debug] Connection id ""0HLI7MOO5SKN5"" started.
2018-11-11 16:15:14.091 +07:00 [Debug] Connection id ""0HLI7MOO5SKN6"" started.
2018-11-11 16:15:14.245 +07:00 [Debug] Connection id ""0HLI7MOO5SKN6"" reset.
2018-11-11 16:15:14.251 +07:00 [Debug] Connection id ""0HLI7MOO5SKN6"" disconnecting.
2018-11-11 16:15:14.273 +07:00 [Debug] Connection id ""0HLI7MOO5SKN6"" sending FIN.
2018-11-11 16:15:14.282 +07:00 [Debug] Connection id ""0HLI7MOO5SKN6"" stopped.
2018-11-11 16:15:14.430 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 16:15:14.551 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 16:15:14.619 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 16:15:14.871 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 16:15:14.923 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:15:14.933 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:15:14.950 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:15:14.957 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 16:15:15.422 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 16:15:16.601 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-11 16:15:18.144 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1537.5945ms.
2018-11-11 16:15:18.408 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 16:15:18.547 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 137.3842ms.
2018-11-11 16:15:18.678 +07:00 [Debug] Executing action "/Index"
2018-11-11 16:15:18.732 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 16:15:18.736 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 16:15:18.855 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 16:15:18.999 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 16:15:19.233 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 231.914ms.
2018-11-11 16:15:19.248 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:15:19.260 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:15:19.329 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:15:19.334 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:15:19.427 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 16:15:19.550 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 16:15:19.638 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 85.9435ms.
2018-11-11 16:15:19.670 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:15:19.685 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:15:19.693 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 16:15:19.865 +07:00 [Information] Executed action "/Index" in 1182.5346ms
2018-11-11 16:15:19.876 +07:00 [Debug] Connection id ""0HLI7MOO5SKN5"" completed keep alive response.
2018-11-11 16:15:19.887 +07:00 [Information] Request finished in 5471.2304ms 200 text/html; charset=utf-8
2018-11-11 16:15:26.683 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 16:15:26.687 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 16:15:26.690 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:15:26.692 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:15:26.695 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:15:26.699 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 16:15:26.703 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 16:15:26.739 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 16:15:48.749 +07:00 [Information] Authorization failed for the request at filter '"AspNetCore.CustomAuthorizeAttribute"'.
2018-11-11 16:15:48.755 +07:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 401
2018-11-11 16:15:48.759 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 22017.587ms
2018-11-11 16:15:48.764 +07:00 [Debug] Connection id ""0HLI7MOO5SKN5"" completed keep alive response.
2018-11-11 16:15:48.766 +07:00 [Information] Request finished in 22082.9813ms 401 
2018-11-11 16:17:02.968 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 16:17:03.056 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 16:17:03.067 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 16:17:03.085 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 16:17:03.100 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 16:17:03.105 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 16:17:03.108 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 16:17:03.119 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 16:17:03.127 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 16:17:03.139 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 16:17:03.141 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 16:17:03.356 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 16:17:03.392 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 16:17:03.396 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 16:17:03.399 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 16:17:03.402 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 16:17:03.405 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 16:17:03.795 +07:00 [Debug] Hosting starting
2018-11-11 16:17:03.971 +07:00 [Debug] Hosting started
2018-11-11 16:17:03.973 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 16:17:03.976 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 16:17:03.978 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 16:17:04.021 +07:00 [Debug] Connection id ""0HLI7MPOUF79H"" started.
2018-11-11 16:17:04.021 +07:00 [Debug] Connection id ""0HLI7MPOUF79I"" started.
2018-11-11 16:17:04.190 +07:00 [Debug] Connection id ""0HLI7MPOUF79I"" reset.
2018-11-11 16:17:04.196 +07:00 [Debug] Connection id ""0HLI7MPOUF79I"" disconnecting.
2018-11-11 16:17:04.217 +07:00 [Debug] Connection id ""0HLI7MPOUF79I"" sending FIN.
2018-11-11 16:17:04.227 +07:00 [Debug] Connection id ""0HLI7MPOUF79I"" stopped.
2018-11-11 16:17:04.374 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 16:17:04.506 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 16:17:04.574 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 16:17:04.788 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 16:17:04.847 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:17:04.860 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:17:04.911 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:17:04.923 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 16:17:05.330 +07:00 [Debug] Connection id ""0HLI7MPOUF79J"" started.
2018-11-11 16:17:05.333 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 16:17:05.335 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 16:17:05.339 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 16:17:05.343 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:17:05.352 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:17:05.360 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:17:05.361 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-11 16:17:05.502 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 16:17:05.502 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 16:17:05.712 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 16:17:05.860 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 16:17:05.867 +07:00 [Information] Test log
2018-11-11 16:17:07.832 +07:00 [Debug] Connection id ""0HLI7MPOUF79K"" started.
2018-11-11 16:17:07.837 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 16:17:07.840 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 16:17:07.843 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:17:07.845 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:17:07.847 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:17:07.850 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 16:17:07.858 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 16:17:07.860 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 16:17:07.867 +07:00 [Verbose] Processing discovery request.
2018-11-11 16:17:07.870 +07:00 [Debug] Start discovery request
2018-11-11 16:17:07.875 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 16:17:07.913 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-11 16:17:08.054 +07:00 [Debug] Connection id ""0HLI7MPOUF79K"" completed keep alive response.
2018-11-11 16:17:08.071 +07:00 [Information] Request finished in 219.9573ms 200 application/json; charset=UTF-8
2018-11-11 16:17:08.094 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-11 16:17:08.096 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-11 16:17:08.097 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:17:08.099 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:17:08.100 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:17:08.102 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-11 16:17:08.104 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-11 16:17:08.106 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-11 16:17:08.111 +07:00 [Verbose] Processing discovery request.
2018-11-11 16:17:08.113 +07:00 [Debug] Start key discovery request
2018-11-11 16:17:08.115 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 16:17:08.126 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-11 16:17:08.149 +07:00 [Debug] Connection id ""0HLI7MPOUF79K"" completed keep alive response.
2018-11-11 16:17:08.151 +07:00 [Information] Request finished in 57.4801ms 200 application/json; charset=UTF-8
2018-11-11 16:17:08.217 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-11 16:17:08.219 +07:00 [Debug] "POST" requests are not supported
2018-11-11 16:17:08.221 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:17:08.223 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:17:08.225 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:17:08.226 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-11 16:17:08.243 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-11 16:17:08.245 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-11 16:17:08.250 +07:00 [Verbose] Processing token request.
2018-11-11 16:17:08.257 +07:00 [Debug] Start token request.
2018-11-11 16:17:08.265 +07:00 [Debug] Start client validation
2018-11-11 16:17:08.273 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-11 16:17:08.276 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-11 16:17:08.277 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-11 16:17:08.287 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-11 16:17:08.289 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-11 16:17:08.301 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-11 16:17:08.303 +07:00 [Debug] Client validation success
2018-11-11 16:17:08.341 +07:00 [Debug] Connection id ""0HLI7MPOUF79K"", Request id ""0HLI7MPOUF79K:00000003"": started reading request body.
2018-11-11 16:17:08.360 +07:00 [Debug] Connection id ""0HLI7MPOUF79K"", Request id ""0HLI7MPOUF79K:00000003"": done reading request body.
2018-11-11 16:17:08.369 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-11 16:17:08.377 +07:00 [Debug] Start token request validation
2018-11-11 16:17:08.393 +07:00 [Debug] Start resource owner password token request validation
2018-11-11 16:17:08.900 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-11 16:17:09.158 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 16:17:09.160 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 16:17:09.194 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-11 16:17:09.214 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 16:17:09.216 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 16:17:09.221 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-11 16:17:09.574 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 16:17:09.750 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 16:17:09.817 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 16:17:10.038 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
                        FROM [AspNetUsers] AS [u]
                        WHERE [u].[NormalizedUserName] = @__normalizedUserName_0, 
                    shaper: UnbufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 16:17:10.131 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:10.397 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:10.463 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:17:10.610 +07:00 [Information] Executed DbCommand ("162"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:17:10.753 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:17:10.756 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:10.771 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:10.788 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 16:17:10.848 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1941.808ms.
2018-11-11 16:17:10.932 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-11 16:17:10.952 +07:00 [Debug] Resource owner password token request validation success.
2018-11-11 16:17:10.974 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-11 16:17:10.987 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api2\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api2\"
  }
}"
2018-11-11 16:17:10.998 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-11 16:17:11.005 +07:00 [Verbose] Creating response for password request
2018-11-11 16:17:11.020 +07:00 [Verbose] Creating access token
2018-11-11 16:17:11.032 +07:00 [Debug] Getting claims for access token for client: "ApiApplication"
2018-11-11 16:17:11.035 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-11 16:17:11.094 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 16:17:11.106 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 16:17:11.115 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 16:17:11.199 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 90.9678ms.
2018-11-11 16:17:11.210 +07:00 [Debug] Executing action "/Index"
2018-11-11 16:17:11.223 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 16:17:11.226 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:11.230 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:11.232 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 16:17:11.242 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 16:17:11.247 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:17:11.249 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:11.251 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:11.265 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 16:17:11.268 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 16:17:11.292 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 16:17:11.300 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 16:17:11.343 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 16:17:11.346 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:11.348 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:11.351 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 16:17:11.356 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 16:17:11.359 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:17:11.361 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:11.363 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:11.391 +07:00 [Verbose] Creating JWT access token
2018-11-11 16:17:11.443 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 16:17:11.488 +07:00 [Verbose] Access token issued for "ApiApplication (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE5Mjc4MzEsImV4cCI6MTU0MTkzMTQzMSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMiJdLCJjbGllbnRfaWQiOiJBcGlBcHBsaWNhdGlvbiIsInN1YiI6ImI5NmU0OGFiLTUyMWQtNDJjMS05OWI2LWZjNjYwM2ViY2Q3YSIsImF1dGhfdGltZSI6MTU0MTkyNzgzMCwiaWRwIjoibG9jYWwiLCJnaXZlbl9uYW1lIjoiVGjDoWkgSOG7k25nIFF1eeG7g24iLCJlbWFpbCI6InF1eWVudGhAZ21haWwuY29tIiwianRpIjoiODBiNDZkNmZkNDA4OTI3M2Q4MTQyOTdhMDViNzdhMzYiLCJzY29wZSI6WyJhcGkyIl0sImFtciI6WyJwd2QiXX0.hWAU8zSE1-VpdcvI20NWD8KxFvyz_zWUFh2_VAAYZDQVGPxjcA9K0uNSWGFdazUYToLUCjBUdsBtZZ6lSgcNnm4SqNeiTvnQE1iByp4HdxD8n4Q43gDquKyqhmRgA4XnUDmQzRQmtEY1A2IERrSZmr9yUm2T0sgGbiJDe3VfUFZuT39nhyr_6zAzALXsY7VZxcLeMplxjOZ30GFSIDUET1APySegawb0yrlzOD1V1w8bdFtBKp8YLnDslHcg_fffQox0pLJ59FzEAm88u4Zwxfrd3XarkFjBsMOMtvpZtdX82lWkMlQE095_D5lbT2PYMWTinbdkqOdTauzGQ-Olww"
2018-11-11 16:17:11.491 +07:00 [Debug] Token request success.
2018-11-11 16:17:11.493 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-11 16:17:11.512 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 16:17:11.517 +07:00 [Debug] Connection id ""0HLI7MPOUF79K"" completed keep alive response.
2018-11-11 16:17:11.523 +07:00 [Information] Request finished in 3306.6456ms 200 application/json; charset=UTF-8
2018-11-11 16:17:11.535 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 16:17:11.543 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:11.546 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:11.549 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:17:11.553 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:17:11.555 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:17:11.557 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:11.560 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:11.562 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 16:17:11.571 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:11.574 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:11.577 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:17:11.580 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:17:11.582 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:17:11.585 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:11.586 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:11.599 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-11 16:17:11.618 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 16:17:11.628 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 16:17:11.631 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 16:17:11.639 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 16:17:11.676 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 5960.2367ms
2018-11-11 16:17:11.679 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 16:17:11.682 +07:00 [Debug] Connection id ""0HLI7MPOUF79J"" completed keep alive response.
2018-11-11 16:17:11.684 +07:00 [Information] Request finished in 6351.1855ms 200 application/json; charset=utf-8
2018-11-11 16:17:11.706 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 16:17:11.727 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 16:17:11.751 +07:00 [Debug] Connection id ""0HLI7MPOUF79K"" completed keep alive response.
2018-11-11 16:17:11.755 +07:00 [Information] Request finished in 48.5672ms 200 image/x-icon
2018-11-11 16:17:11.936 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 295.4426ms.
2018-11-11 16:17:11.977 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:17:11.991 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:17:12.041 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:17:12.043 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:17:12.104 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 16:17:12.189 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 16:17:12.360 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 168.3194ms.
2018-11-11 16:17:12.452 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:17:12.490 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:17:12.508 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 16:17:12.633 +07:00 [Information] Executed action "/Index" in 1420.9277ms
2018-11-11 16:17:12.645 +07:00 [Debug] Connection id ""0HLI7MPOUF79H"" completed keep alive response.
2018-11-11 16:17:12.649 +07:00 [Information] Request finished in 8290.8628ms 200 text/html; charset=utf-8
2018-11-11 16:17:15.945 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 16:17:15.947 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 16:17:15.949 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:17:15.951 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:17:15.953 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:17:15.954 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 16:17:15.956 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 16:17:15.968 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 16:17:23.363 +07:00 [Information] Authorization failed for the request at filter '"AspNetCore.CustomAuthorizeAttribute"'.
2018-11-11 16:17:23.372 +07:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 401
2018-11-11 16:17:23.375 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 7404.2412ms
2018-11-11 16:17:23.380 +07:00 [Debug] Connection id ""0HLI7MPOUF79J"" completed keep alive response.
2018-11-11 16:17:23.382 +07:00 [Information] Request finished in 7436.8806ms 401 
2018-11-11 16:17:28.447 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 16:17:28.450 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 16:17:28.453 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 16:17:28.455 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:17:28.458 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:17:28.460 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:17:28.463 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-11 16:17:28.480 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 16:17:28.485 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 16:17:28.488 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 16:17:28.490 +07:00 [Information] Test log
2018-11-11 16:17:29.856 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 16:17:29.859 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 16:17:29.863 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:17:29.870 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:17:29.873 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:17:29.875 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 16:17:29.877 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 16:17:29.879 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 16:17:29.881 +07:00 [Verbose] Processing discovery request.
2018-11-11 16:17:29.883 +07:00 [Debug] Start discovery request
2018-11-11 16:17:29.885 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 16:17:29.888 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-11 16:17:29.891 +07:00 [Debug] Connection id ""0HLI7MPOUF79H"" completed keep alive response.
2018-11-11 16:17:29.915 +07:00 [Information] Request finished in 59.1469ms 200 application/json; charset=UTF-8
2018-11-11 16:17:29.923 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-11 16:17:29.925 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-11 16:17:29.927 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:17:29.930 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:17:29.932 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:17:29.934 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-11 16:17:29.937 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-11 16:17:29.940 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-11 16:17:29.942 +07:00 [Verbose] Processing discovery request.
2018-11-11 16:17:29.945 +07:00 [Debug] Start key discovery request
2018-11-11 16:17:29.947 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 16:17:29.949 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-11 16:17:29.952 +07:00 [Debug] Connection id ""0HLI7MPOUF79J"" completed keep alive response.
2018-11-11 16:17:29.975 +07:00 [Information] Request finished in 51.3201ms 200 application/json; charset=UTF-8
2018-11-11 16:17:29.989 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-11 16:17:29.992 +07:00 [Debug] "POST" requests are not supported
2018-11-11 16:17:29.994 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:17:29.996 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:17:29.999 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:17:30.001 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-11 16:17:30.007 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-11 16:17:30.009 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-11 16:17:30.032 +07:00 [Verbose] Processing token request.
2018-11-11 16:17:30.035 +07:00 [Debug] Start token request.
2018-11-11 16:17:30.037 +07:00 [Debug] Start client validation
2018-11-11 16:17:30.039 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-11 16:17:30.042 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-11 16:17:30.046 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-11 16:17:30.050 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-11 16:17:30.054 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-11 16:17:30.057 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-11 16:17:30.059 +07:00 [Debug] Client validation success
2018-11-11 16:17:30.061 +07:00 [Debug] Connection id ""0HLI7MPOUF79H"", Request id ""0HLI7MPOUF79H:00000003"": started reading request body.
2018-11-11 16:17:30.064 +07:00 [Debug] Connection id ""0HLI7MPOUF79H"", Request id ""0HLI7MPOUF79H:00000003"": done reading request body.
2018-11-11 16:17:30.065 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-11 16:17:30.067 +07:00 [Debug] Start token request validation
2018-11-11 16:17:30.069 +07:00 [Debug] Start resource owner password token request validation
2018-11-11 16:17:30.071 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 16:17:30.074 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:30.076 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:30.078 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:17:30.083 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:17:30.085 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:17:30.087 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:30.088 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:30.091 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 16:17:30.108 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-11 16:17:30.109 +07:00 [Debug] Resource owner password token request validation success.
2018-11-11 16:17:30.112 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-11 16:17:30.114 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api2\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api2\"
  }
}"
2018-11-11 16:17:30.116 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-11 16:17:30.118 +07:00 [Verbose] Creating response for password request
2018-11-11 16:17:30.120 +07:00 [Verbose] Creating access token
2018-11-11 16:17:30.121 +07:00 [Debug] Getting claims for access token for client: "ApiApplication"
2018-11-11 16:17:30.123 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-11 16:17:30.126 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:30.127 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:30.129 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 16:17:30.133 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 16:17:30.135 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:17:30.137 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:30.138 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:30.142 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:30.144 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:30.145 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 16:17:30.149 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 16:17:30.151 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:17:30.153 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:30.154 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:30.156 +07:00 [Verbose] Creating JWT access token
2018-11-11 16:17:30.161 +07:00 [Verbose] Access token issued for "ApiApplication (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE5Mjc4NTAsImV4cCI6MTU0MTkzMTQ1MCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMiJdLCJjbGllbnRfaWQiOiJBcGlBcHBsaWNhdGlvbiIsInN1YiI6ImI5NmU0OGFiLTUyMWQtNDJjMS05OWI2LWZjNjYwM2ViY2Q3YSIsImF1dGhfdGltZSI6MTU0MTkyNzg1MCwiaWRwIjoibG9jYWwiLCJnaXZlbl9uYW1lIjoiVGjDoWkgSOG7k25nIFF1eeG7g24iLCJlbWFpbCI6InF1eWVudGhAZ21haWwuY29tIiwianRpIjoiNGJlZjkzM2ZhMzY5OTEyYTVlNjZlMTZiNDIyMTVlZTkiLCJzY29wZSI6WyJhcGkyIl0sImFtciI6WyJwd2QiXX0.ldHoCg1wcMj2cHAPTP37kRKDlzPIyWiBDw3xu37Ks_wahiqcl64sXtjlHfF3Z4tqydHfant0OXW9USArJMMw7RUdVAoALLBz7RIVNT3byuZEFJCiinGtnmxfjjHrKgBl1IrDsfYFTuvxW2MQVX09pPhtpyX4Kz-w5lriigLBeE7uBFVNBUhm2zzYA_9hFemNjATzctMaHjH8nhZntG8zM85kkg3xgaFx-61M6NWUPTam8M2d5isk8qS37xnm53wRTyygwGP5TRCZu1M3_iUZN_Zs6HJ-4-zV6Cr_b194mGkzy1zlFxQS-azyLD5aCi5zMZcMjT_bAwKTJL_Lrnnz9w"
2018-11-11 16:17:30.163 +07:00 [Debug] Token request success.
2018-11-11 16:17:30.165 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-11 16:17:30.167 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 16:17:30.169 +07:00 [Debug] Connection id ""0HLI7MPOUF79H"" completed keep alive response.
2018-11-11 16:17:30.191 +07:00 [Information] Request finished in 201.2528ms 200 application/json; charset=UTF-8
2018-11-11 16:17:30.196 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 16:17:30.199 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:30.201 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:30.203 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:17:30.208 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:17:30.210 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:17:30.212 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:30.215 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:30.217 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 16:17:30.220 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:30.222 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:30.224 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:17:30.228 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:17:30.230 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:17:30.232 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:30.235 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:17:30.245 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-11 16:17:30.248 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 16:17:30.250 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 16:17:30.252 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 16:17:30.254 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 1766.2581ms
2018-11-11 16:17:30.256 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 16:17:30.258 +07:00 [Debug] Connection id ""0HLI7MPOUF79K"" completed keep alive response.
2018-11-11 16:17:30.261 +07:00 [Information] Request finished in 1813.8213ms 200 application/json; charset=utf-8
2018-11-11 16:17:30.288 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 16:17:30.291 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 16:17:30.295 +07:00 [Debug] Connection id ""0HLI7MPOUF79J"" completed keep alive response.
2018-11-11 16:17:30.299 +07:00 [Information] Request finished in 10.6001ms 200 image/x-icon
2018-11-11 16:17:47.583 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 16:17:47.586 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 16:17:47.588 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:17:47.591 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:17:47.593 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:17:47.595 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 16:17:47.597 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 16:17:47.600 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 16:19:28.552 +07:00 [Information] Authorization failed for the request at filter '"AspNetCore.CustomAuthorizeAttribute"'.
2018-11-11 16:19:28.553 +07:00 [Debug] Connection id ""0HLI7MPOUF79K"" received FIN.
2018-11-11 16:19:28.553 +07:00 [Debug] Connection id ""0HLI7MPOUF79J"" received FIN.
2018-11-11 16:19:28.579 +07:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 401
2018-11-11 16:19:28.580 +07:00 [Debug] Connection id ""0HLI7MPOUF79J"" disconnecting.
2018-11-11 16:19:28.580 +07:00 [Debug] Connection id ""0HLI7MPOUF79K"" disconnecting.
2018-11-11 16:19:28.602 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 100999.3948ms
2018-11-11 16:19:28.625 +07:00 [Debug] Connection id ""0HLI7MPOUF79J"" sending FIN.
2018-11-11 16:19:28.667 +07:00 [Debug] Connection id ""0HLI7MPOUF79K"" sending FIN.
2018-11-11 16:19:28.667 +07:00 [Debug] Connection id ""0HLI7MPOUF79H"" completed keep alive response.
2018-11-11 16:19:28.688 +07:00 [Debug] Connection id ""0HLI7MPOUF79J"" stopped.
2018-11-11 16:19:28.688 +07:00 [Debug] Connection id ""0HLI7MPOUF79K"" stopped.
2018-11-11 16:19:28.713 +07:00 [Information] Request finished in 101130.1541ms 401 
2018-11-11 16:28:37.442 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 16:28:37.490 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 16:28:37.498 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 16:28:37.513 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 16:28:37.524 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 16:28:37.529 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 16:28:37.532 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 16:28:37.546 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 16:28:37.556 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 16:28:37.572 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 16:28:37.574 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 16:28:37.652 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 16:28:37.676 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 16:28:37.677 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 16:28:37.678 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 16:28:37.678 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 16:28:37.678 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 16:28:37.901 +07:00 [Debug] Hosting starting
2018-11-11 16:28:38.007 +07:00 [Debug] Hosting started
2018-11-11 16:28:38.007 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 16:28:38.007 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 16:28:38.007 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 16:28:38.194 +07:00 [Debug] Connection id ""0HLI7N07QJE7B"" started.
2018-11-11 16:28:38.368 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 16:28:38.488 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 16:28:38.572 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 16:28:38.726 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 16:28:38.798 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:28:38.804 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:28:38.825 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:28:38.832 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 16:28:39.215 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 16:28:40.244 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-11 16:28:41.735 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1488.2226ms.
2018-11-11 16:28:41.851 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 16:28:41.927 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 76.036ms.
2018-11-11 16:28:41.967 +07:00 [Debug] Executing action "/Index"
2018-11-11 16:28:42.017 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 16:28:42.018 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 16:28:42.161 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 16:28:42.306 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 16:28:42.485 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 178.0453ms.
2018-11-11 16:28:42.499 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:28:42.502 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:28:42.520 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:28:42.520 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:28:42.584 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 16:28:42.672 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 16:28:42.739 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 66.6246ms.
2018-11-11 16:28:42.767 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:28:42.780 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:28:42.784 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 16:28:42.962 +07:00 [Information] Executed action "/Index" in 993.6418ms
2018-11-11 16:28:42.974 +07:00 [Debug] Connection id ""0HLI7N07QJE7B"" completed keep alive response.
2018-11-11 16:28:42.981 +07:00 [Information] Request finished in 4622.7098ms 200 text/html; charset=utf-8
2018-11-11 16:28:46.623 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 16:28:46.624 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 16:28:46.624 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 16:28:46.625 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:28:46.625 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:28:46.625 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:28:46.625 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 16:28:46.625 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 16:28:46.628 +07:00 [Debug] Executing action "/Index"
2018-11-11 16:28:46.629 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 16:28:46.629 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 16:28:46.632 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 16:28:46.632 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:28:46.632 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:28:46.633 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:28:46.633 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:28:46.633 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 16:28:46.633 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:28:46.634 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:28:46.634 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 16:28:46.635 +07:00 [Information] Executed action "/Index" in 6.8302ms
2018-11-11 16:28:46.635 +07:00 [Debug] Connection id ""0HLI7N07QJE7B"" completed keep alive response.
2018-11-11 16:28:46.636 +07:00 [Information] Request finished in 12.4288ms 200 text/html; charset=utf-8
2018-11-11 16:30:28.153 +07:00 [Debug] Connection id ""0HLI7N07QJE7B"" received FIN.
2018-11-11 16:30:28.158 +07:00 [Debug] Connection id ""0HLI7N07QJE7B"" disconnecting.
2018-11-11 16:30:28.174 +07:00 [Debug] Connection id ""0HLI7N07QJE7B"" sending FIN.
2018-11-11 16:30:28.182 +07:00 [Debug] Connection id ""0HLI7N07QJE7B"" stopped.
2018-11-11 16:36:01.537 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 16:36:01.581 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 16:36:01.589 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 16:36:01.602 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 16:36:01.613 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 16:36:01.617 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 16:36:01.619 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 16:36:01.628 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 16:36:01.634 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 16:36:01.645 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 16:36:01.646 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 16:36:01.706 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 16:36:01.721 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 16:36:01.723 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 16:36:01.723 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 16:36:01.723 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 16:36:01.724 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 16:36:01.912 +07:00 [Debug] Hosting starting
2018-11-11 16:36:02.008 +07:00 [Debug] Hosting started
2018-11-11 16:36:02.009 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 16:36:02.009 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 16:36:02.009 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 16:36:02.313 +07:00 [Debug] Connection id ""0HLI7N4C60AL2"" started.
2018-11-11 16:36:02.480 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 16:36:02.570 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 16:36:02.632 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 16:36:02.778 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 16:36:02.847 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:36:02.851 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:36:02.867 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:36:02.872 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 16:36:03.212 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 16:36:04.171 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-11 16:36:05.541 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1367.7351ms.
2018-11-11 16:36:05.650 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 16:36:05.712 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 61.9488ms.
2018-11-11 16:36:05.792 +07:00 [Debug] Executing action "/Index"
2018-11-11 16:36:05.845 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 16:36:05.847 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 16:36:05.961 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 16:36:06.060 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 16:36:06.210 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 149.3958ms.
2018-11-11 16:36:06.222 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:36:06.224 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:36:06.241 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:36:06.241 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:36:06.287 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 16:36:06.368 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 16:36:06.427 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 58.6787ms.
2018-11-11 16:36:06.491 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:36:06.519 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:36:06.528 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 16:36:06.651 +07:00 [Information] Executed action "/Index" in 857.3656ms
2018-11-11 16:36:06.671 +07:00 [Debug] Connection id ""0HLI7N4C60AL2"" completed keep alive response.
2018-11-11 16:36:06.677 +07:00 [Information] Request finished in 4209.4964ms 200 text/html; charset=utf-8
2018-11-11 16:36:06.726 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 16:36:06.741 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 16:36:06.760 +07:00 [Debug] Connection id ""0HLI7N4C60AL2"" completed keep alive response.
2018-11-11 16:36:06.760 +07:00 [Information] Request finished in 33.9772ms 200 image/x-icon
2018-11-11 16:36:13.035 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 16:36:13.036 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 16:36:13.036 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 16:36:13.037 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:36:13.037 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:36:13.037 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:36:13.037 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 16:36:13.037 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 16:36:13.042 +07:00 [Debug] Executing action "/Index"
2018-11-11 16:36:13.042 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 16:36:13.042 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 16:36:13.045 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 16:36:13.045 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:36:13.045 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:36:13.046 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:36:13.046 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:36:13.046 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 16:36:13.047 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:36:13.047 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:36:13.047 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 16:36:13.048 +07:00 [Information] Executed action "/Index" in 6.1425ms
2018-11-11 16:36:13.048 +07:00 [Debug] Connection id ""0HLI7N4C60AL2"" completed keep alive response.
2018-11-11 16:36:13.048 +07:00 [Information] Request finished in 13.0977ms 200 text/html; charset=utf-8
2018-11-11 16:36:16.812 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 16:36:16.813 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 16:36:16.813 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:36:16.813 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:36:16.813 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:36:16.821 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 16:36:16.822 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 16:36:16.854 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 16:36:16.856 +07:00 [Information] Authorization failed for the request at filter '"AspNetCore.CustomAuthorizeAttribute"'.
2018-11-11 16:36:16.859 +07:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 401
2018-11-11 16:36:16.860 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 5.9123ms
2018-11-11 16:36:16.862 +07:00 [Debug] Connection id ""0HLI7N4C60AL2"" completed keep alive response.
2018-11-11 16:36:16.862 +07:00 [Information] Request finished in 50.0956ms 401 
2018-11-11 16:36:21.120 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 16:36:21.120 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 16:36:21.121 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:36:21.121 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:36:21.121 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:36:21.121 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 16:36:21.121 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 16:36:21.127 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 16:36:21.128 +07:00 [Information] Authorization failed for the request at filter '"AspNetCore.CustomAuthorizeAttribute"'.
2018-11-11 16:36:21.128 +07:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 401
2018-11-11 16:36:21.128 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 0.3877ms
2018-11-11 16:36:21.128 +07:00 [Debug] Connection id ""0HLI7N4C60AL2"" completed keep alive response.
2018-11-11 16:36:21.128 +07:00 [Information] Request finished in 7.9253ms 401 
2018-11-11 16:37:00.062 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 16:37:00.103 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 16:37:00.111 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 16:37:00.122 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 16:37:00.133 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 16:37:00.137 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 16:37:00.139 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 16:37:00.148 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 16:37:00.154 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 16:37:00.167 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 16:37:00.170 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 16:37:00.242 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 16:37:00.257 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 16:37:00.258 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 16:37:00.258 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 16:37:00.258 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 16:37:00.259 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 16:37:00.441 +07:00 [Debug] Hosting starting
2018-11-11 16:37:00.537 +07:00 [Debug] Hosting started
2018-11-11 16:37:00.537 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 16:37:00.537 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 16:37:00.537 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 16:37:00.591 +07:00 [Debug] Connection id ""0HLI7N4THP2QU"" started.
2018-11-11 16:37:00.730 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 16:37:00.809 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 16:37:00.855 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:37:00.858 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:37:00.872 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:37:00.877 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 16:37:01.205 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 16:37:01.292 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 16:37:01.324 +07:00 [Information] Authorization failed for user: null.
2018-11-11 16:37:01.325 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-11-11 16:37:01.331 +07:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2018-11-11 16:37:01.352 +07:00 [Information] AuthenticationScheme: "Identity.Application" was challenged.
2018-11-11 16:37:01.355 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 59.2196ms
2018-11-11 16:37:01.394 +07:00 [Debug] Connection id ""0HLI7N4THP2QU"" completed keep alive response.
2018-11-11 16:37:01.401 +07:00 [Information] Request finished in 678.9093ms 302 
2018-11-11 16:37:01.405 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/account/login?returnUrl=%2Fapi%2Fv1%2Fdefault%2FIndex  
2018-11-11 16:37:01.405 +07:00 [Debug] The request path "/account/login" does not match a supported file type
2018-11-11 16:37:01.405 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:37:01.405 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:37:01.406 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:37:01.406 +07:00 [Verbose] No endpoint entry found for request path: "/account/login"
2018-11-11 16:37:01.406 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 16:37:02.405 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' started.
2018-11-11 16:37:04.124 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' completed in 1718.7154ms.
2018-11-11 16:37:04.291 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 16:37:04.408 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 116.781ms.
2018-11-11 16:37:04.433 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 16:37:04.558 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 16:37:04.718 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 16:37:04.732 +07:00 [Information] Executing handler method "OnGetAsync" with arguments (["/api/v1/default/Index"]) - ModelState is Valid
2018-11-11 16:37:04.777 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 16:37:04.782 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 16:37:04.902 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:37:04.915 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:37:04.919 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 16:37:05.088 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 16:37:05.154 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 16:37:05.243 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 88.9374ms.
2018-11-11 16:37:05.255 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:37:05.258 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:37:05.275 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:37:05.275 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:37:05.291 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 16:37:05.345 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 16:37:05.396 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 51.2336ms.
2018-11-11 16:37:05.428 +07:00 [Debug] View lookup cache miss for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 16:37:05.481 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' started.
2018-11-11 16:37:05.531 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' completed in 49.4365ms.
2018-11-11 16:37:05.585 +07:00 [Information] Executed action "/Account/Login" in 1151.9961ms
2018-11-11 16:37:05.590 +07:00 [Debug] Connection id ""0HLI7N4THP2QU"" completed keep alive response.
2018-11-11 16:37:05.590 +07:00 [Information] Request finished in 4185.3245ms 200 text/html; charset=utf-8
2018-11-11 16:37:25.809 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 16:37:25.809 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 16:37:25.818 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 16:37:25.852 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:37:25.853 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:37:25.854 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:37:25.855 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 16:37:25.855 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 16:37:25.857 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 16:37:25.858 +07:00 [Information] Authorization was successful for user: "quyenth@gmail.com".
2018-11-11 16:37:25.891 +07:00 [Information] Executing action method "AspNetCore.Controllers.TestController.Index (AspNetCore)" with arguments (null) - ModelState is Valid
2018-11-11 16:37:25.893 +07:00 [Debug] Executed action method "AspNetCore.Controllers.TestController.Index (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult".
2018-11-11 16:37:25.912 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 16:37:25.922 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 16:37:25.923 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 16:37:25.958 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 100.8384ms
2018-11-11 16:37:25.958 +07:00 [Debug] Connection id ""0HLI7N4THP2QU"" completed keep alive response.
2018-11-11 16:37:25.959 +07:00 [Information] Request finished in 149.8809ms 200 application/json; charset=utf-8
2018-11-11 16:38:41.564 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 16:38:41.620 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 16:38:41.629 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 16:38:41.642 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 16:38:41.653 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 16:38:41.657 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 16:38:41.659 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 16:38:41.669 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 16:38:41.675 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 16:38:41.687 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 16:38:41.689 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 16:38:41.760 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 16:38:41.774 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 16:38:41.775 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 16:38:41.775 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 16:38:41.775 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 16:38:41.776 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 16:38:41.964 +07:00 [Debug] Hosting starting
2018-11-11 16:38:42.064 +07:00 [Debug] Hosting started
2018-11-11 16:38:42.064 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 16:38:42.064 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 16:38:42.064 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 16:38:42.308 +07:00 [Debug] Connection id ""0HLI7N5RRRRLN"" started.
2018-11-11 16:38:42.461 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 16:38:42.546 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 16:38:42.611 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 16:38:42.732 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 16:38:42.787 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:38:42.801 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:38:42.806 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 16:38:43.203 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 16:38:44.228 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-11 16:38:45.532 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1301.0818ms.
2018-11-11 16:38:45.640 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 16:38:45.698 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 58.0576ms.
2018-11-11 16:38:45.733 +07:00 [Debug] Executing action "/Index"
2018-11-11 16:38:45.779 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 16:38:45.781 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 16:38:45.892 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 16:38:45.991 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 16:38:46.136 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 144.0953ms.
2018-11-11 16:38:46.148 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:38:46.151 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:38:46.168 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:38:46.168 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:38:46.216 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 16:38:46.295 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 16:38:46.363 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 67.8183ms.
2018-11-11 16:38:46.410 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:38:46.422 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:38:46.427 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 16:38:46.522 +07:00 [Information] Executed action "/Index" in 787.9595ms
2018-11-11 16:38:46.533 +07:00 [Debug] Connection id ""0HLI7N5RRRRLN"" completed keep alive response.
2018-11-11 16:38:46.539 +07:00 [Information] Request finished in 4087.6419ms 200 text/html; charset=utf-8
2018-11-11 16:38:50.208 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 16:38:50.209 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 16:38:50.209 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 16:38:50.210 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:38:50.211 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:38:50.212 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 16:38:50.212 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 16:38:50.215 +07:00 [Debug] Executing action "/Index"
2018-11-11 16:38:50.215 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 16:38:50.215 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 16:38:50.218 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 16:38:50.219 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:38:50.219 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:38:50.219 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:38:50.219 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:38:50.220 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 16:38:50.220 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:38:50.220 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:38:50.221 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 16:38:50.222 +07:00 [Information] Executed action "/Index" in 6.6843ms
2018-11-11 16:38:50.222 +07:00 [Debug] Connection id ""0HLI7N5RRRRLN"" completed keep alive response.
2018-11-11 16:38:50.222 +07:00 [Information] Request finished in 13.7002ms 200 text/html; charset=utf-8
2018-11-11 16:38:50.271 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 16:38:50.288 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 16:38:50.307 +07:00 [Debug] Connection id ""0HLI7N5RRRRLN"" completed keep alive response.
2018-11-11 16:38:50.307 +07:00 [Information] Request finished in 35.9795ms 200 image/x-icon
2018-11-11 16:38:52.104 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 16:38:52.104 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 16:38:52.104 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 16:38:52.104 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:38:52.104 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:38:52.104 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 16:38:52.104 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 16:38:52.105 +07:00 [Debug] Executing action "/Index"
2018-11-11 16:38:52.105 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 16:38:52.105 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 16:38:52.105 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 16:38:52.105 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:38:52.105 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:38:52.105 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:38:52.105 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:38:52.106 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 16:38:52.106 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:38:52.106 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:38:52.106 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 16:38:52.106 +07:00 [Information] Executed action "/Index" in 1.7363ms
2018-11-11 16:38:52.107 +07:00 [Debug] Connection id ""0HLI7N5RRRRLN"" completed keep alive response.
2018-11-11 16:38:52.107 +07:00 [Information] Request finished in 3.3624ms 200 text/html; charset=utf-8
2018-11-11 16:38:52.159 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 16:38:52.159 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 16:38:52.159 +07:00 [Debug] Connection id ""0HLI7N5RRRRLN"" completed keep alive response.
2018-11-11 16:38:52.160 +07:00 [Information] Request finished in 1.1348ms 200 image/x-icon
2018-11-11 16:39:04.651 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 16:39:04.651 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 16:39:04.652 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 16:39:04.652 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:39:04.652 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:39:04.652 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 16:39:04.652 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 16:39:04.652 +07:00 [Debug] Executing action "/Index"
2018-11-11 16:39:04.652 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 16:39:04.653 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 16:39:04.653 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 16:39:04.653 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:39:04.653 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:39:04.653 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:39:04.653 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:39:04.653 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 16:39:04.653 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:39:04.654 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:39:04.654 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 16:39:04.654 +07:00 [Information] Executed action "/Index" in 1.6555ms
2018-11-11 16:39:04.654 +07:00 [Debug] Connection id ""0HLI7N5RRRRLN"" completed keep alive response.
2018-11-11 16:39:04.654 +07:00 [Information] Request finished in 3.0929ms 200 text/html; charset=utf-8
2018-11-11 16:39:10.485 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 16:39:10.485 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 16:39:10.485 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 16:39:10.486 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:39:10.486 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 16:39:10.486 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-11 16:39:10.487 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 16:39:10.552 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 16:39:10.643 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 16:39:10.647 +07:00 [Information] Test log
2018-11-11 16:39:10.710 +07:00 [Debug] Connection id ""0HLI7N5RRRRLO"" started.
2018-11-11 16:39:10.712 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 16:39:10.713 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 16:39:10.713 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:39:10.713 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:39:10.714 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 16:39:10.717 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 16:39:10.717 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 16:39:10.720 +07:00 [Verbose] Processing discovery request.
2018-11-11 16:39:10.721 +07:00 [Debug] Start discovery request
2018-11-11 16:39:10.722 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 16:39:10.767 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-11 16:39:10.838 +07:00 [Debug] Connection id ""0HLI7N5RRRRLO"" completed keep alive response.
2018-11-11 16:39:10.838 +07:00 [Information] Request finished in 126.336ms 200 application/json; charset=UTF-8
2018-11-11 16:39:10.859 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-11 16:39:10.859 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-11 16:39:10.860 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:39:10.860 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:39:10.860 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-11 16:39:10.860 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-11 16:39:10.860 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-11 16:39:10.865 +07:00 [Verbose] Processing discovery request.
2018-11-11 16:39:10.865 +07:00 [Debug] Start key discovery request
2018-11-11 16:39:10.865 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 16:39:10.873 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-11 16:39:10.911 +07:00 [Debug] Connection id ""0HLI7N5RRRRLO"" completed keep alive response.
2018-11-11 16:39:10.911 +07:00 [Information] Request finished in 52.0863ms 200 application/json; charset=UTF-8
2018-11-11 16:39:10.950 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-11 16:39:10.950 +07:00 [Debug] "POST" requests are not supported
2018-11-11 16:39:10.950 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:39:10.950 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:39:10.951 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-11 16:39:10.956 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-11 16:39:10.956 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-11 16:39:10.959 +07:00 [Verbose] Processing token request.
2018-11-11 16:39:10.964 +07:00 [Debug] Start token request.
2018-11-11 16:39:10.969 +07:00 [Debug] Start client validation
2018-11-11 16:39:10.982 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-11 16:39:10.984 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-11 16:39:10.984 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-11 16:39:11.006 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-11 16:39:11.007 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-11 16:39:11.025 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-11 16:39:11.026 +07:00 [Debug] Client validation success
2018-11-11 16:39:11.074 +07:00 [Debug] Connection id ""0HLI7N5RRRRLO"", Request id ""0HLI7N5RRRRLO:00000003"": started reading request body.
2018-11-11 16:39:11.093 +07:00 [Debug] Connection id ""0HLI7N5RRRRLO"", Request id ""0HLI7N5RRRRLO:00000003"": done reading request body.
2018-11-11 16:39:11.099 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-11 16:39:11.104 +07:00 [Debug] Start token request validation
2018-11-11 16:39:11.115 +07:00 [Debug] Start resource owner password token request validation
2018-11-11 16:39:11.648 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 16:39:11.649 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 16:39:11.675 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-11 16:39:11.692 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 16:39:11.693 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 16:39:11.696 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-11 16:39:11.968 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 16:39:12.105 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 16:39:12.162 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 16:39:12.352 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
                        FROM [AspNetUsers] AS [u]
                        WHERE [u].[NormalizedUserName] = @__normalizedUserName_0, 
                    shaper: UnbufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 16:39:12.420 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:39:12.679 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:39:12.747 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:39:12.847 +07:00 [Information] Executed DbCommand ("112"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:39:12.950 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:39:12.951 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:39:12.962 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:39:12.974 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 16:39:13.073 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-11 16:39:13.087 +07:00 [Debug] Resource owner password token request validation success.
2018-11-11 16:39:13.087 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-11 16:39:13.097 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api2\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api2\"
  }
}"
2018-11-11 16:39:13.097 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-11 16:39:13.100 +07:00 [Verbose] Creating response for password request
2018-11-11 16:39:13.112 +07:00 [Verbose] Creating access token
2018-11-11 16:39:13.118 +07:00 [Debug] Getting claims for access token for client: "ApiApplication"
2018-11-11 16:39:13.119 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-11 16:39:13.182 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 16:39:13.198 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 16:39:13.265 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 16:39:13.265 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:39:13.267 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:39:13.268 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 16:39:13.275 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 16:39:13.277 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:39:13.277 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:39:13.277 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:39:13.305 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 16:39:13.310 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 16:39:13.337 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 16:39:13.338 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:39:13.338 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:39:13.338 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 16:39:13.341 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 16:39:13.341 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:39:13.342 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:39:13.342 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:39:13.360 +07:00 [Verbose] Creating JWT access token
2018-11-11 16:39:13.421 +07:00 [Verbose] Access token issued for "ApiApplication (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE5MjkxNTMsImV4cCI6MTU0MTkzMjc1MywiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMiJdLCJjbGllbnRfaWQiOiJBcGlBcHBsaWNhdGlvbiIsInN1YiI6ImI5NmU0OGFiLTUyMWQtNDJjMS05OWI2LWZjNjYwM2ViY2Q3YSIsImF1dGhfdGltZSI6MTU0MTkyOTE1MywiaWRwIjoibG9jYWwiLCJnaXZlbl9uYW1lIjoiVGjDoWkgSOG7k25nIFF1eeG7g24iLCJlbWFpbCI6InF1eWVudGhAZ21haWwuY29tIiwianRpIjoiYzY1ZjNhZDg1Mjg4YzA0YTkwOWFmNjg5MmQzNTNhNDgiLCJzY29wZSI6WyJhcGkyIl0sImFtciI6WyJwd2QiXX0.jGVHLEQlf6AwlUS0s4gk60iwPelq3cPjWEPA3Y26fOBHGBa7KvDXsoNqxwXiq6AJ9Z6wYCwamt64sF6xf-fzmg2TaneXQNMii96vI1TqT5_K0tc_tcue7zJeFWpMyhrzHObnHEsG33gnWo7CXYA-iqObcjNyZv7fKrvRWoaetOD_Bcy3Y-prwuSw9Jxilrhk-QKKKkB30hfeLCvYhrwg2i9tq7EWEjx-24fQBauJ7awkAw56tGrAl5JmOJsgZ9sFQzgZPVCOjciXmdvoKEQBjHNOmfDhimuQ6s128KmcDgtuIZf4QIjYbE02MZT4CM9tG7svCeAhHBxrCKf8xY3svQ"
2018-11-11 16:39:13.421 +07:00 [Debug] Token request success.
2018-11-11 16:39:13.422 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-11 16:39:13.431 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 16:39:13.433 +07:00 [Debug] Connection id ""0HLI7N5RRRRLO"" completed keep alive response.
2018-11-11 16:39:13.435 +07:00 [Information] Request finished in 2485.6736ms 200 application/json; charset=UTF-8
2018-11-11 16:39:13.441 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 16:39:13.449 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:39:13.449 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:39:13.450 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:39:13.451 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:39:13.451 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:39:13.451 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:39:13.451 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:39:13.451 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 16:39:13.458 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:39:13.458 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:39:13.458 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:39:13.458 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 16:39:13.459 +07:00 [Debug] A data reader was disposed.
2018-11-11 16:39:13.459 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:39:13.459 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 16:39:13.468 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-11 16:39:13.482 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 16:39:13.487 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 16:39:13.487 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 16:39:13.514 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 2961.135ms
2018-11-11 16:39:13.514 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 16:39:13.514 +07:00 [Debug] Connection id ""0HLI7N5RRRRLN"" completed keep alive response.
2018-11-11 16:39:13.514 +07:00 [Information] Request finished in 3029.2827ms 200 application/json; charset=utf-8
2018-11-11 16:39:26.464 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 16:39:26.464 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 16:39:26.464 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:39:26.465 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:39:26.465 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 16:39:26.465 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 16:39:26.475 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 16:39:26.500 +07:00 [Information] Authorization failed for user: null.
2018-11-11 16:39:26.501 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-11-11 16:39:26.504 +07:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2018-11-11 16:39:26.516 +07:00 [Information] AuthenticationScheme: "Identity.Application" was challenged.
2018-11-11 16:39:26.516 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 40.8132ms
2018-11-11 16:39:26.518 +07:00 [Debug] Connection id ""0HLI7N5RRRRLO"" completed keep alive response.
2018-11-11 16:39:26.518 +07:00 [Information] Request finished in 53.8985ms 302 
2018-11-11 16:39:26.521 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/account/login?returnUrl=%2Fapi%2Fv1%2Fdefault%2FIndex  
2018-11-11 16:39:26.522 +07:00 [Debug] The request path "/account/login" does not match a supported file type
2018-11-11 16:39:26.522 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:39:26.522 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:39:26.522 +07:00 [Verbose] No endpoint entry found for request path: "/account/login"
2018-11-11 16:39:26.522 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 16:39:26.639 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' started.
2018-11-11 16:39:27.016 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' completed in 376.9706ms.
2018-11-11 16:39:27.037 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 16:39:27.056 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 16:39:27.057 +07:00 [Information] Executing handler method "OnGetAsync" with arguments (["/api/v1/default/Index"]) - ModelState is Valid
2018-11-11 16:39:27.095 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 16:39:27.100 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 16:39:27.106 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:39:27.106 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:39:27.106 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 16:39:27.217 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 16:39:27.218 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:39:27.218 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:39:27.218 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:39:27.218 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:39:27.218 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 16:39:27.221 +07:00 [Debug] View lookup cache miss for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 16:39:27.275 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' started.
2018-11-11 16:39:27.331 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' completed in 56.0071ms.
2018-11-11 16:39:27.353 +07:00 [Information] Executed action "/Account/Login" in 316.4707ms
2018-11-11 16:39:27.353 +07:00 [Debug] Connection id ""0HLI7N5RRRRLN"" completed keep alive response.
2018-11-11 16:39:27.353 +07:00 [Information] Request finished in 831.9728ms 200 text/html; charset=utf-8
2018-11-11 16:42:34.579 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 16:42:34.622 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 16:42:34.630 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 16:42:34.642 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 16:42:34.652 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 16:42:34.656 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 16:42:34.658 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 16:42:34.667 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 16:42:34.674 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 16:42:34.683 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 16:42:34.685 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 16:42:34.740 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 16:42:34.754 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 16:42:34.755 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 16:42:34.755 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 16:42:34.755 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 16:42:34.756 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 16:42:34.938 +07:00 [Debug] Hosting starting
2018-11-11 16:42:35.045 +07:00 [Debug] Hosting started
2018-11-11 16:42:35.045 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 16:42:35.045 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 16:42:35.045 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 16:42:35.324 +07:00 [Debug] Connection id ""0HLI7N81A0LST"" started.
2018-11-11 16:42:35.504 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 16:42:35.585 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 16:42:35.639 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:42:35.651 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:42:35.656 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 16:42:35.996 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 16:42:36.077 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 16:42:36.109 +07:00 [Information] Authorization failed for user: null.
2018-11-11 16:42:36.110 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-11-11 16:42:36.117 +07:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2018-11-11 16:42:36.137 +07:00 [Information] AuthenticationScheme: "Identity.Application" was challenged.
2018-11-11 16:42:36.140 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 59.4097ms
2018-11-11 16:42:36.179 +07:00 [Debug] Connection id ""0HLI7N81A0LST"" completed keep alive response.
2018-11-11 16:42:36.188 +07:00 [Information] Request finished in 690.4755ms 302 
2018-11-11 16:42:36.191 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/account/login?returnUrl=%2Fapi%2Fv1%2Fdefault%2FIndex  
2018-11-11 16:42:36.192 +07:00 [Debug] The request path "/account/login" does not match a supported file type
2018-11-11 16:42:36.192 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:42:36.192 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:42:36.192 +07:00 [Verbose] No endpoint entry found for request path: "/account/login"
2018-11-11 16:42:36.192 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 16:42:37.197 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' started.
2018-11-11 16:42:38.888 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' completed in 1690.2087ms.
2018-11-11 16:42:39.066 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 16:42:39.121 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 55.0458ms.
2018-11-11 16:42:39.133 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 16:42:39.255 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 16:42:39.397 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 16:42:39.408 +07:00 [Information] Executing handler method "OnGetAsync" with arguments (["/api/v1/default/Index"]) - ModelState is Valid
2018-11-11 16:42:39.447 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 16:42:39.452 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 16:42:39.548 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:42:39.563 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:42:39.567 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 16:42:39.763 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 16:42:39.832 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 16:42:39.924 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 91.9121ms.
2018-11-11 16:42:39.955 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:42:39.959 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:42:39.986 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:42:39.986 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:42:40.001 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 16:42:40.054 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 16:42:40.106 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 51.6999ms.
2018-11-11 16:42:40.138 +07:00 [Debug] View lookup cache miss for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 16:42:40.198 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' started.
2018-11-11 16:42:40.255 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' completed in 57.2423ms.
2018-11-11 16:42:40.318 +07:00 [Information] Executed action "/Account/Login" in 1184.9858ms
2018-11-11 16:42:40.324 +07:00 [Debug] Connection id ""0HLI7N81A0LST"" completed keep alive response.
2018-11-11 16:42:40.324 +07:00 [Information] Request finished in 4132.7495ms 200 text/html; charset=utf-8
2018-11-11 16:44:25.243 +07:00 [Debug] Connection id ""0HLI7N81A0LST"" received FIN.
2018-11-11 16:44:25.249 +07:00 [Debug] Connection id ""0HLI7N81A0LST"" disconnecting.
2018-11-11 16:44:25.265 +07:00 [Debug] Connection id ""0HLI7N81A0LST"" sending FIN.
2018-11-11 16:44:25.273 +07:00 [Debug] Connection id ""0HLI7N81A0LST"" stopped.
2018-11-11 16:46:16.225 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 16:46:16.280 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 16:46:16.290 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 16:46:16.304 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 16:46:16.315 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 16:46:16.319 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 16:46:16.321 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 16:46:16.331 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 16:46:16.338 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 16:46:16.350 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 16:46:16.352 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 16:46:16.415 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 16:46:16.430 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 16:46:16.431 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 16:46:16.431 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 16:46:16.432 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 16:46:16.432 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 16:46:16.616 +07:00 [Debug] Hosting starting
2018-11-11 16:46:16.725 +07:00 [Debug] Hosting started
2018-11-11 16:46:16.725 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 16:46:16.726 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 16:46:16.726 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 16:46:16.831 +07:00 [Debug] Connection id ""0HLI7NA3AE0A2"" started.
2018-11-11 16:46:16.990 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 16:46:17.066 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 16:46:17.119 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:46:17.133 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:46:17.138 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 16:46:17.523 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 16:46:17.613 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 16:46:17.647 +07:00 [Information] Authorization failed for user: null.
2018-11-11 16:46:17.648 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-11-11 16:46:17.655 +07:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2018-11-11 16:46:17.674 +07:00 [Information] AuthenticationScheme: "Identity.Application" was challenged.
2018-11-11 16:46:17.678 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 60.5231ms
2018-11-11 16:46:17.718 +07:00 [Debug] Connection id ""0HLI7NA3AE0A2"" completed keep alive response.
2018-11-11 16:46:17.725 +07:00 [Information] Request finished in 743.2326ms 302 
2018-11-11 16:46:17.729 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/account/login?returnUrl=%2Fapi%2Fv1%2Fdefault%2FIndex  
2018-11-11 16:46:17.729 +07:00 [Debug] The request path "/account/login" does not match a supported file type
2018-11-11 16:46:17.729 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:46:17.730 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 16:46:17.730 +07:00 [Verbose] No endpoint entry found for request path: "/account/login"
2018-11-11 16:46:17.730 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 16:46:18.796 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' started.
2018-11-11 16:46:20.470 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' completed in 1674.0523ms.
2018-11-11 16:46:20.595 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 16:46:20.651 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 55.7821ms.
2018-11-11 16:46:20.670 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 16:46:20.850 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 16:46:20.992 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 16:46:21.003 +07:00 [Information] Executing handler method "OnGetAsync" with arguments (["/api/v1/default/Index"]) - ModelState is Valid
2018-11-11 16:46:21.052 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 16:46:21.056 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 16:46:21.153 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:46:21.167 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 16:46:21.172 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 16:46:21.339 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 16:46:21.479 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 16:46:21.573 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 93.8149ms.
2018-11-11 16:46:21.585 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:46:21.588 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:46:21.605 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 16:46:21.605 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 16:46:21.621 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 16:46:21.674 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 16:46:21.727 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 52.4076ms.
2018-11-11 16:46:21.774 +07:00 [Debug] View lookup cache miss for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 16:46:21.829 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' started.
2018-11-11 16:46:21.880 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' completed in 50.2826ms.
2018-11-11 16:46:21.993 +07:00 [Information] Executed action "/Account/Login" in 1323.1644ms
2018-11-11 16:46:22.001 +07:00 [Debug] Connection id ""0HLI7NA3AE0A2"" completed keep alive response.
2018-11-11 16:46:22.001 +07:00 [Information] Request finished in 4271.9227ms 200 text/html; charset=utf-8
2018-11-11 17:06:50.075 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 17:06:50.121 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 17:06:50.130 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 17:06:50.142 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 17:06:50.154 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 17:06:50.158 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 17:06:50.160 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 17:06:50.170 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 17:06:50.178 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 17:06:50.189 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 17:06:50.191 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 17:06:50.255 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 17:06:50.270 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 17:06:50.271 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 17:06:50.271 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 17:06:50.271 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 17:06:50.272 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 17:06:50.465 +07:00 [Debug] Hosting starting
2018-11-11 17:06:50.581 +07:00 [Debug] Hosting started
2018-11-11 17:06:50.581 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 17:06:50.581 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 17:06:50.581 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 17:06:50.721 +07:00 [Debug] Connection id ""0HLI7NLJ1JNUD"" started.
2018-11-11 17:06:50.934 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 17:06:51.056 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 17:06:51.125 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 17:06:51.259 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 17:06:51.896 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 17:06:51.897 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 17:06:51.920 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-11 17:06:51.941 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 17:06:51.941 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 17:06:51.944 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-11 17:06:52.238 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 17:06:52.377 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser e in DbSet<ApplicationUser>
where Property([e], \"Id\") == __get_Item_0
select [e]).FirstOrDefault()"'
2018-11-11 17:06:52.480 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser e in DbSet<ApplicationUser>
where Property([e], \"Id\") == __get_Item_0
select [e]).FirstOrDefault()"'
2018-11-11 17:06:52.684 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
                        FROM [AspNetUsers] AS [e]
                        WHERE [e].[Id] = @__get_Item_0, 
                    shaper: BufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 17:06:52.790 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:06:53.030 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:06:53.108 +07:00 [Debug] Executing DbCommand [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-11-11 17:06:53.222 +07:00 [Information] Executed DbCommand ("120"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-11-11 17:06:53.420 +07:00 [Debug] A data reader was disposed.
2018-11-11 17:06:53.421 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:06:53.433 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:06:53.445 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 17:06:53.540 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 17:06:53.549 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 17:06:53.623 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 17:06:53.624 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:06:53.626 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:06:53.626 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 17:06:53.631 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 17:06:53.633 +07:00 [Debug] A data reader was disposed.
2018-11-11 17:06:53.633 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:06:53.633 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:06:53.660 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 17:06:53.665 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 17:06:53.689 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 17:06:53.690 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:06:53.690 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:06:53.691 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 17:06:53.693 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 17:06:53.700 +07:00 [Debug] A data reader was disposed.
2018-11-11 17:06:53.700 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:06:53.700 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:06:53.720 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 17:06:53.737 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 17:06:53.739 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 17:06:54.152 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 17:06:54.238 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 17:06:54.310 +07:00 [Information] Authorization was successful for user: "quyenth@gmail.com".
2018-11-11 17:06:54.349 +07:00 [Information] Executing action method "AspNetCore.Controllers.TestController.Index (AspNetCore)" with arguments (null) - ModelState is Valid
2018-11-11 17:06:54.352 +07:00 [Debug] Executed action method "AspNetCore.Controllers.TestController.Index (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult".
2018-11-11 17:06:54.374 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 17:06:54.382 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 17:06:54.382 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 17:06:54.448 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 17:06:54.520 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 277.2041ms
2018-11-11 17:06:54.526 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 17:06:54.535 +07:00 [Debug] Connection id ""0HLI7NLJ1JNUD"" completed keep alive response.
2018-11-11 17:06:54.558 +07:00 [Information] Request finished in 3619.5946ms 200 application/json; charset=utf-8
2018-11-11 17:07:43.453 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 17:07:43.560 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 17:07:43.576 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 17:07:43.605 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 17:07:43.630 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 17:07:43.640 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 17:07:43.644 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 17:07:43.661 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 17:07:43.672 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 17:07:43.691 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 17:07:43.694 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 17:07:43.825 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 17:07:43.861 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 17:07:43.865 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 17:07:43.865 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 17:07:43.866 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 17:07:43.867 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 17:07:44.314 +07:00 [Debug] Hosting starting
2018-11-11 17:07:44.521 +07:00 [Debug] Hosting started
2018-11-11 17:07:44.521 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 17:07:44.521 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 17:07:44.521 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 17:07:44.732 +07:00 [Debug] Connection id ""0HLI7NM34SKLH"" started.
2018-11-11 17:07:45.080 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 17:07:45.267 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 17:07:45.401 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 17:07:45.669 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 17:07:45.801 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 17:07:45.848 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 17:07:45.859 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 17:07:46.772 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 17:07:46.945 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 17:07:47.014 +07:00 [Information] Authorization was successful for user: "quyenth@gmail.com".
2018-11-11 17:07:47.088 +07:00 [Information] Executing action method "AspNetCore.Controllers.TestController.Index (AspNetCore)" with arguments (null) - ModelState is Valid
2018-11-11 17:07:47.093 +07:00 [Debug] Executed action method "AspNetCore.Controllers.TestController.Index (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult".
2018-11-11 17:07:47.146 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 17:07:47.164 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 17:07:47.165 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 17:07:47.355 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 404.0604ms
2018-11-11 17:07:47.377 +07:00 [Debug] Connection id ""0HLI7NM34SKLH"" completed keep alive response.
2018-11-11 17:07:47.407 +07:00 [Information] Request finished in 2332.1089ms 200 application/json; charset=utf-8
2018-11-11 17:07:47.416 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 17:07:47.443 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 17:07:47.472 +07:00 [Debug] Connection id ""0HLI7NM34SKLH"" completed keep alive response.
2018-11-11 17:07:47.472 +07:00 [Information] Request finished in 56.2123ms 200 image/x-icon
2018-11-11 17:07:50.455 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 17:07:50.455 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 17:07:50.455 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 17:07:50.457 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 17:07:50.457 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 17:07:50.457 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 17:07:50.457 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 17:07:50.461 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 17:07:50.461 +07:00 [Information] Authorization was successful for user: "quyenth@gmail.com".
2018-11-11 17:07:50.473 +07:00 [Information] Executing action method "AspNetCore.Controllers.TestController.Index (AspNetCore)" with arguments (null) - ModelState is Valid
2018-11-11 17:07:50.474 +07:00 [Debug] Executed action method "AspNetCore.Controllers.TestController.Index (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult".
2018-11-11 17:07:50.474 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 17:07:50.475 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 17:07:50.475 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 17:07:50.475 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 14.3517ms
2018-11-11 17:07:50.476 +07:00 [Debug] Connection id ""0HLI7NM34SKLH"" completed keep alive response.
2018-11-11 17:07:50.476 +07:00 [Information] Request finished in 21.0418ms 200 application/json; charset=utf-8
2018-11-11 17:07:50.499 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 17:07:50.500 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 17:07:50.504 +07:00 [Debug] Connection id ""0HLI7NM34SKLH"" completed keep alive response.
2018-11-11 17:07:50.504 +07:00 [Information] Request finished in 4.7605ms 200 image/x-icon
2018-11-11 17:07:52.073 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 17:07:52.073 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 17:07:52.073 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 17:07:52.074 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 17:07:52.074 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 17:07:52.074 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 17:07:52.074 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 17:07:52.074 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 17:07:52.074 +07:00 [Information] Authorization was successful for user: "quyenth@gmail.com".
2018-11-11 17:07:52.074 +07:00 [Information] Executing action method "AspNetCore.Controllers.TestController.Index (AspNetCore)" with arguments (null) - ModelState is Valid
2018-11-11 17:07:52.074 +07:00 [Debug] Executed action method "AspNetCore.Controllers.TestController.Index (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult".
2018-11-11 17:07:52.074 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 17:07:52.075 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 17:07:52.075 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 17:07:52.075 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 0.7398ms
2018-11-11 17:07:52.075 +07:00 [Debug] Connection id ""0HLI7NM34SKLH"" completed keep alive response.
2018-11-11 17:07:52.075 +07:00 [Information] Request finished in 2.5253ms 200 application/json; charset=utf-8
2018-11-11 17:07:52.102 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 17:07:52.103 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 17:07:52.103 +07:00 [Debug] Connection id ""0HLI7NM34SKLH"" completed keep alive response.
2018-11-11 17:07:52.103 +07:00 [Information] Request finished in 1.0076ms 200 image/x-icon
2018-11-11 17:07:55.689 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 17:07:55.689 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 17:07:55.690 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:07:55.690 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:07:55.699 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 17:07:55.699 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 17:07:55.699 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 17:07:55.700 +07:00 [Information] Authorization failed for user: null.
2018-11-11 17:07:55.701 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-11-11 17:07:55.710 +07:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2018-11-11 17:07:55.748 +07:00 [Information] AuthenticationScheme: "Identity.Application" was challenged.
2018-11-11 17:07:55.748 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 49.0371ms
2018-11-11 17:07:55.756 +07:00 [Debug] Connection id ""0HLI7NM34SKLH"" completed keep alive response.
2018-11-11 17:07:55.756 +07:00 [Information] Request finished in 67.1249ms 302 
2018-11-11 17:07:55.761 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/account/login?returnUrl=%2Fapi%2Fv1%2Fdefault%2FIndex  
2018-11-11 17:07:55.761 +07:00 [Debug] The request path "/account/login" does not match a supported file type
2018-11-11 17:07:55.761 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:07:55.761 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:07:55.761 +07:00 [Verbose] No endpoint entry found for request path: "/account/login"
2018-11-11 17:07:55.762 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 17:07:58.418 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' started.
2018-11-11 17:08:02.343 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' completed in 3924.59ms.
2018-11-11 17:08:02.729 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 17:08:02.864 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 134.6746ms.
2018-11-11 17:08:02.887 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 17:08:03.139 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 17:08:03.162 +07:00 [Information] Executing handler method "OnGetAsync" with arguments (["/api/v1/default/Index"]) - ModelState is Valid
2018-11-11 17:08:03.256 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 17:08:03.263 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 17:08:03.490 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 17:08:03.516 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 17:08:03.526 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 17:08:03.957 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 17:08:04.156 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 17:08:04.417 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 260.6666ms.
2018-11-11 17:08:04.446 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 17:08:04.453 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 17:08:04.499 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 17:08:04.499 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 17:08:04.533 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 17:08:04.811 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 17:08:04.973 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 160.9411ms.
2018-11-11 17:08:05.067 +07:00 [Debug] View lookup cache miss for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 17:08:05.204 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' started.
2018-11-11 17:08:05.325 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' completed in 120.9462ms.
2018-11-11 17:08:05.419 +07:00 [Information] Executed action "/Account/Login" in 2531.9155ms
2018-11-11 17:08:05.424 +07:00 [Debug] Connection id ""0HLI7NM34SKLH"" completed keep alive response.
2018-11-11 17:08:05.425 +07:00 [Information] Request finished in 9663.802ms 200 text/html; charset=utf-8
2018-11-11 17:08:14.483 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 17:08:14.483 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 17:08:14.483 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 17:08:14.483 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 17:08:14.484 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 17:08:14.484 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-11 17:08:14.484 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 17:08:14.507 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 17:08:14.527 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 17:08:14.532 +07:00 [Information] Test log
2018-11-11 17:08:14.654 +07:00 [Debug] Connection id ""0HLI7NM34SKLI"" started.
2018-11-11 17:08:14.656 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 17:08:14.657 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 17:08:14.657 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:08:14.657 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:08:14.658 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 17:08:14.665 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 17:08:14.665 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 17:08:14.671 +07:00 [Verbose] Processing discovery request.
2018-11-11 17:08:14.672 +07:00 [Debug] Start discovery request
2018-11-11 17:08:14.674 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 17:08:14.742 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-11 17:08:14.846 +07:00 [Debug] Connection id ""0HLI7NM34SKLI"" completed keep alive response.
2018-11-11 17:08:14.847 +07:00 [Information] Request finished in 191.4309ms 200 application/json; charset=UTF-8
2018-11-11 17:08:14.898 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-11 17:08:14.898 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-11 17:08:14.899 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:08:14.899 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:08:14.899 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-11 17:08:14.900 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-11 17:08:14.900 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-11 17:08:14.906 +07:00 [Verbose] Processing discovery request.
2018-11-11 17:08:14.906 +07:00 [Debug] Start key discovery request
2018-11-11 17:08:14.906 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 17:08:14.920 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-11 17:08:14.967 +07:00 [Debug] Connection id ""0HLI7NM34SKLI"" completed keep alive response.
2018-11-11 17:08:14.968 +07:00 [Information] Request finished in 69.7144ms 200 application/json; charset=UTF-8
2018-11-11 17:08:15.046 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-11 17:08:15.047 +07:00 [Debug] "POST" requests are not supported
2018-11-11 17:08:15.047 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:08:15.047 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:08:15.047 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-11 17:08:15.056 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-11 17:08:15.057 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-11 17:08:15.062 +07:00 [Verbose] Processing token request.
2018-11-11 17:08:15.074 +07:00 [Debug] Start token request.
2018-11-11 17:08:15.088 +07:00 [Debug] Start client validation
2018-11-11 17:08:15.106 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-11 17:08:15.108 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-11 17:08:15.108 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-11 17:08:15.126 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-11 17:08:15.126 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-11 17:08:15.145 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-11 17:08:15.146 +07:00 [Debug] Client validation success
2018-11-11 17:08:15.226 +07:00 [Debug] Connection id ""0HLI7NM34SKLI"", Request id ""0HLI7NM34SKLI:00000003"": started reading request body.
2018-11-11 17:08:15.265 +07:00 [Debug] Connection id ""0HLI7NM34SKLI"", Request id ""0HLI7NM34SKLI:00000003"": done reading request body.
2018-11-11 17:08:15.282 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-11 17:08:15.297 +07:00 [Debug] Start token request validation
2018-11-11 17:08:15.327 +07:00 [Debug] Start resource owner password token request validation
2018-11-11 17:08:16.617 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 17:08:16.618 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 17:08:16.676 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-11 17:08:16.716 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 17:08:16.717 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 17:08:16.724 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-11 17:08:17.348 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 17:08:17.639 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 17:08:17.736 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 17:08:17.993 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
                        FROM [AspNetUsers] AS [u]
                        WHERE [u].[NormalizedUserName] = @__normalizedUserName_0, 
                    shaper: UnbufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 17:08:18.097 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:18.439 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:18.598 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 17:08:18.768 +07:00 [Information] Executed DbCommand ("212"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 17:08:18.939 +07:00 [Debug] A data reader was disposed.
2018-11-11 17:08:18.940 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:18.957 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:18.974 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 17:08:19.113 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-11 17:08:19.142 +07:00 [Debug] Resource owner password token request validation success.
2018-11-11 17:08:19.142 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-11 17:08:19.157 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api2\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api2\"
  }
}"
2018-11-11 17:08:19.157 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-11 17:08:19.164 +07:00 [Verbose] Creating response for password request
2018-11-11 17:08:19.182 +07:00 [Verbose] Creating access token
2018-11-11 17:08:19.194 +07:00 [Debug] Getting claims for access token for client: "ApiApplication"
2018-11-11 17:08:19.195 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-11 17:08:19.284 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 17:08:19.309 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 17:08:19.412 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 17:08:19.412 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:19.415 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:19.415 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 17:08:19.424 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 17:08:19.427 +07:00 [Debug] A data reader was disposed.
2018-11-11 17:08:19.428 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:19.428 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:19.474 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 17:08:19.480 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 17:08:19.522 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 17:08:19.523 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:19.523 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:19.524 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 17:08:19.528 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 17:08:19.532 +07:00 [Debug] A data reader was disposed.
2018-11-11 17:08:19.532 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:19.532 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:19.560 +07:00 [Verbose] Creating JWT access token
2018-11-11 17:08:19.658 +07:00 [Verbose] Access token issued for "ApiApplication (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE5MzA4OTksImV4cCI6MTU0MTkzNDQ5OSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMiJdLCJjbGllbnRfaWQiOiJBcGlBcHBsaWNhdGlvbiIsInN1YiI6ImI5NmU0OGFiLTUyMWQtNDJjMS05OWI2LWZjNjYwM2ViY2Q3YSIsImF1dGhfdGltZSI6MTU0MTkzMDg5OSwiaWRwIjoibG9jYWwiLCJnaXZlbl9uYW1lIjoiVGjDoWkgSOG7k25nIFF1eeG7g24iLCJlbWFpbCI6InF1eWVudGhAZ21haWwuY29tIiwianRpIjoiOTBiZWM5YmMwYTc0MTY5YzFlM2Y5MTY3Y2U4NzcyZjYiLCJzY29wZSI6WyJhcGkyIl0sImFtciI6WyJwd2QiXX0.HN3wEt7BAfh_-Aag4vcBbS4ASYNoQaL0Ar1pOha5yCWBU2bAH1SaDZTGX2IwWoTHq5p4GPdqZQbyFCP5LeSB_NuDjM9QTHBxqfS7o_e8pNJPybmNZiPBhtPwFN7Qcl6r5vop2ZEhJRambdcvj4nc6kxJQriPfetIdDna_1IodtNUiTUK_NgT6GW3PELbCJAMNbsTTJyBxkltxABHVvAbYbCkIfvANysq4lcmGl74dEBYcFP2-Aezj6RNJsWJAo9GyhN30Ip1d1PKsa35cuR4iDkJ8k8qmkvKjH2-sTdIRaqOSdCxSRYJqfTo4x5Zyki-lfKAo4KYgrwHHKMEDGIFRQ"
2018-11-11 17:08:19.658 +07:00 [Debug] Token request success.
2018-11-11 17:08:19.658 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-11 17:08:19.675 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 17:08:19.678 +07:00 [Debug] Connection id ""0HLI7NM34SKLI"" completed keep alive response.
2018-11-11 17:08:19.682 +07:00 [Information] Request finished in 4636.1874ms 200 application/json; charset=UTF-8
2018-11-11 17:08:19.695 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 17:08:19.704 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:19.704 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:19.706 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 17:08:19.707 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 17:08:19.707 +07:00 [Debug] A data reader was disposed.
2018-11-11 17:08:19.707 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:19.707 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:19.708 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 17:08:19.717 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:19.718 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:19.718 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 17:08:19.719 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 17:08:19.719 +07:00 [Debug] A data reader was disposed.
2018-11-11 17:08:19.719 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:19.719 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:19.733 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-11 17:08:19.733 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 17:08:19.734 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 17:08:19.735 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 17:08:19.759 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 5252.0473ms
2018-11-11 17:08:19.760 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 17:08:19.760 +07:00 [Debug] Connection id ""0HLI7NM34SKLH"" completed keep alive response.
2018-11-11 17:08:19.760 +07:00 [Information] Request finished in 5277.3036ms 200 application/json; charset=utf-8
2018-11-11 17:08:22.192 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 17:08:22.192 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 17:08:22.192 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 17:08:22.192 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 17:08:22.192 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 17:08:22.192 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-11 17:08:22.192 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 17:08:22.192 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 17:08:22.193 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 17:08:22.193 +07:00 [Information] Test log
2018-11-11 17:08:22.200 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 17:08:22.200 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 17:08:22.201 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:08:22.201 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:08:22.201 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 17:08:22.201 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 17:08:22.201 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 17:08:22.201 +07:00 [Verbose] Processing discovery request.
2018-11-11 17:08:22.202 +07:00 [Debug] Start discovery request
2018-11-11 17:08:22.202 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 17:08:22.202 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-11 17:08:22.202 +07:00 [Debug] Connection id ""0HLI7NM34SKLH"" completed keep alive response.
2018-11-11 17:08:22.203 +07:00 [Information] Request finished in 2.3548ms 200 application/json; charset=UTF-8
2018-11-11 17:08:22.207 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-11 17:08:22.207 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-11 17:08:22.207 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:08:22.207 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:08:22.207 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-11 17:08:22.208 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-11 17:08:22.208 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-11 17:08:22.208 +07:00 [Verbose] Processing discovery request.
2018-11-11 17:08:22.208 +07:00 [Debug] Start key discovery request
2018-11-11 17:08:22.208 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 17:08:22.208 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-11 17:08:22.208 +07:00 [Debug] Connection id ""0HLI7NM34SKLH"" completed keep alive response.
2018-11-11 17:08:22.209 +07:00 [Information] Request finished in 2.0513ms 200 application/json; charset=UTF-8
2018-11-11 17:08:22.228 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-11 17:08:22.228 +07:00 [Debug] "POST" requests are not supported
2018-11-11 17:08:22.228 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:08:22.228 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:08:22.228 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-11 17:08:22.229 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-11 17:08:22.229 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-11 17:08:22.229 +07:00 [Verbose] Processing token request.
2018-11-11 17:08:22.229 +07:00 [Debug] Start token request.
2018-11-11 17:08:22.229 +07:00 [Debug] Start client validation
2018-11-11 17:08:22.229 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-11 17:08:22.229 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-11 17:08:22.229 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-11 17:08:22.230 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-11 17:08:22.230 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-11 17:08:22.230 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-11 17:08:22.230 +07:00 [Debug] Client validation success
2018-11-11 17:08:22.230 +07:00 [Debug] Connection id ""0HLI7NM34SKLH"", Request id ""0HLI7NM34SKLH:0000000C"": started reading request body.
2018-11-11 17:08:22.230 +07:00 [Debug] Connection id ""0HLI7NM34SKLH"", Request id ""0HLI7NM34SKLH:0000000C"": done reading request body.
2018-11-11 17:08:22.230 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-11 17:08:22.231 +07:00 [Debug] Start token request validation
2018-11-11 17:08:22.231 +07:00 [Debug] Start resource owner password token request validation
2018-11-11 17:08:22.231 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 17:08:22.231 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:22.232 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:22.232 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 17:08:22.233 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 17:08:22.233 +07:00 [Debug] A data reader was disposed.
2018-11-11 17:08:22.233 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:22.233 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:22.233 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 17:08:22.248 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-11 17:08:22.248 +07:00 [Debug] Resource owner password token request validation success.
2018-11-11 17:08:22.248 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-11 17:08:22.249 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api2\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api2\"
  }
}"
2018-11-11 17:08:22.249 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-11 17:08:22.249 +07:00 [Verbose] Creating response for password request
2018-11-11 17:08:22.249 +07:00 [Verbose] Creating access token
2018-11-11 17:08:22.249 +07:00 [Debug] Getting claims for access token for client: "ApiApplication"
2018-11-11 17:08:22.249 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-11 17:08:22.250 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:22.250 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:22.251 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 17:08:22.251 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 17:08:22.252 +07:00 [Debug] A data reader was disposed.
2018-11-11 17:08:22.252 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:22.252 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:22.255 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:22.255 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:22.255 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 17:08:22.256 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 17:08:22.256 +07:00 [Debug] A data reader was disposed.
2018-11-11 17:08:22.256 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:22.256 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:22.257 +07:00 [Verbose] Creating JWT access token
2018-11-11 17:08:22.263 +07:00 [Verbose] Access token issued for "ApiApplication (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE5MzA5MDIsImV4cCI6MTU0MTkzNDUwMiwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMiJdLCJjbGllbnRfaWQiOiJBcGlBcHBsaWNhdGlvbiIsInN1YiI6ImI5NmU0OGFiLTUyMWQtNDJjMS05OWI2LWZjNjYwM2ViY2Q3YSIsImF1dGhfdGltZSI6MTU0MTkzMDkwMiwiaWRwIjoibG9jYWwiLCJnaXZlbl9uYW1lIjoiVGjDoWkgSOG7k25nIFF1eeG7g24iLCJlbWFpbCI6InF1eWVudGhAZ21haWwuY29tIiwianRpIjoiZWMxOTY1Y2ViYmI0YzNhY2VjNGEwODgzNzBlYWEwNmQiLCJzY29wZSI6WyJhcGkyIl0sImFtciI6WyJwd2QiXX0.abhYwD9J3JDiaLOQfCAdwHXQFyUGF0fAxNDSZabF6GNFlHZajJbn_tkbt1t4F9jiCyv7zv-QGAMFMUyCGxEWckgJJVEyvJaijDZz3QMmuxsQmNVC1u09pxs9ZmuLPFpxfTBjBrp84xbSVIyTZVO1RljeNtK4dp6UuxbsM52eoRBctNIUhHSnzz0bv-t0tGAbutigYyffbQkgWRws8Uuw15Izvs9RCdNVAGdFWyYIWzyMpXAwKLZ1HU3LLdaC3n7-tgy1J-m4yRCWJJ-hU_QiCwXhKHRoFo7yuZy6ueMrDD465x_lCYrhZSRxsd31ehZaxiDMHUz_UovTyvtfl4LdRA"
2018-11-11 17:08:22.263 +07:00 [Debug] Token request success.
2018-11-11 17:08:22.263 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-11 17:08:22.264 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 17:08:22.264 +07:00 [Debug] Connection id ""0HLI7NM34SKLH"" completed keep alive response.
2018-11-11 17:08:22.264 +07:00 [Information] Request finished in 36.2231ms 200 application/json; charset=UTF-8
2018-11-11 17:08:22.265 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 17:08:22.265 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:22.265 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:22.266 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 17:08:22.266 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 17:08:22.266 +07:00 [Debug] A data reader was disposed.
2018-11-11 17:08:22.267 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:22.267 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:22.267 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 17:08:22.267 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:22.267 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:22.267 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 17:08:22.268 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 17:08:22.268 +07:00 [Debug] A data reader was disposed.
2018-11-11 17:08:22.268 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:22.268 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:08:22.281 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-11 17:08:22.281 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 17:08:22.281 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 17:08:22.281 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 17:08:22.281 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 88.9959ms
2018-11-11 17:08:22.282 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 17:08:22.282 +07:00 [Debug] Connection id ""0HLI7NM34SKLI"" completed keep alive response.
2018-11-11 17:08:22.282 +07:00 [Information] Request finished in 90.3016ms 200 application/json; charset=utf-8
2018-11-11 17:08:22.325 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 17:08:22.326 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 17:08:22.326 +07:00 [Debug] Connection id ""0HLI7NM34SKLH"" completed keep alive response.
2018-11-11 17:08:22.326 +07:00 [Information] Request finished in 1.8755ms 200 image/x-icon
2018-11-11 17:08:41.128 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 17:08:41.129 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 17:08:41.129 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:08:41.129 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:08:41.129 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 17:08:41.129 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 17:08:41.130 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 17:08:41.130 +07:00 [Information] Authorization failed for user: null.
2018-11-11 17:08:41.130 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-11-11 17:08:41.130 +07:00 [Information] Executing ChallengeResult with authentication schemes ([]).
2018-11-11 17:08:41.130 +07:00 [Information] AuthenticationScheme: "Identity.Application" was challenged.
2018-11-11 17:08:41.130 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 0.6671ms
2018-11-11 17:08:41.130 +07:00 [Debug] Connection id ""0HLI7NM34SKLI"" completed keep alive response.
2018-11-11 17:08:41.131 +07:00 [Information] Request finished in 2.0777ms 302 
2018-11-11 17:08:41.148 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/account/login?returnUrl=%2Fapi%2Fv1%2Fdefault%2FIndex  
2018-11-11 17:08:41.148 +07:00 [Debug] The request path "/account/login" does not match a supported file type
2018-11-11 17:08:41.148 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:08:41.148 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:08:41.149 +07:00 [Verbose] No endpoint entry found for request path: "/account/login"
2018-11-11 17:08:41.149 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 17:08:41.149 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 17:08:41.149 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 17:08:41.150 +07:00 [Information] Executing handler method "OnGetAsync" with arguments (["/api/v1/default/Index"]) - ModelState is Valid
2018-11-11 17:08:41.150 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 17:08:41.150 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 17:08:41.150 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 17:08:41.151 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 17:08:41.151 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 17:08:41.157 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 17:08:41.157 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 17:08:41.157 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 17:08:41.158 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 17:08:41.158 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 17:08:41.158 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 17:08:41.158 +07:00 [Debug] View lookup cache hit for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 17:08:41.159 +07:00 [Information] Executed action "/Account/Login" in 9.9548ms
2018-11-11 17:08:41.159 +07:00 [Debug] Connection id ""0HLI7NM34SKLH"" completed keep alive response.
2018-11-11 17:08:41.159 +07:00 [Information] Request finished in 11.182ms 200 text/html; charset=utf-8
2018-11-11 17:10:33.315 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 17:10:33.383 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 17:10:33.405 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 17:10:33.419 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 17:10:33.433 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 17:10:33.438 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 17:10:33.441 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 17:10:33.452 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 17:10:33.483 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 17:10:33.495 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 17:10:33.498 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 17:10:33.812 +07:00 [Debug] Hosting starting
2018-11-11 17:10:33.936 +07:00 [Debug] Hosting started
2018-11-11 17:10:33.937 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 17:10:33.938 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 17:10:33.938 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 17:10:34.044 +07:00 [Debug] Connection id ""0HLI7NNLJIQCS"" started.
2018-11-11 17:10:34.229 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 17:10:34.325 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 17:10:34.432 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 17:10:34.648 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 17:10:34.734 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 17:10:35.206 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 17:10:35.350 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 17:10:35.527 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 17:10:35.534 +07:00 [Information] Test log
2018-11-11 17:10:35.623 +07:00 [Debug] Connection id ""0HLI7NNLJIQCT"" started.
2018-11-11 17:10:35.625 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 17:10:35.625 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 17:10:35.626 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:10:35.629 +07:00 [Debug] Request did not match any routes.
2018-11-11 17:10:35.696 +07:00 [Debug] Connection id ""0HLI7NNLJIQCT"" completed keep alive response.
2018-11-11 17:10:35.706 +07:00 [Information] Request finished in 72.2362ms 404 
2018-11-11 17:10:35.720 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult".
2018-11-11 17:10:35.745 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 17:10:35.753 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
2018-11-11 17:10:35.753 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 17:10:35.793 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 437.811ms
2018-11-11 17:10:35.798 +07:00 [Debug] Connection id ""0HLI7NNLJIQCS"" completed keep alive response.
2018-11-11 17:10:35.798 +07:00 [Information] Request finished in 1586.4652ms 400 text/plain; charset=utf-8
2018-11-11 17:10:35.821 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 17:10:35.842 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 17:10:35.857 +07:00 [Debug] Connection id ""0HLI7NNLJIQCT"" completed keep alive response.
2018-11-11 17:10:35.858 +07:00 [Information] Request finished in 36.5726ms 200 image/x-icon
2018-11-11 17:11:21.219 +07:00 [Information] User profile is available. Using '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-11-11 17:11:21.294 +07:00 [Debug] Reading data from file '"C:\Users\QuenTh\AppData\Local\ASP.NET\DataProtection-Keys\key-fb8408f8-a513-4ae2-8c2b-da545acde742.xml"'.
2018-11-11 17:11:21.307 +07:00 [Debug] Found key {fb8408f8-a513-4ae2-8c2b-da545acde742}.
2018-11-11 17:11:21.325 +07:00 [Debug] Considering key {fb8408f8-a513-4ae2-8c2b-da545acde742} with expiration date 2019-02-07 13:58:04Z as default key.
2018-11-11 17:11:21.341 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 17:11:21.346 +07:00 [Debug] Decrypting secret element using Windows DPAPI.
2018-11-11 17:11:21.349 +07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2018-11-11 17:11:21.362 +07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2018-11-11 17:11:21.371 +07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2018-11-11 17:11:21.387 +07:00 [Debug] Using key {fb8408f8-a513-4ae2-8c2b-da545acde742} as the default key.
2018-11-11 17:11:21.390 +07:00 [Debug] Key ring with default key {fb8408f8-a513-4ae2-8c2b-da545acde742} was loaded during application startup.
2018-11-11 17:11:21.488 +07:00 [Information] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-11-11 17:11:21.514 +07:00 [Debug] Using "Identity.Application" as default scheme for authentication
2018-11-11 17:11:21.517 +07:00 [Debug] Using "Identity.External" as default scheme for sign-in
2018-11-11 17:11:21.518 +07:00 [Debug] Using "Identity.External" as default scheme for sign-out
2018-11-11 17:11:21.518 +07:00 [Debug] Using "Identity.Application" as default scheme for challenge
2018-11-11 17:11:21.518 +07:00 [Debug] Using "Identity.Application" as default scheme for forbid
2018-11-11 17:11:21.884 +07:00 [Debug] Hosting starting
2018-11-11 17:11:22.011 +07:00 [Debug] Hosting started
2018-11-11 17:11:22.012 +07:00 [Debug] Loaded hosting startup assembly "AspNetCore"
2018-11-11 17:11:22.012 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.ApplicationInsights.HostingStartup"
2018-11-11 17:11:22.012 +07:00 [Debug] Loaded hosting startup assembly "Microsoft.AspNetCore.Server.IISIntegration"
2018-11-11 17:11:22.036 +07:00 [Debug] Connection id ""0HLI7NO3T9DMF"" started.
2018-11-11 17:11:22.263 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Signin?userName=quyenth@gmail.com&password=Admin@123  
2018-11-11 17:11:22.384 +07:00 [Debug] The request path "/Account/Signin" does not match a supported file type
2018-11-11 17:11:22.457 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 17:11:22.624 +07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-11-11 17:11:22.689 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 17:11:22.697 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 17:11:22.719 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 17:11:22.725 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Signin"
2018-11-11 17:11:23.231 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Signin"'.
2018-11-11 17:11:23.380 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)"
2018-11-11 17:11:23.549 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" with arguments (["quyenth@gmail.com", "Admin@123"]) - ModelState is Valid
2018-11-11 17:11:23.557 +07:00 [Information] Test log
2018-11-11 17:11:23.651 +07:00 [Debug] Connection id ""0HLI7NO3T9DMG"" started.
2018-11-11 17:11:23.653 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 17:11:23.654 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 17:11:23.655 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:23.655 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:23.655 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:23.657 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 17:11:23.664 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 17:11:23.665 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 17:11:23.671 +07:00 [Verbose] Processing discovery request.
2018-11-11 17:11:23.671 +07:00 [Debug] Start discovery request
2018-11-11 17:11:23.674 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 17:11:23.719 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-11 17:11:23.878 +07:00 [Debug] Connection id ""0HLI7NO3T9DMG"" completed keep alive response.
2018-11-11 17:11:23.892 +07:00 [Information] Request finished in 225.8071ms 200 application/json; charset=UTF-8
2018-11-11 17:11:23.909 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-11 17:11:23.909 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-11 17:11:23.909 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:23.909 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:23.909 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:23.909 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-11 17:11:23.910 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-11 17:11:23.910 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-11 17:11:23.916 +07:00 [Verbose] Processing discovery request.
2018-11-11 17:11:23.916 +07:00 [Debug] Start key discovery request
2018-11-11 17:11:23.916 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 17:11:23.929 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-11 17:11:23.970 +07:00 [Debug] Connection id ""0HLI7NO3T9DMG"" completed keep alive response.
2018-11-11 17:11:23.970 +07:00 [Information] Request finished in 61.7721ms 200 application/json; charset=UTF-8
2018-11-11 17:11:24.030 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/connect/token application/x-www-form-urlencoded 80
2018-11-11 17:11:24.031 +07:00 [Debug] "POST" requests are not supported
2018-11-11 17:11:24.031 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:24.031 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:24.031 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:24.031 +07:00 [Debug] Request path "/connect/token" matched to endpoint type "Token"
2018-11-11 17:11:24.040 +07:00 [Debug] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
2018-11-11 17:11:24.040 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2018-11-11 17:11:24.045 +07:00 [Verbose] Processing token request.
2018-11-11 17:11:24.052 +07:00 [Debug] Start token request.
2018-11-11 17:11:24.064 +07:00 [Debug] Start client validation
2018-11-11 17:11:24.072 +07:00 [Debug] Start parsing Basic Authentication secret
2018-11-11 17:11:24.075 +07:00 [Debug] Parser found secret: "BasicAuthenticationSecretParser"
2018-11-11 17:11:24.075 +07:00 [Debug] Secret id found: "ApiApplication"
2018-11-11 17:11:24.089 +07:00 [Verbose] Calling into client configuration validator: "IdentityServer4.Validation.NopClientConfigurationValidator"
2018-11-11 17:11:24.090 +07:00 [Debug] client configuration validation for client "ApiApplication" succeeded.
2018-11-11 17:11:24.104 +07:00 [Debug] Secret validator success: "HashedSharedSecretValidator"
2018-11-11 17:11:24.104 +07:00 [Debug] Client validation success
2018-11-11 17:11:24.173 +07:00 [Debug] Connection id ""0HLI7NO3T9DMG"", Request id ""0HLI7NO3T9DMG:00000003"": started reading request body.
2018-11-11 17:11:24.193 +07:00 [Debug] Connection id ""0HLI7NO3T9DMG"", Request id ""0HLI7NO3T9DMG:00000003"": done reading request body.
2018-11-11 17:11:24.200 +07:00 [Verbose] Calling into token request validator: "IdentityServer4.Validation.TokenRequestValidator"
2018-11-11 17:11:24.206 +07:00 [Debug] Start token request validation
2018-11-11 17:11:24.220 +07:00 [Debug] Start resource owner password token request validation
2018-11-11 17:11:25.541 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 17:11:25.541 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 17:11:25.579 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
2018-11-11 17:11:25.599 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 17:11:25.599 +07:00 [Debug] The foreign key properties haven't been configured by convention because the best match "{'Id' : int}" are incompatible with the current principal key "{'Id' : string}". This message can be disregarded if explicit configuration has been specified.
2018-11-11 17:11:25.603 +07:00 [Debug] The index "{'UserId'}" was not created as the properties are already covered by the index "{'UserId', 'RoleId'}".
2018-11-11 17:11:25.991 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 17:11:26.227 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 17:11:26.370 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser u in DbSet<ApplicationUser>
where [u].NormalizedUserName == __normalizedUserName_0
select [u]).FirstOrDefault()"'
2018-11-11 17:11:26.787 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<ApplicationUser> _InterceptExceptions(
    source: IAsyncEnumerable<ApplicationUser> _TrackEntities(
        results: IAsyncEnumerable<ApplicationUser> _ToSequence(() => Task<ApplicationUser> FirstOrDefault(
                source: IAsyncEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
                        FROM [AspNetUsers] AS [u]
                        WHERE [u].[NormalizedUserName] = @__normalizedUserName_0, 
                    shaper: UnbufferedEntityShaper<ApplicationUser>), 
                cancellationToken: queryContext.CancellationToken)), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 17:11:26.979 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:27.303 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:27.372 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 17:11:27.554 +07:00 [Information] Executed DbCommand ("196"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 17:11:27.720 +07:00 [Debug] A data reader was disposed.
2018-11-11 17:11:27.722 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:27.736 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:27.753 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 17:11:27.878 +07:00 [Information] Credentials validated for username: "quyenth@gmail.com"
2018-11-11 17:11:27.900 +07:00 [Debug] Resource owner password token request validation success.
2018-11-11 17:11:27.900 +07:00 [Verbose] Calling into custom request validator: "IdentityServer4.Validation.DefaultCustomTokenRequestValidator"
2018-11-11 17:11:27.915 +07:00 [Information] Token request validation success
"{
  \"ClientId\": \"ApiApplication\",
  \"GrantType\": \"password\",
  \"Scopes\": \"api2\",
  \"UserName\": \"quyenth@gmail.com\",
  \"Raw\": {
    \"grant_type\": \"password\",
    \"username\": \"quyenth@gmail.com\",
    \"password\": \"***REDACTED***\",
    \"scope\": \"api2\"
  }
}"
2018-11-11 17:11:27.915 +07:00 [Verbose] Calling into token request response generator: "IdentityServer4.ResponseHandling.TokenResponseGenerator"
2018-11-11 17:11:27.921 +07:00 [Verbose] Creating response for password request
2018-11-11 17:11:27.937 +07:00 [Verbose] Creating access token
2018-11-11 17:11:27.947 +07:00 [Debug] Getting claims for access token for client: "ApiApplication"
2018-11-11 17:11:27.947 +07:00 [Debug] Getting claims for access token for subject: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a"
2018-11-11 17:11:28.018 +07:00 [Debug] Compiling query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 17:11:28.038 +07:00 [Debug] Optimized query model: "
"'"from IdentityUserClaim<string> uc in DbSet<IdentityUserClaim<string>>
where bool [uc].UserId.Equals(__user_Id_0)
select Claim [uc].ToClaim()"'
2018-11-11 17:11:28.130 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<Claim> _InterceptExceptions(
    source: IAsyncEnumerable<Claim> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
            FROM [AspNetUserClaims] AS [uc]
            WHERE [uc].[UserId] = @__user_Id_0, 
        shaper: TypedProjectionShaper<UnbufferedOffsetEntityShaper<IdentityUserClaim<string>>, IdentityUserClaim<string>, Claim>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 17:11:28.131 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:28.134 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:28.134 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 17:11:28.140 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 17:11:28.143 +07:00 [Debug] A data reader was disposed.
2018-11-11 17:11:28.143 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:28.143 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:28.184 +07:00 [Debug] Compiling query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 17:11:28.190 +07:00 [Debug] Optimized query model: "
"'"from ApplicationUserRole userRole in DbSet<ApplicationUserRole>
join ApplicationRole role in DbSet<ApplicationRole>
on [userRole].RoleId equals [role].Id
where bool [userRole].UserId.Equals(__userId_0)
select [role].Name"'
2018-11-11 17:11:28.226 +07:00 [Debug] "(QueryContext queryContext) => IAsyncEnumerable<string> _InterceptExceptions(
    source: IAsyncEnumerable<string> _ShapedQuery(
        queryContext: queryContext, 
        shaperCommandContext: SelectExpression: 
            SELECT [role].[Name]
            FROM [AspNetUserRoles] AS [userRole]
            INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
            WHERE [userRole].[UserId] = @__userId_0, 
        shaper: TypedProjectionShaper<TypedCompositeShaper<ValueBufferShaper, ValueBuffer, ValueBufferShaper, ValueBuffer, TransparentIdentifier<ValueBuffer, ValueBuffer>>, TransparentIdentifier<ValueBuffer, ValueBuffer>, string>), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 17:11:28.227 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:28.227 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:28.227 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 17:11:28.231 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 17:11:28.232 +07:00 [Debug] A data reader was disposed.
2018-11-11 17:11:28.232 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:28.232 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:28.256 +07:00 [Verbose] Creating JWT access token
2018-11-11 17:11:28.342 +07:00 [Verbose] Access token issued for "ApiApplication (no name set)" / "b96e48ab-521d-42c1-99b6-fc6603ebcd7a": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE5MzEwODgsImV4cCI6MTU0MTkzNDY4OCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMiJdLCJjbGllbnRfaWQiOiJBcGlBcHBsaWNhdGlvbiIsInN1YiI6ImI5NmU0OGFiLTUyMWQtNDJjMS05OWI2LWZjNjYwM2ViY2Q3YSIsImF1dGhfdGltZSI6MTU0MTkzMTA4NywiaWRwIjoibG9jYWwiLCJnaXZlbl9uYW1lIjoiVGjDoWkgSOG7k25nIFF1eeG7g24iLCJlbWFpbCI6InF1eWVudGhAZ21haWwuY29tIiwianRpIjoiMGIzMTlhOWYwYTk5MWY3NjE2ZDZjYzI5MDExYzdhMGIiLCJzY29wZSI6WyJhcGkyIl0sImFtciI6WyJwd2QiXX0.HaJPTRFa1LnknJhoABUPaFxzz4MaMytZLbs-lmpvx86OKL-xBllcl4AnS5jcjpvfDOXCkq9aB5XOP8c1MgNeYXSa-1G_q-O3GOp5pRAGP_0AhXfEolZi6JEamUoqrfcjrM5Dnl7-zzF5QVupp8hXE3Dx2FAJuGeYa4TM9RbjOQg-T3fuEivxiorZP2MI9xKJnRrmeUsKvRN0TrK1YqVt-X4fs3RecRrSHhbDN1L7DPjw9DxIMiCw2F27Z9zIe9rcmT-F6jGElvgYCaohgXKdXztDguAxUTDbWPRzwpcqRrF6Zr4l4m1ZfzQi0LcFPmN56AKAgOczCeO_1xvEN486Pw"
2018-11-11 17:11:28.342 +07:00 [Debug] Token request success.
2018-11-11 17:11:28.343 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.TokenResult"
2018-11-11 17:11:28.355 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 17:11:28.358 +07:00 [Debug] Connection id ""0HLI7NO3T9DMG"" completed keep alive response.
2018-11-11 17:11:28.361 +07:00 [Information] Request finished in 4330.8871ms 200 application/json; charset=UTF-8
2018-11-11 17:11:28.367 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 17:11:28.375 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:28.375 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:28.377 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 17:11:28.377 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 17:11:28.378 +07:00 [Debug] A data reader was disposed.
2018-11-11 17:11:28.378 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:28.378 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:28.378 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 17:11:28.387 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:28.387 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:28.387 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 17:11:28.388 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 17:11:28.388 +07:00 [Debug] A data reader was disposed.
2018-11-11 17:11:28.388 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:28.388 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:28.404 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Signin (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult".
2018-11-11 17:11:28.432 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 17:11:28.439 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 17:11:28.439 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 17:11:28.498 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Signin (AspNetCore)" in 5112.2333ms
2018-11-11 17:11:28.500 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 17:11:28.500 +07:00 [Debug] Connection id ""0HLI7NO3T9DMF"" completed keep alive response.
2018-11-11 17:11:28.500 +07:00 [Information] Request finished in 6258.5175ms 200 application/json; charset=utf-8
2018-11-11 17:11:28.518 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/favicon.ico  
2018-11-11 17:11:28.532 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Working\DotnetCore\DotnetCore\AspNetCore\wwwroot\favicon.ico"'
2018-11-11 17:11:28.547 +07:00 [Debug] Connection id ""0HLI7NO3T9DMG"" completed keep alive response.
2018-11-11 17:11:28.547 +07:00 [Information] Request finished in 29.2385ms 200 image/x-icon
2018-11-11 17:11:31.300 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 17:11:31.300 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 17:11:31.300 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:31.300 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:31.301 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:31.301 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 17:11:31.301 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 17:11:31.310 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 17:11:31.337 +07:00 [Verbose] HandleAuthenticateAsync called
2018-11-11 17:11:31.338 +07:00 [Verbose] Token found: "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE5MzA5MDIsImV4cCI6MTU0MTkzNDUwMiwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMiJdLCJjbGllbnRfaWQiOiJBcGlBcHBsaWNhdGlvbiIsInN1YiI6ImI5NmU0OGFiLTUyMWQtNDJjMS05OWI2LWZjNjYwM2ViY2Q3YSIsImF1dGhfdGltZSI6MTU0MTkzMDkwMiwiaWRwIjoibG9jYWwiLCJnaXZlbl9uYW1lIjoiVGjDoWkgSOG7k25nIFF1eeG7g24iLCJlbWFpbCI6InF1eWVudGhAZ21haWwuY29tIiwianRpIjoiZWMxOTY1Y2ViYmI0YzNhY2VjNGEwODgzNzBlYWEwNmQiLCJzY29wZSI6WyJhcGkyIl0sImFtciI6WyJwd2QiXX0.abhYwD9J3JDiaLOQfCAdwHXQFyUGF0fAxNDSZabF6GNFlHZajJbn_tkbt1t4F9jiCyv7zv-QGAMFMUyCGxEWckgJJVEyvJaijDZz3QMmuxsQmNVC1u09pxs9ZmuLPFpxfTBjBrp84xbSVIyTZVO1RljeNtK4dp6UuxbsM52eoRBctNIUhHSnzz0bv-t0tGAbutigYyffbQkgWRws8Uuw15Izvs9RCdNVAGdFWyYIWzyMpXAwKLZ1HU3LLdaC3n7-tgy1J-m4yRCWJJ-hU_QiCwXhKHRoFo7yuZy6ueMrDD465x_lCYrhZSRxsd31ehZaxiDMHUz_UovTyvtfl4LdRA"
2018-11-11 17:11:31.338 +07:00 [Verbose] Token is a JWT and is supported.
2018-11-11 17:11:31.377 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration  
2018-11-11 17:11:31.377 +07:00 [Debug] The request path "/.well-known/openid-configuration" does not match a supported file type
2018-11-11 17:11:31.377 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:31.377 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:31.377 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:31.377 +07:00 [Debug] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
2018-11-11 17:11:31.378 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
2018-11-11 17:11:31.378 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-11-11 17:11:31.378 +07:00 [Verbose] Processing discovery request.
2018-11-11 17:11:31.378 +07:00 [Debug] Start discovery request
2018-11-11 17:11:31.378 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 17:11:31.378 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.DiscoveryDocumentResult"
2018-11-11 17:11:31.378 +07:00 [Debug] Connection id ""0HLI7NO3T9DMG"" completed keep alive response.
2018-11-11 17:11:31.378 +07:00 [Information] Request finished in 1.4944ms 200 application/json; charset=UTF-8
2018-11-11 17:11:31.417 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/.well-known/openid-configuration/jwks  
2018-11-11 17:11:31.418 +07:00 [Debug] The request path "/.well-known/openid-configuration/jwks" does not match a supported file type
2018-11-11 17:11:31.418 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:31.418 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:31.418 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:31.418 +07:00 [Debug] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
2018-11-11 17:11:31.418 +07:00 [Debug] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
2018-11-11 17:11:31.418 +07:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-11-11 17:11:31.418 +07:00 [Verbose] Processing discovery request.
2018-11-11 17:11:31.418 +07:00 [Debug] Start key discovery request
2018-11-11 17:11:31.418 +07:00 [Verbose] Calling into discovery response generator: "IdentityServer4.ResponseHandling.DiscoveryResponseGenerator"
2018-11-11 17:11:31.419 +07:00 [Verbose] Invoking result: "IdentityServer4.Endpoints.Results.JsonWebKeysResult"
2018-11-11 17:11:31.419 +07:00 [Debug] Connection id ""0HLI7NO3T9DMG"" completed keep alive response.
2018-11-11 17:11:31.419 +07:00 [Information] Request finished in 1.3284ms 200 application/json; charset=UTF-8
2018-11-11 17:11:31.493 +07:00 [Information] Successfully validated the token.
2018-11-11 17:11:31.497 +07:00 [Information] AuthenticationScheme: "BearerIdentityServerAuthenticationJwt" was successfully authenticated.
2018-11-11 17:11:31.497 +07:00 [Information] AuthenticationScheme: "Bearer" was successfully authenticated.
2018-11-11 17:11:31.515 +07:00 [Information] Authorization was successful for user: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a".
2018-11-11 17:11:31.515 +07:00 [Information] Executing action method "AspNetCore.Controllers.TestController.Index (AspNetCore)" with arguments (null) - ModelState is Valid
2018-11-11 17:11:31.516 +07:00 [Debug] Executed action method "AspNetCore.Controllers.TestController.Index (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult".
2018-11-11 17:11:31.517 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 17:11:31.521 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 17:11:31.521 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 17:11:31.521 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 211.5353ms
2018-11-11 17:11:31.521 +07:00 [Debug] Connection id ""0HLI7NO3T9DMF"" completed keep alive response.
2018-11-11 17:11:31.521 +07:00 [Information] Request finished in 221.3518ms 200 application/json; charset=utf-8
2018-11-11 17:11:35.272 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 17:11:35.273 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 17:11:35.273 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:35.273 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:35.273 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:35.273 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 17:11:35.273 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 17:11:35.276 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 17:11:35.276 +07:00 [Verbose] HandleAuthenticateAsync called
2018-11-11 17:11:35.276 +07:00 [Verbose] Token found: "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY0MDBiNGM2MDUzM2M3NmMzMTNmZTA1OWNkOWVlNGYzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDE5MzA5MDIsImV4cCI6MTU0MTkzNDUwMiwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIiLCJhdWQiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDIvcmVzb3VyY2VzIiwiYXBpMiJdLCJjbGllbnRfaWQiOiJBcGlBcHBsaWNhdGlvbiIsInN1YiI6ImI5NmU0OGFiLTUyMWQtNDJjMS05OWI2LWZjNjYwM2ViY2Q3YSIsImF1dGhfdGltZSI6MTU0MTkzMDkwMiwiaWRwIjoibG9jYWwiLCJnaXZlbl9uYW1lIjoiVGjDoWkgSOG7k25nIFF1eeG7g24iLCJlbWFpbCI6InF1eWVudGhAZ21haWwuY29tIiwianRpIjoiZWMxOTY1Y2ViYmI0YzNhY2VjNGEwODgzNzBlYWEwNmQiLCJzY29wZSI6WyJhcGkyIl0sImFtciI6WyJwd2QiXX0.abhYwD9J3JDiaLOQfCAdwHXQFyUGF0fAxNDSZabF6GNFlHZajJbn_tkbt1t4F9jiCyv7zv-QGAMFMUyCGxEWckgJJVEyvJaijDZz3QMmuxsQmNVC1u09pxs9ZmuLPFpxfTBjBrp84xbSVIyTZVO1RljeNtK4dp6UuxbsM52eoRBctNIUhHSnzz0bv-t0tGAbutigYyffbQkgWRws8Uuw15Izvs9RCdNVAGdFWyYIWzyMpXAwKLZ1HU3LLdaC3n7-tgy1J-m4yRCWJJ-hU_QiCwXhKHRoFo7yuZy6ueMrDD465x_lCYrhZSRxsd31ehZaxiDMHUz_UovTyvtfl4LdRA"
2018-11-11 17:11:35.276 +07:00 [Verbose] Token is a JWT and is supported.
2018-11-11 17:11:35.277 +07:00 [Information] Successfully validated the token.
2018-11-11 17:11:35.277 +07:00 [Information] AuthenticationScheme: "BearerIdentityServerAuthenticationJwt" was successfully authenticated.
2018-11-11 17:11:35.278 +07:00 [Information] AuthenticationScheme: "Bearer" was successfully authenticated.
2018-11-11 17:11:35.278 +07:00 [Information] Authorization was successful for user: "b96e48ab-521d-42c1-99b6-fc6603ebcd7a".
2018-11-11 17:11:35.278 +07:00 [Information] Executing action method "AspNetCore.Controllers.TestController.Index (AspNetCore)" with arguments (null) - ModelState is Valid
2018-11-11 17:11:35.278 +07:00 [Debug] Executed action method "AspNetCore.Controllers.TestController.Index (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult".
2018-11-11 17:11:35.279 +07:00 [Debug] No information found on request to perform content negotiation.
2018-11-11 17:11:35.279 +07:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter"' and content type '"application/json"' to write the response.
2018-11-11 17:11:35.279 +07:00 [Information] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-11-11 17:11:35.279 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 3.3414ms
2018-11-11 17:11:35.279 +07:00 [Debug] Connection id ""0HLI7NO3T9DMG"" completed keep alive response.
2018-11-11 17:11:35.279 +07:00 [Information] Request finished in 7.0007ms 200 application/json; charset=utf-8
2018-11-11 17:11:43.301 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/Account/Logout application/x-www-form-urlencoded 225
2018-11-11 17:11:43.301 +07:00 [Debug] "POST" requests are not supported
2018-11-11 17:11:43.301 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 17:11:43.302 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 17:11:43.307 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 17:11:43.307 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 17:11:43.307 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Logout"
2018-11-11 17:11:43.307 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Logout"'.
2018-11-11 17:11:43.326 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Logout (AspNetCore)"
2018-11-11 17:11:43.335 +07:00 [Debug] Connection id ""0HLI7NO3T9DMF"", Request id ""0HLI7NO3T9DMF:00000003"": started reading request body.
2018-11-11 17:11:43.335 +07:00 [Debug] Connection id ""0HLI7NO3T9DMF"", Request id ""0HLI7NO3T9DMF:00000003"": done reading request body.
2018-11-11 17:11:43.340 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 17:11:43.342 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 17:11:43.350 +07:00 [Debug] Antiforgery successfully validated a request.
2018-11-11 17:11:43.350 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Logout (AspNetCore)" with arguments (null) - ModelState is Valid
2018-11-11 17:11:43.404 +07:00 [Information] AuthenticationScheme: "Identity.Application" signed out.
2018-11-11 17:11:43.406 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 17:11:43.407 +07:00 [Information] AuthenticationScheme: "Identity.TwoFactorUserId" signed out.
2018-11-11 17:11:43.407 +07:00 [Information] User logged out.
2018-11-11 17:11:43.408 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Logout (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.RedirectToPageResult".
2018-11-11 17:11:43.432 +07:00 [Information] Executing RedirectToPageResult, redirecting to "/Index".
2018-11-11 17:11:43.434 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Logout (AspNetCore)" in 107.7351ms
2018-11-11 17:11:43.436 +07:00 [Debug] Connection id ""0HLI7NO3T9DMF"" completed keep alive response.
2018-11-11 17:11:43.436 +07:00 [Information] Request finished in 135.7273ms 302 
2018-11-11 17:11:43.441 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 17:11:43.441 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 17:11:43.441 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:43.441 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:43.441 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:43.441 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 17:11:43.441 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 17:11:44.514 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' started.
2018-11-11 17:11:45.973 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Index.cshtml"' completed in 1459.238ms.
2018-11-11 17:11:46.114 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' started.
2018-11-11 17:11:46.180 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ViewStart.cshtml"' completed in 66.4528ms.
2018-11-11 17:11:46.189 +07:00 [Debug] Executing action "/Index"
2018-11-11 17:11:46.212 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 17:11:46.213 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 17:11:46.320 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 17:11:46.430 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' started.
2018-11-11 17:11:46.587 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_Layout.cshtml"' completed in 156.306ms.
2018-11-11 17:11:46.601 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 17:11:46.604 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 17:11:46.624 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 17:11:46.624 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 17:11:46.655 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 17:11:46.730 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' started.
2018-11-11 17:11:46.799 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_LoginPartial.cshtml"' completed in 68.8898ms.
2018-11-11 17:11:46.852 +07:00 [Information] Executed action "/Index" in 663.2045ms
2018-11-11 17:11:46.854 +07:00 [Debug] Connection id ""0HLI7NO3T9DMG"" completed keep alive response.
2018-11-11 17:11:46.855 +07:00 [Information] Request finished in 3413.9439ms 200 text/html; charset=utf-8
2018-11-11 17:11:50.293 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/Account/Login  
2018-11-11 17:11:50.294 +07:00 [Debug] The request path "/Account/Login" does not match a supported file type
2018-11-11 17:11:50.294 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:50.294 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:50.294 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:50.294 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Login"
2018-11-11 17:11:50.294 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 17:11:50.397 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' started.
2018-11-11 17:11:50.749 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\Account\Login.cshtml"' completed in 351.7746ms.
2018-11-11 17:11:50.769 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 17:11:50.790 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 17:11:50.791 +07:00 [Information] Executing handler method "OnGetAsync" with arguments ([""]) - ModelState is Valid
2018-11-11 17:11:50.795 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 17:11:50.799 +07:00 [Debug] Executed handler method "OnGetAsync", returned result "".
2018-11-11 17:11:50.814 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 17:11:50.819 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 17:11:50.823 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 17:11:50.944 +07:00 [Debug] View lookup cache miss for view '"_Layout"' in controller 'null'.
2018-11-11 17:11:50.945 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 17:11:50.945 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 17:11:50.945 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 17:11:50.945 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 17:11:50.945 +07:00 [Debug] View lookup cache miss for view '"_LoginPartial"' in controller 'null'.
2018-11-11 17:11:50.948 +07:00 [Debug] View lookup cache miss for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 17:11:51.004 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' started.
2018-11-11 17:11:51.062 +07:00 [Debug] Compilation of the generated code for the Razor file at '"C:\Working\DotnetCore\DotnetCore\AspNetCore\Pages\_ValidationScriptsPartial.cshtml"' completed in 58.1923ms.
2018-11-11 17:11:51.093 +07:00 [Information] Executed action "/Account/Login" in 323.2826ms
2018-11-11 17:11:51.093 +07:00 [Debug] Connection id ""0HLI7NO3T9DMF"" completed keep alive response.
2018-11-11 17:11:51.093 +07:00 [Information] Request finished in 799.5445ms 200 text/html; charset=utf-8
2018-11-11 17:11:56.871 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/Account/Login application/x-www-form-urlencoded 264
2018-11-11 17:11:56.871 +07:00 [Debug] "POST" requests are not supported
2018-11-11 17:11:56.871 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:56.871 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:56.871 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:11:56.871 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Login"
2018-11-11 17:11:56.871 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 17:11:56.871 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 17:11:56.871 +07:00 [Debug] Connection id ""0HLI7NO3T9DMG"", Request id ""0HLI7NO3T9DMG:00000009"": started reading request body.
2018-11-11 17:11:56.872 +07:00 [Debug] Connection id ""0HLI7NO3T9DMG"", Request id ""0HLI7NO3T9DMG:00000009"": done reading request body.
2018-11-11 17:11:56.872 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 17:11:56.872 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 17:11:56.872 +07:00 [Debug] Antiforgery successfully validated a request.
2018-11-11 17:11:56.904 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 17:11:56.904 +07:00 [Information] Executing handler method "OnPostAsync" with arguments ([""]) - ModelState is Valid
2018-11-11 17:11:56.910 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 17:11:56.916 +07:00 [Debug] Compiling query model: "
"'"(from ApplicationUser c in DbSet<ApplicationUser>
where [c].UserName == \"quyenth@gmail.com\"
select [c]).FirstOrDefault()"'
2018-11-11 17:11:56.916 +07:00 [Debug] Optimized query model: "
"'"(from ApplicationUser c in DbSet<ApplicationUser>
where [c].UserName == \"quyenth@gmail.com\"
select [c]).FirstOrDefault()"'
2018-11-11 17:11:56.928 +07:00 [Debug] "(QueryContext queryContext) => IEnumerable<ApplicationUser> _InterceptExceptions(
    source: IEnumerable<ApplicationUser> _TrackEntities(
        results: IEnumerable<ApplicationUser> _ToSequence(() => ApplicationUser FirstOrDefault(IEnumerable<ApplicationUser> _ShapedQuery(
                    queryContext: queryContext, 
                    shaperCommandContext: SelectExpression: 
                        SELECT TOP(1) [c].[Id], [c].[AccessFailedCount], [c].[ConcurrencyStamp], [c].[Email], [c].[EmailConfirmed], [c].[FullName], [c].[LockoutEnabled], [c].[LockoutEnd], [c].[NormalizedEmail], [c].[NormalizedUserName], [c].[PasswordHash], [c].[PhoneNumber], [c].[PhoneNumberConfirmed], [c].[SecurityStamp], [c].[TwoFactorEnabled], [c].[UserName]
                        FROM [AspNetUsers] AS [c]
                        WHERE [c].[UserName] = N'quyenth@gmail.com', 
                    shaper: UnbufferedEntityShaper<ApplicationUser>))), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: ApplicationUser }, 
        entityAccessors: List<Func<ApplicationUser, object>> 
        { 
            Func<ApplicationUser, ApplicationUser>, 
        }
    ), 
    contextType: Framework.AspNetIdentity.ApplicationIdentityContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)"
2018-11-11 17:11:56.937 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:56.939 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:56.942 +07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AccessFailedCount], [c].[ConcurrencyStamp], [c].[Email], [c].[EmailConfirmed], [c].[FullName], [c].[LockoutEnabled], [c].[LockoutEnd], [c].[NormalizedEmail], [c].[NormalizedUserName], [c].[PasswordHash], [c].[PhoneNumber], [c].[PhoneNumberConfirmed], [c].[SecurityStamp], [c].[TwoFactorEnabled], [c].[UserName]
FROM [AspNetUsers] AS [c]
WHERE [c].[UserName] = N'quyenth@gmail.com'"
2018-11-11 17:11:56.946 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AccessFailedCount], [c].[ConcurrencyStamp], [c].[Email], [c].[EmailConfirmed], [c].[FullName], [c].[LockoutEnabled], [c].[LockoutEnd], [c].[NormalizedEmail], [c].[NormalizedUserName], [c].[PasswordHash], [c].[PhoneNumber], [c].[PhoneNumberConfirmed], [c].[SecurityStamp], [c].[TwoFactorEnabled], [c].[UserName]
FROM [AspNetUsers] AS [c]
WHERE [c].[UserName] = N'quyenth@gmail.com'"
2018-11-11 17:11:56.949 +07:00 [Debug] A data reader was disposed.
2018-11-11 17:11:56.949 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:56.949 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:56.949 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 17:11:56.954 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:56.954 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:56.954 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 17:11:56.955 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 17:11:56.955 +07:00 [Debug] A data reader was disposed.
2018-11-11 17:11:56.955 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:56.955 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:56.968 +07:00 [Warning] Invalid password for user "b96e48ab-521d-42c1-99b6-fc6603ebcd7a".
2018-11-11 17:11:56.968 +07:00 [Warning] User "b96e48ab-521d-42c1-99b6-fc6603ebcd7a" failed to provide the correct password.
2018-11-11 17:11:56.993 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:56.993 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:56.993 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 17:11:56.993 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 17:11:56.994 +07:00 [Debug] A data reader was disposed.
2018-11-11 17:11:56.994 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:56.994 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:57.023 +07:00 [Debug] An '"ApplicationUser"' entity tracked by '"ApplicationIdentityContext"' changed from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 17:11:57.028 +07:00 [Debug] SaveChanges starting for '"ApplicationIdentityContext"'.
2018-11-11 17:11:57.030 +07:00 [Debug] DetectChanges starting for '"ApplicationIdentityContext"'.
2018-11-11 17:11:57.046 +07:00 [Debug] DetectChanges completed for '"ApplicationIdentityContext"'.
2018-11-11 17:11:57.069 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:57.069 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:57.081 +07:00 [Debug] Beginning transaction with isolation level '"ReadCommitted"'.
2018-11-11 17:11:57.175 +07:00 [Debug] Executing DbCommand [Parameters=["@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FullName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;"
2018-11-11 17:11:57.180 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FullName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;"
2018-11-11 17:11:57.186 +07:00 [Debug] A data reader was disposed.
2018-11-11 17:11:57.193 +07:00 [Debug] Committing transaction.
2018-11-11 17:11:57.194 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:57.194 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:11:57.195 +07:00 [Debug] Disposing transaction.
2018-11-11 17:11:57.198 +07:00 [Debug] An '"ApplicationUser"' entity tracked by '"ApplicationIdentityContext"' changed from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 17:11:57.202 +07:00 [Debug] SaveChanges completed for '"ApplicationIdentityContext"' with 1 entities written to the database.
2018-11-11 17:11:57.204 +07:00 [Debug] Executed handler method "OnPostAsync", returned result "Microsoft.AspNetCore.Mvc.RazorPages.PageResult".
2018-11-11 17:11:57.205 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 17:11:57.205 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 17:11:57.213 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 17:11:57.214 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 17:11:57.214 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 17:11:57.214 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 17:11:57.214 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 17:11:57.214 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 17:11:57.214 +07:00 [Debug] View lookup cache hit for view '"_ValidationScriptsPartial"' in controller 'null'.
2018-11-11 17:11:57.214 +07:00 [Information] Executed action "/Account/Login" in 342.9389ms
2018-11-11 17:11:57.214 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 17:11:57.215 +07:00 [Debug] Connection id ""0HLI7NO3T9DMG"" completed keep alive response.
2018-11-11 17:11:57.215 +07:00 [Information] Request finished in 344.1098ms 200 text/html; charset=utf-8
2018-11-11 17:12:01.636 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/Account/Login application/x-www-form-urlencoded 264
2018-11-11 17:12:01.636 +07:00 [Debug] "POST" requests are not supported
2018-11-11 17:12:01.636 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:12:01.636 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:12:01.636 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:12:01.636 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Login"
2018-11-11 17:12:01.636 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Login"'.
2018-11-11 17:12:01.636 +07:00 [Debug] Executing action "/Account/Login"
2018-11-11 17:12:01.636 +07:00 [Debug] Connection id ""0HLI7NO3T9DMF"", Request id ""0HLI7NO3T9DMF:00000005"": started reading request body.
2018-11-11 17:12:01.637 +07:00 [Debug] Connection id ""0HLI7NO3T9DMF"", Request id ""0HLI7NO3T9DMF:00000005"": done reading request body.
2018-11-11 17:12:01.637 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 17:12:01.637 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 17:12:01.637 +07:00 [Debug] Antiforgery successfully validated a request.
2018-11-11 17:12:01.637 +07:00 [Debug] The temp data cookie ".AspNetCore.Mvc.CookieTempDataProvider" was not found.
2018-11-11 17:12:01.638 +07:00 [Information] Executing handler method "OnPostAsync" with arguments ([""]) - ModelState is Valid
2018-11-11 17:12:01.638 +07:00 [Information] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationIdentityContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=AspNetCore "
2018-11-11 17:12:01.639 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:12:01.639 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:12:01.639 +07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AccessFailedCount], [c].[ConcurrencyStamp], [c].[Email], [c].[EmailConfirmed], [c].[FullName], [c].[LockoutEnabled], [c].[LockoutEnd], [c].[NormalizedEmail], [c].[NormalizedUserName], [c].[PasswordHash], [c].[PhoneNumber], [c].[PhoneNumberConfirmed], [c].[SecurityStamp], [c].[TwoFactorEnabled], [c].[UserName]
FROM [AspNetUsers] AS [c]
WHERE [c].[UserName] = N'quyenth@gmail.com'"
2018-11-11 17:12:01.639 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AccessFailedCount], [c].[ConcurrencyStamp], [c].[Email], [c].[EmailConfirmed], [c].[FullName], [c].[LockoutEnabled], [c].[LockoutEnd], [c].[NormalizedEmail], [c].[NormalizedUserName], [c].[PasswordHash], [c].[PhoneNumber], [c].[PhoneNumberConfirmed], [c].[SecurityStamp], [c].[TwoFactorEnabled], [c].[UserName]
FROM [AspNetUsers] AS [c]
WHERE [c].[UserName] = N'quyenth@gmail.com'"
2018-11-11 17:12:01.640 +07:00 [Debug] A data reader was disposed.
2018-11-11 17:12:01.640 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:12:01.640 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:12:01.640 +07:00 [Debug] Context '"ApplicationUser"' started tracking '"ApplicationIdentityContext"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 17:12:01.640 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:12:01.640 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:12:01.640 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 17:12:01.641 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 17:12:01.641 +07:00 [Debug] A data reader was disposed.
2018-11-11 17:12:01.641 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:12:01.641 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:12:01.653 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:12:01.653 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:12:01.653 +07:00 [Debug] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 17:12:01.654 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-11-11 17:12:01.654 +07:00 [Debug] A data reader was disposed.
2018-11-11 17:12:01.655 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:12:01.655 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:12:01.655 +07:00 [Debug] An '"ApplicationUser"' entity tracked by '"ApplicationIdentityContext"' changed from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 17:12:01.655 +07:00 [Debug] SaveChanges starting for '"ApplicationIdentityContext"'.
2018-11-11 17:12:01.656 +07:00 [Debug] DetectChanges starting for '"ApplicationIdentityContext"'.
2018-11-11 17:12:01.656 +07:00 [Debug] DetectChanges completed for '"ApplicationIdentityContext"'.
2018-11-11 17:12:01.656 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:12:01.656 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:12:01.657 +07:00 [Debug] Beginning transaction with isolation level '"ReadCommitted"'.
2018-11-11 17:12:01.657 +07:00 [Debug] Executing DbCommand [Parameters=["@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FullName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;"
2018-11-11 17:12:01.658 +07:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FullName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;"
2018-11-11 17:12:01.658 +07:00 [Debug] A data reader was disposed.
2018-11-11 17:12:01.659 +07:00 [Debug] Committing transaction.
2018-11-11 17:12:01.659 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:12:01.659 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:12:01.659 +07:00 [Debug] Disposing transaction.
2018-11-11 17:12:01.659 +07:00 [Debug] An '"ApplicationUser"' entity tracked by '"ApplicationIdentityContext"' changed from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-11-11 17:12:01.659 +07:00 [Debug] SaveChanges completed for '"ApplicationIdentityContext"' with 1 entities written to the database.
2018-11-11 17:12:01.675 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:12:01.676 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:12:01.676 +07:00 [Debug] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 17:12:01.676 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-11-11 17:12:01.676 +07:00 [Debug] A data reader was disposed.
2018-11-11 17:12:01.676 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:12:01.676 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:12:01.678 +07:00 [Debug] Opening connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:12:01.678 +07:00 [Debug] Opened connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:12:01.678 +07:00 [Debug] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 17:12:01.679 +07:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0"
2018-11-11 17:12:01.679 +07:00 [Debug] A data reader was disposed.
2018-11-11 17:12:01.679 +07:00 [Debug] Closing connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:12:01.679 +07:00 [Debug] Closed connection to database '"aspnet-AspNetCore-53bc9b9d-9d6a-45d4-8429-2a2761773502"' on server '"(localdb)\mssqllocaldb"'.
2018-11-11 17:12:01.683 +07:00 [Debug] Augmenting SignInContext
2018-11-11 17:12:01.686 +07:00 [Debug] Adding idp claim with value: "local"
2018-11-11 17:12:01.686 +07:00 [Debug] Adding amr claim with value: "pwd"
2018-11-11 17:12:01.686 +07:00 [Debug] Adding auth_time claim with value: "1541931121"
2018-11-11 17:12:01.692 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:12:01.708 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 17:12:01.710 +07:00 [Information] AuthenticationScheme: "Identity.Application" signed in.
2018-11-11 17:12:01.710 +07:00 [Information] User logged in.
2018-11-11 17:12:01.713 +07:00 [Debug] Executed handler method "OnPostAsync", returned result "Microsoft.AspNetCore.Mvc.LocalRedirectResult".
2018-11-11 17:12:01.715 +07:00 [Information] Executing LocalRedirectResult, redirecting to "/".
2018-11-11 17:12:01.715 +07:00 [Information] Executed action "/Account/Login" in 78.331ms
2018-11-11 17:12:01.715 +07:00 [Debug] '"ApplicationIdentityContext"' disposed.
2018-11-11 17:12:01.715 +07:00 [Debug] Connection id ""0HLI7NO3T9DMF"" completed keep alive response.
2018-11-11 17:12:01.715 +07:00 [Information] Request finished in 79.4373ms 302 
2018-11-11 17:12:01.719 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 17:12:01.719 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 17:12:01.719 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 17:12:01.719 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 17:12:01.719 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 17:12:01.719 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 17:12:01.719 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 17:12:01.719 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 17:12:01.720 +07:00 [Debug] Executing action "/Index"
2018-11-11 17:12:01.720 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 17:12:01.720 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 17:12:01.720 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 17:12:01.720 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 17:12:01.720 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 17:12:01.720 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 17:12:01.720 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 17:12:01.721 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 17:12:01.725 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 17:12:01.726 +07:00 [Verbose] Performing protect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 17:12:01.726 +07:00 [Debug] An antiforgery cookie token was reused.
2018-11-11 17:12:01.729 +07:00 [Information] Executed action "/Index" in 9.2457ms
2018-11-11 17:12:01.729 +07:00 [Debug] Connection id ""0HLI7NO3T9DMG"" completed keep alive response.
2018-11-11 17:12:01.729 +07:00 [Information] Request finished in 10.3654ms 200 text/html; charset=utf-8
2018-11-11 17:12:04.578 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44302/Account/Logout application/x-www-form-urlencoded 225
2018-11-11 17:12:04.578 +07:00 [Debug] "POST" requests are not supported
2018-11-11 17:12:04.579 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2')".
2018-11-11 17:12:04.579 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 17:12:04.579 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 17:12:04.579 +07:00 [Information] AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-11-11 17:12:04.579 +07:00 [Verbose] No endpoint entry found for request path: "/Account/Logout"
2018-11-11 17:12:04.579 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"Account/Logout"'.
2018-11-11 17:12:04.579 +07:00 [Debug] Executing action "AspNetCore.Controllers.AccountController.Logout (AspNetCore)"
2018-11-11 17:12:04.579 +07:00 [Debug] Connection id ""0HLI7NO3T9DMF"", Request id ""0HLI7NO3T9DMF:00000006"": started reading request body.
2018-11-11 17:12:04.579 +07:00 [Debug] Connection id ""0HLI7NO3T9DMF"", Request id ""0HLI7NO3T9DMF:00000006"": done reading request body.
2018-11-11 17:12:04.580 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 17:12:04.580 +07:00 [Verbose] Performing unprotect operation to key {fb8408f8-a513-4ae2-8c2b-da545acde742} with purposes "('C:\Working\DotnetCore\DotnetCore\AspNetCore', 'Microsoft.AspNetCore.Antiforgery.AntiforgeryToken.v1')".
2018-11-11 17:12:04.580 +07:00 [Debug] Antiforgery successfully validated a request.
2018-11-11 17:12:04.580 +07:00 [Information] Executing action method "AspNetCore.Controllers.AccountController.Logout (AspNetCore)" with arguments (null) - ModelState is Valid
2018-11-11 17:12:04.580 +07:00 [Information] AuthenticationScheme: "Identity.Application" signed out.
2018-11-11 17:12:04.580 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-11-11 17:12:04.580 +07:00 [Information] AuthenticationScheme: "Identity.TwoFactorUserId" signed out.
2018-11-11 17:12:04.580 +07:00 [Information] User logged out.
2018-11-11 17:12:04.580 +07:00 [Debug] Executed action method "AspNetCore.Controllers.AccountController.Logout (AspNetCore)", returned result "Microsoft.AspNetCore.Mvc.RedirectToPageResult".
2018-11-11 17:12:04.580 +07:00 [Information] Executing RedirectToPageResult, redirecting to "/Index".
2018-11-11 17:12:04.581 +07:00 [Information] Executed action "AspNetCore.Controllers.AccountController.Logout (AspNetCore)" in 1.183ms
2018-11-11 17:12:04.581 +07:00 [Debug] Connection id ""0HLI7NO3T9DMF"" completed keep alive response.
2018-11-11 17:12:04.581 +07:00 [Information] Request finished in 2.5529ms 302 
2018-11-11 17:12:04.585 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/  
2018-11-11 17:12:04.585 +07:00 [Debug] The request path "/" does not match a supported file type
2018-11-11 17:12:04.586 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:12:04.586 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:12:04.586 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:12:04.586 +07:00 [Verbose] No endpoint entry found for request path: "/"
2018-11-11 17:12:04.586 +07:00 [Debug] Request successfully matched the route with name 'null' and template '""'.
2018-11-11 17:12:04.586 +07:00 [Debug] Executing action "/Index"
2018-11-11 17:12:04.586 +07:00 [Information] Executing handler method "OnGet" with arguments (null) - ModelState is Valid
2018-11-11 17:12:04.587 +07:00 [Debug] Executed handler method "OnGet", returned result "".
2018-11-11 17:12:04.587 +07:00 [Debug] View lookup cache hit for view '"_Layout"' in controller 'null'.
2018-11-11 17:12:04.587 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 17:12:04.587 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 17:12:04.587 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' initialized.
2018-11-11 17:12:04.587 +07:00 [Debug] Tag helper component '"Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent"' processed.
2018-11-11 17:12:04.587 +07:00 [Debug] View lookup cache hit for view '"_LoginPartial"' in controller 'null'.
2018-11-11 17:12:04.588 +07:00 [Information] Executed action "/Index" in 1.7497ms
2018-11-11 17:12:04.588 +07:00 [Debug] Connection id ""0HLI7NO3T9DMG"" completed keep alive response.
2018-11-11 17:12:04.588 +07:00 [Information] Request finished in 3.2741ms 200 text/html; charset=utf-8
2018-11-11 17:12:12.533 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44302/api/v1/default/Index  
2018-11-11 17:12:12.534 +07:00 [Debug] The request path "/api/v1/default/Index" does not match a supported file type
2018-11-11 17:12:12.534 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:12:12.534 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:12:12.534 +07:00 [Debug] AuthenticationScheme: "Identity.Application" was not authenticated.
2018-11-11 17:12:12.534 +07:00 [Verbose] No endpoint entry found for request path: "/api/v1/default/Index"
2018-11-11 17:12:12.534 +07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/v1/default/Index"'.
2018-11-11 17:12:12.534 +07:00 [Debug] Executing action "AspNetCore.Controllers.TestController.Index (AspNetCore)"
2018-11-11 17:12:12.534 +07:00 [Verbose] HandleAuthenticateAsync called
2018-11-11 17:12:12.534 +07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
2018-11-11 17:12:12.535 +07:00 [Information] Authorization failed for user: null.
2018-11-11 17:12:12.535 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-11-11 17:12:12.540 +07:00 [Information] Executing ChallengeResult with authentication schemes (["Bearer"]).
2018-11-11 17:12:12.552 +07:00 [Verbose] Forwarding challenge to scheme: "BearerIdentityServerAuthenticationJwt"
2018-11-11 17:12:12.565 +07:00 [Information] AuthenticationScheme: "BearerIdentityServerAuthenticationJwt" was challenged.
2018-11-11 17:12:12.565 +07:00 [Information] AuthenticationScheme: "Bearer" was challenged.
2018-11-11 17:12:12.565 +07:00 [Information] Executed action "AspNetCore.Controllers.TestController.Index (AspNetCore)" in 30.7651ms
2018-11-11 17:12:12.565 +07:00 [Debug] Connection id ""0HLI7NO3T9DMF"" completed keep alive response.
2018-11-11 17:12:12.565 +07:00 [Information] Request finished in 31.7723ms 401 
2018-11-11 17:13:12.002 +07:00 [Debug] Connection id ""0HLI7NO3T9DMG"" received FIN.
2018-11-11 17:13:12.009 +07:00 [Debug] Connection id ""0HLI7NO3T9DMG"" disconnecting.
2018-11-11 17:13:12.016 +07:00 [Debug] Connection id ""0HLI7NO3T9DMG"" sending FIN.
2018-11-11 17:13:12.022 +07:00 [Debug] Connection id ""0HLI7NO3T9DMG"" stopped.
2018-11-11 17:14:13.895 +07:00 [Debug] Connection id ""0HLI7NO3T9DMF"" disconnecting.
2018-11-11 17:14:13.897 +07:00 [Debug] Connection id ""0HLI7NO3T9DMF"" sending FIN.
2018-11-11 17:14:13.897 +07:00 [Debug] Connection id ""0HLI7NO3T9DMF"" stopped.
